(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))r(u);new MutationObserver(u=>{for(const f of u)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&r(h)}).observe(document,{childList:!0,subtree:!0});function s(u){const f={};return u.integrity&&(f.integrity=u.integrity),u.referrerPolicy&&(f.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?f.credentials="include":u.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function r(u){if(u.ep)return;u.ep=!0;const f=s(u);fetch(u.href,f)}})();var Ec={exports:{}},Bs={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mg;function gb(){if(Mg)return Bs;Mg=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(r,u,f){var h=null;if(f!==void 0&&(h=""+f),u.key!==void 0&&(h=""+u.key),"key"in u){f={};for(var m in u)m!=="key"&&(f[m]=u[m])}else f=u;return u=f.ref,{$$typeof:l,type:r,key:h,ref:u!==void 0?u:null,props:f}}return Bs.Fragment=n,Bs.jsx=s,Bs.jsxs=s,Bs}var xg;function _b(){return xg||(xg=1,Ec.exports=gb()),Ec.exports}var w=_b(),Tc={exports:{}},$={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ig;function pb(){if(Ig)return $;Ig=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),u=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function A(v){return v===null||typeof v!="object"?null:(v=b&&v[b]||v["@@iterator"],typeof v=="function"?v:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},U=Object.assign,F={};function k(v,z,X){this.props=v,this.context=z,this.refs=F,this.updater=X||x}k.prototype.isReactComponent={},k.prototype.setState=function(v,z){if(typeof v!="object"&&typeof v!="function"&&v!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,v,z,"setState")},k.prototype.forceUpdate=function(v){this.updater.enqueueForceUpdate(this,v,"forceUpdate")};function re(){}re.prototype=k.prototype;function we(v,z,X){this.props=v,this.context=z,this.refs=F,this.updater=X||x}var ce=we.prototype=new re;ce.constructor=we,U(ce,k.prototype),ce.isPureReactComponent=!0;var Je=Array.isArray,oe={H:null,A:null,T:null,S:null},Ue=Object.prototype.hasOwnProperty;function ft(v,z,X,Y,j,fe){return X=fe.ref,{$$typeof:l,type:v,key:z,ref:X!==void 0?X:null,props:fe}}function qt(v,z){return ft(v.type,z,void 0,void 0,void 0,v.props)}function Q(v){return typeof v=="object"&&v!==null&&v.$$typeof===l}function _e(v){var z={"=":"=0",":":"=2"};return"$"+v.replace(/[=:]/g,function(X){return z[X]})}var Rt=/\/+/g;function on(v,z){return typeof v=="object"&&v!==null&&v.key!=null?_e(""+v.key):z.toString(36)}function Pt(){}function un(v){switch(v.status){case"fulfilled":return v.value;case"rejected":throw v.reason;default:switch(typeof v.status=="string"?v.then(Pt,Pt):(v.status="pending",v.then(function(z){v.status==="pending"&&(v.status="fulfilled",v.value=z)},function(z){v.status==="pending"&&(v.status="rejected",v.reason=z)})),v.status){case"fulfilled":return v.value;case"rejected":throw v.reason}}throw v}function ht(v,z,X,Y,j){var fe=typeof v;(fe==="undefined"||fe==="boolean")&&(v=null);var J=!1;if(v===null)J=!0;else switch(fe){case"bigint":case"string":case"number":J=!0;break;case"object":switch(v.$$typeof){case l:case n:J=!0;break;case E:return J=v._init,ht(J(v._payload),z,X,Y,j)}}if(J)return j=j(v),J=Y===""?"."+on(v,0):Y,Je(j)?(X="",J!=null&&(X=J.replace(Rt,"$&/")+"/"),ht(j,z,X,"",function(He){return He})):j!=null&&(Q(j)&&(j=qt(j,X+(j.key==null||v&&v.key===j.key?"":(""+j.key).replace(Rt,"$&/")+"/")+J)),z.push(j)),1;J=0;var rt=Y===""?".":Y+":";if(Je(v))for(var pe=0;pe<v.length;pe++)Y=v[pe],fe=rt+on(Y,pe),J+=ht(Y,z,X,fe,j);else if(pe=A(v),typeof pe=="function")for(v=pe.call(v),pe=0;!(Y=v.next()).done;)Y=Y.value,fe=rt+on(Y,pe++),J+=ht(Y,z,X,fe,j);else if(fe==="object"){if(typeof v.then=="function")return ht(un(v),z,X,Y,j);throw z=String(v),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(v).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return J}function H(v,z,X){if(v==null)return v;var Y=[],j=0;return ht(v,Y,"","",function(fe){return z.call(X,fe,j++)}),Y}function W(v){if(v._status===-1){var z=v._result;z=z(),z.then(function(X){(v._status===0||v._status===-1)&&(v._status=1,v._result=X)},function(X){(v._status===0||v._status===-1)&&(v._status=2,v._result=X)}),v._status===-1&&(v._status=0,v._result=z)}if(v._status===1)return v._result.default;throw v._result}var Z=typeof reportError=="function"?reportError:function(v){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof v=="object"&&v!==null&&typeof v.message=="string"?String(v.message):String(v),error:v});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",v);return}console.error(v)};function Ee(){}return $.Children={map:H,forEach:function(v,z,X){H(v,function(){z.apply(this,arguments)},X)},count:function(v){var z=0;return H(v,function(){z++}),z},toArray:function(v){return H(v,function(z){return z})||[]},only:function(v){if(!Q(v))throw Error("React.Children.only expected to receive a single React element child.");return v}},$.Component=k,$.Fragment=s,$.Profiler=u,$.PureComponent=we,$.StrictMode=r,$.Suspense=_,$.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,$.act=function(){throw Error("act(...) is not supported in production builds of React.")},$.cache=function(v){return function(){return v.apply(null,arguments)}},$.cloneElement=function(v,z,X){if(v==null)throw Error("The argument must be a React element, but you passed "+v+".");var Y=U({},v.props),j=v.key,fe=void 0;if(z!=null)for(J in z.ref!==void 0&&(fe=void 0),z.key!==void 0&&(j=""+z.key),z)!Ue.call(z,J)||J==="key"||J==="__self"||J==="__source"||J==="ref"&&z.ref===void 0||(Y[J]=z[J]);var J=arguments.length-2;if(J===1)Y.children=X;else if(1<J){for(var rt=Array(J),pe=0;pe<J;pe++)rt[pe]=arguments[pe+2];Y.children=rt}return ft(v.type,j,void 0,void 0,fe,Y)},$.createContext=function(v){return v={$$typeof:h,_currentValue:v,_currentValue2:v,_threadCount:0,Provider:null,Consumer:null},v.Provider=v,v.Consumer={$$typeof:f,_context:v},v},$.createElement=function(v,z,X){var Y,j={},fe=null;if(z!=null)for(Y in z.key!==void 0&&(fe=""+z.key),z)Ue.call(z,Y)&&Y!=="key"&&Y!=="__self"&&Y!=="__source"&&(j[Y]=z[Y]);var J=arguments.length-2;if(J===1)j.children=X;else if(1<J){for(var rt=Array(J),pe=0;pe<J;pe++)rt[pe]=arguments[pe+2];j.children=rt}if(v&&v.defaultProps)for(Y in J=v.defaultProps,J)j[Y]===void 0&&(j[Y]=J[Y]);return ft(v,fe,void 0,void 0,null,j)},$.createRef=function(){return{current:null}},$.forwardRef=function(v){return{$$typeof:m,render:v}},$.isValidElement=Q,$.lazy=function(v){return{$$typeof:E,_payload:{_status:-1,_result:v},_init:W}},$.memo=function(v,z){return{$$typeof:g,type:v,compare:z===void 0?null:z}},$.startTransition=function(v){var z=oe.T,X={};oe.T=X;try{var Y=v(),j=oe.S;j!==null&&j(X,Y),typeof Y=="object"&&Y!==null&&typeof Y.then=="function"&&Y.then(Ee,Z)}catch(fe){Z(fe)}finally{oe.T=z}},$.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},$.use=function(v){return oe.H.use(v)},$.useActionState=function(v,z,X){return oe.H.useActionState(v,z,X)},$.useCallback=function(v,z){return oe.H.useCallback(v,z)},$.useContext=function(v){return oe.H.useContext(v)},$.useDebugValue=function(){},$.useDeferredValue=function(v,z){return oe.H.useDeferredValue(v,z)},$.useEffect=function(v,z){return oe.H.useEffect(v,z)},$.useId=function(){return oe.H.useId()},$.useImperativeHandle=function(v,z,X){return oe.H.useImperativeHandle(v,z,X)},$.useInsertionEffect=function(v,z){return oe.H.useInsertionEffect(v,z)},$.useLayoutEffect=function(v,z){return oe.H.useLayoutEffect(v,z)},$.useMemo=function(v,z){return oe.H.useMemo(v,z)},$.useOptimistic=function(v,z){return oe.H.useOptimistic(v,z)},$.useReducer=function(v,z,X){return oe.H.useReducer(v,z,X)},$.useRef=function(v){return oe.H.useRef(v)},$.useState=function(v){return oe.H.useState(v)},$.useSyncExternalStore=function(v,z,X){return oe.H.useSyncExternalStore(v,z,X)},$.useTransition=function(){return oe.H.useTransition()},$.version="19.0.0",$}var zg;function af(){return zg||(zg=1,Tc.exports=pb()),Tc.exports}var ne=af(),Cc={exports:{}},qs={},Ac={exports:{}},Nc={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg;function yb(){return Lg||(Lg=1,function(l){function n(H,W){var Z=H.length;H.push(W);e:for(;0<Z;){var Ee=Z-1>>>1,v=H[Ee];if(0<u(v,W))H[Ee]=W,H[Z]=v,Z=Ee;else break e}}function s(H){return H.length===0?null:H[0]}function r(H){if(H.length===0)return null;var W=H[0],Z=H.pop();if(Z!==W){H[0]=Z;e:for(var Ee=0,v=H.length,z=v>>>1;Ee<z;){var X=2*(Ee+1)-1,Y=H[X],j=X+1,fe=H[j];if(0>u(Y,Z))j<v&&0>u(fe,Y)?(H[Ee]=fe,H[j]=Z,Ee=j):(H[Ee]=Y,H[X]=Z,Ee=X);else if(j<v&&0>u(fe,Z))H[Ee]=fe,H[j]=Z,Ee=j;else break e}}return W}function u(H,W){var Z=H.sortIndex-W.sortIndex;return Z!==0?Z:H.id-W.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,m=h.now();l.unstable_now=function(){return h.now()-m}}var _=[],g=[],E=1,b=null,A=3,x=!1,U=!1,F=!1,k=typeof setTimeout=="function"?setTimeout:null,re=typeof clearTimeout=="function"?clearTimeout:null,we=typeof setImmediate<"u"?setImmediate:null;function ce(H){for(var W=s(g);W!==null;){if(W.callback===null)r(g);else if(W.startTime<=H)r(g),W.sortIndex=W.expirationTime,n(_,W);else break;W=s(g)}}function Je(H){if(F=!1,ce(H),!U)if(s(_)!==null)U=!0,un();else{var W=s(g);W!==null&&ht(Je,W.startTime-H)}}var oe=!1,Ue=-1,ft=5,qt=-1;function Q(){return!(l.unstable_now()-qt<ft)}function _e(){if(oe){var H=l.unstable_now();qt=H;var W=!0;try{e:{U=!1,F&&(F=!1,re(Ue),Ue=-1),x=!0;var Z=A;try{t:{for(ce(H),b=s(_);b!==null&&!(b.expirationTime>H&&Q());){var Ee=b.callback;if(typeof Ee=="function"){b.callback=null,A=b.priorityLevel;var v=Ee(b.expirationTime<=H);if(H=l.unstable_now(),typeof v=="function"){b.callback=v,ce(H),W=!0;break t}b===s(_)&&r(_),ce(H)}else r(_);b=s(_)}if(b!==null)W=!0;else{var z=s(g);z!==null&&ht(Je,z.startTime-H),W=!1}}break e}finally{b=null,A=Z,x=!1}W=void 0}}finally{W?Rt():oe=!1}}}var Rt;if(typeof we=="function")Rt=function(){we(_e)};else if(typeof MessageChannel<"u"){var on=new MessageChannel,Pt=on.port2;on.port1.onmessage=_e,Rt=function(){Pt.postMessage(null)}}else Rt=function(){k(_e,0)};function un(){oe||(oe=!0,Rt())}function ht(H,W){Ue=k(function(){H(l.unstable_now())},W)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(H){H.callback=null},l.unstable_continueExecution=function(){U||x||(U=!0,un())},l.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ft=0<H?Math.floor(1e3/H):5},l.unstable_getCurrentPriorityLevel=function(){return A},l.unstable_getFirstCallbackNode=function(){return s(_)},l.unstable_next=function(H){switch(A){case 1:case 2:case 3:var W=3;break;default:W=A}var Z=A;A=W;try{return H()}finally{A=Z}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(H,W){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=A;A=H;try{return W()}finally{A=Z}},l.unstable_scheduleCallback=function(H,W,Z){var Ee=l.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?Ee+Z:Ee):Z=Ee,H){case 1:var v=-1;break;case 2:v=250;break;case 5:v=1073741823;break;case 4:v=1e4;break;default:v=5e3}return v=Z+v,H={id:E++,callback:W,priorityLevel:H,startTime:Z,expirationTime:v,sortIndex:-1},Z>Ee?(H.sortIndex=Z,n(g,H),s(_)===null&&H===s(g)&&(F?(re(Ue),Ue=-1):F=!0,ht(Je,Z-Ee))):(H.sortIndex=v,n(_,H),U||x||(U=!0,un())),H},l.unstable_shouldYield=Q,l.unstable_wrapCallback=function(H){var W=A;return function(){var Z=A;A=W;try{return H.apply(this,arguments)}finally{A=Z}}}}(Nc)),Nc}var Ug;function vb(){return Ug||(Ug=1,Ac.exports=yb()),Ac.exports}var wc={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kg;function bb(){if(kg)return st;kg=1;var l=af();function n(_){var g="https://react.dev/errors/"+_;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+_+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(n(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},u=Symbol.for("react.portal");function f(_,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:b==null?null:""+b,children:_,containerInfo:g,implementation:E}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(_,g){if(_==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,st.createPortal=function(_,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(n(299));return f(_,g,null,E)},st.flushSync=function(_){var g=h.T,E=r.p;try{if(h.T=null,r.p=2,_)return _()}finally{h.T=g,r.p=E,r.d.f()}},st.preconnect=function(_,g){typeof _=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(_,g))},st.prefetchDNS=function(_){typeof _=="string"&&r.d.D(_)},st.preinit=function(_,g){if(typeof _=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),A=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?r.d.S(_,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:A,fetchPriority:x}):E==="script"&&r.d.X(_,{crossOrigin:b,integrity:A,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},st.preinitModule=function(_,g){if(typeof _=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);r.d.M(_,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(_)},st.preload=function(_,g){if(typeof _=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);r.d.L(_,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},st.preloadModule=function(_,g){if(typeof _=="string")if(g){var E=m(g.as,g.crossOrigin);r.d.m(_,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(_)},st.requestFormReset=function(_){r.d.r(_)},st.unstable_batchedUpdates=function(_,g){return _(g)},st.useFormState=function(_,g,E){return h.H.useFormState(_,g,E)},st.useFormStatus=function(){return h.H.useHostTransitionStatus()},st.version="19.0.0",st}var Hg;function Sb(){if(Hg)return wc.exports;Hg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),wc.exports=bb(),wc.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jg;function Eb(){if(jg)return qs;jg=1;var l=vb(),n=af(),s=Sb();function r(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var i=2;i<arguments.length;i++)t+="&args[]="+encodeURIComponent(arguments[i])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var f=Symbol.for("react.element"),h=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),g=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),A=Symbol.for("react.consumer"),x=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),re=Symbol.for("react.memo"),we=Symbol.for("react.lazy"),ce=Symbol.for("react.offscreen"),Je=Symbol.for("react.memo_cache_sentinel"),oe=Symbol.iterator;function Ue(e){return e===null||typeof e!="object"?null:(e=oe&&e[oe]||e["@@iterator"],typeof e=="function"?e:null)}var ft=Symbol.for("react.client.reference");function qt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ft?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case m:return"Portal";case E:return"Profiler";case g:return"StrictMode";case F:return"Suspense";case k:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case x:return(e.displayName||"Context")+".Provider";case A:return(e._context.displayName||"Context")+".Consumer";case U:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case re:return t=e.displayName||null,t!==null?t:qt(e.type)||"Memo";case we:t=e._payload,e=e._init;try{return qt(e(t))}catch{}}return null}var Q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,_e=Object.assign,Rt,on;function Pt(e){if(Rt===void 0)try{throw Error()}catch(i){var t=i.stack.trim().match(/\n( *(at )?)/);Rt=t&&t[1]||"",on=-1<i.stack.indexOf(`
    at`)?" (<anonymous>)":-1<i.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Rt+e+on}var un=!1;function ht(e,t){if(!e||un)return"";un=!0;var i=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(t){var I=function(){throw Error()};if(Object.defineProperty(I.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(I,[])}catch(D){var R=D}Reflect.construct(e,[],I)}else{try{I.call()}catch(D){R=D}e.call(I.prototype)}}else{try{throw Error()}catch(D){R=D}(I=e())&&typeof I.catch=="function"&&I.catch(function(){})}}catch(D){if(D&&R&&typeof D.stack=="string")return[D.stack,R.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=a.DetermineComponentFrameRoot(),d=c[0],p=c[1];if(d&&p){var y=d.split(`
`),T=p.split(`
`);for(o=a=0;a<y.length&&!y[a].includes("DetermineComponentFrameRoot");)a++;for(;o<T.length&&!T[o].includes("DetermineComponentFrameRoot");)o++;if(a===y.length||o===T.length)for(a=y.length-1,o=T.length-1;1<=a&&0<=o&&y[a]!==T[o];)o--;for(;1<=a&&0<=o;a--,o--)if(y[a]!==T[o]){if(a!==1||o!==1)do if(a--,o--,0>o||y[a]!==T[o]){var O=`
`+y[a].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=a&&0<=o);break}}}finally{un=!1,Error.prepareStackTrace=i}return(i=e?e.displayName||e.name:"")?Pt(i):""}function H(e){switch(e.tag){case 26:case 27:case 5:return Pt(e.type);case 16:return Pt("Lazy");case 13:return Pt("Suspense");case 19:return Pt("SuspenseList");case 0:case 15:return e=ht(e.type,!1),e;case 11:return e=ht(e.type.render,!1),e;case 1:return e=ht(e.type,!0),e;default:return""}}function W(e){try{var t="";do t+=H(e),e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}function Z(e){var t=e,i=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(i=t.return),e=t.return;while(e)}return t.tag===3?i:null}function Ee(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function v(e){if(Z(e)!==e)throw Error(r(188))}function z(e){var t=e.alternate;if(!t){if(t=Z(e),t===null)throw Error(r(188));return t!==e?null:e}for(var i=e,a=t;;){var o=i.return;if(o===null)break;var c=o.alternate;if(c===null){if(a=o.return,a!==null){i=a;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===i)return v(o),e;if(c===a)return v(o),t;c=c.sibling}throw Error(r(188))}if(i.return!==a.return)i=o,a=c;else{for(var d=!1,p=o.child;p;){if(p===i){d=!0,i=o,a=c;break}if(p===a){d=!0,a=o,i=c;break}p=p.sibling}if(!d){for(p=c.child;p;){if(p===i){d=!0,i=c,a=o;break}if(p===a){d=!0,a=c,i=o;break}p=p.sibling}if(!d)throw Error(r(189))}}if(i.alternate!==a)throw Error(r(190))}if(i.tag!==3)throw Error(r(188));return i.stateNode.current===i?e:t}function X(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=X(e),t!==null)return t;e=e.sibling}return null}var Y=Array.isArray,j=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},J=[],rt=-1;function pe(e){return{current:e}}function He(e){0>rt||(e.current=J[rt],J[rt]=null,rt--)}function De(e,t){rt++,J[rt]=e.current,e.current=t}var Wt=pe(null),Yl=pe(null),kn=pe(null),pa=pe(null);function ya(e,t){switch(De(kn,t),De(Yl,e),De(Wt,null),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)&&(t=t.namespaceURI)?ag(t):0;break;default:if(e=e===8?t.parentNode:t,t=e.tagName,e=e.namespaceURI)e=ag(e),t=rg(e,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}He(Wt),De(Wt,t)}function Zi(){He(Wt),He(Yl),He(kn)}function ho(e){e.memoizedState!==null&&De(pa,e);var t=Wt.current,i=rg(t,e.type);t!==i&&(De(Yl,e),De(Wt,i))}function va(e){Yl.current===e&&(He(Wt),He(Yl)),pa.current===e&&(He(pa),Ls._currentValue=fe)}var mo=Object.prototype.hasOwnProperty,go=l.unstable_scheduleCallback,_o=l.unstable_cancelCallback,Xy=l.unstable_shouldYield,Ky=l.unstable_requestPaint,$t=l.unstable_now,Zy=l.unstable_getCurrentPriorityLevel,Zf=l.unstable_ImmediatePriority,Pf=l.unstable_UserBlockingPriority,ba=l.unstable_NormalPriority,Py=l.unstable_LowPriority,Wf=l.unstable_IdlePriority,Wy=l.log,$y=l.unstable_setDisableYieldValue,Vl=null,bt=null;function Jy(e){if(bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Vl,e,void 0,(e.current.flags&128)===128)}catch{}}function Hn(e){if(typeof Wy=="function"&&$y(e),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Vl,e)}catch{}}var St=Math.clz32?Math.clz32:nv,ev=Math.log,tv=Math.LN2;function nv(e){return e>>>=0,e===0?32:31-(ev(e)/tv|0)|0}var Sa=128,Ea=4194304;function gi(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Ta(e,t){var i=e.pendingLanes;if(i===0)return 0;var a=0,o=e.suspendedLanes,c=e.pingedLanes,d=e.warmLanes;e=e.finishedLanes!==0;var p=i&134217727;return p!==0?(i=p&~o,i!==0?a=gi(i):(c&=p,c!==0?a=gi(c):e||(d=p&~d,d!==0&&(a=gi(d))))):(p=i&~o,p!==0?a=gi(p):c!==0?a=gi(c):e||(d=i&~d,d!==0&&(a=gi(d)))),a===0?0:t!==0&&t!==a&&(t&o)===0&&(o=a&-a,d=t&-t,o>=d||o===32&&(d&4194176)!==0)?t:a}function Fl(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function iv(e,t){switch(e){case 1:case 2:case 4:case 8:return t+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $f(){var e=Sa;return Sa<<=1,(Sa&4194176)===0&&(Sa=128),e}function Jf(){var e=Ea;return Ea<<=1,(Ea&62914560)===0&&(Ea=4194304),e}function po(e){for(var t=[],i=0;31>i;i++)t.push(e);return t}function Ql(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function lv(e,t,i,a,o,c){var d=e.pendingLanes;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=i,e.entangledLanes&=i,e.errorRecoveryDisabledLanes&=i,e.shellSuspendCounter=0;var p=e.entanglements,y=e.expirationTimes,T=e.hiddenUpdates;for(i=d&~i;0<i;){var O=31-St(i),I=1<<O;p[O]=0,y[O]=-1;var R=T[O];if(R!==null)for(T[O]=null,O=0;O<R.length;O++){var D=R[O];D!==null&&(D.lane&=-536870913)}i&=~I}a!==0&&eh(e,a,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(d&~t))}function eh(e,t,i){e.pendingLanes|=t,e.suspendedLanes&=~t;var a=31-St(t);e.entangledLanes|=t,e.entanglements[a]=e.entanglements[a]|1073741824|i&4194218}function th(e,t){var i=e.entangledLanes|=t;for(e=e.entanglements;i;){var a=31-St(i),o=1<<a;o&t|e[a]&t&&(e[a]|=t),i&=~o}}function nh(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ih(){var e=j.p;return e!==0?e:(e=window.event,e===void 0?32:Ag(e.type))}function sv(e,t){var i=j.p;try{return j.p=e,t()}finally{j.p=i}}var jn=Math.random().toString(36).slice(2),it="__reactFiber$"+jn,dt="__reactProps$"+jn,Pi="__reactContainer$"+jn,yo="__reactEvents$"+jn,av="__reactListeners$"+jn,rv="__reactHandles$"+jn,lh="__reactResources$"+jn,Xl="__reactMarker$"+jn;function vo(e){delete e[it],delete e[dt],delete e[yo],delete e[av],delete e[rv]}function _i(e){var t=e[it];if(t)return t;for(var i=e.parentNode;i;){if(t=i[Pi]||i[it]){if(i=t.alternate,t.child!==null||i!==null&&i.child!==null)for(e=cg(e);e!==null;){if(i=e[it])return i;e=cg(e)}return t}e=i,i=e.parentNode}return null}function Wi(e){if(e=e[it]||e[Pi]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function Kl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(r(33))}function $i(e){var t=e[lh];return t||(t=e[lh]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Qe(e){e[Xl]=!0}var sh=new Set,ah={};function pi(e,t){Ji(e,t),Ji(e+"Capture",t)}function Ji(e,t){for(ah[e]=t,e=0;e<t.length;e++)sh.add(t[e])}var cn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ov=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),rh={},oh={};function uv(e){return mo.call(oh,e)?!0:mo.call(rh,e)?!1:ov.test(e)?oh[e]=!0:(rh[e]=!0,!1)}function Ca(e,t,i){if(uv(t))if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var a=t.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+i)}}function Aa(e,t,i){if(i===null)e.removeAttribute(t);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+i)}}function fn(e,t,i,a){if(a===null)e.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttributeNS(t,i,""+a)}}function Dt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function uh(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function cv(e){var t=uh(e)?"checked":"value",i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,c=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(d){a=""+d,c.call(this,d)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(d){a=""+d},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Na(e){e._valueTracker||(e._valueTracker=cv(e))}function ch(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var i=t.getValue(),a="";return e&&(a=uh(e)?e.checked?"true":"false":e.value),e=a,e!==i?(t.setValue(e),!0):!1}function wa(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fv=/[\n"\\]/g;function Ot(e){return e.replace(fv,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function bo(e,t,i,a,o,c,d,p){e.name="",d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"?e.type=d:e.removeAttribute("type"),t!=null?d==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Dt(t)):e.value!==""+Dt(t)&&(e.value=""+Dt(t)):d!=="submit"&&d!=="reset"||e.removeAttribute("value"),t!=null?So(e,d,Dt(t)):i!=null?So(e,d,Dt(i)):a!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"?e.name=""+Dt(p):e.removeAttribute("name")}function fh(e,t,i,a,o,c,d,p){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||i!=null){if(!(c!=="submit"&&c!=="reset"||t!=null))return;i=i!=null?""+Dt(i):"",t=t!=null?""+Dt(t):i,p||t===e.value||(e.value=t),e.defaultValue=t}a=a??o,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=p?e.checked:!!a,e.defaultChecked=!!a,d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(e.name=d)}function So(e,t,i){t==="number"&&wa(e.ownerDocument)===e||e.defaultValue===""+i||(e.defaultValue=""+i)}function el(e,t,i,a){if(e=e.options,t){t={};for(var o=0;o<i.length;o++)t["$"+i[o]]=!0;for(i=0;i<e.length;i++)o=t.hasOwnProperty("$"+e[i].value),e[i].selected!==o&&(e[i].selected=o),o&&a&&(e[i].defaultSelected=!0)}else{for(i=""+Dt(i),t=null,o=0;o<e.length;o++){if(e[o].value===i){e[o].selected=!0,a&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function hh(e,t,i){if(t!=null&&(t=""+Dt(t),t!==e.value&&(e.value=t),i==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=i!=null?""+Dt(i):""}function dh(e,t,i,a){if(t==null){if(a!=null){if(i!=null)throw Error(r(92));if(Y(a)){if(1<a.length)throw Error(r(93));a=a[0]}i=a}i==null&&(i=""),t=i}i=Dt(t),e.defaultValue=i,a=e.textContent,a===i&&a!==""&&a!==null&&(e.value=a)}function tl(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&i.nodeType===3){i.nodeValue=t;return}}e.textContent=t}var hv=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function mh(e,t,i){var a=t.indexOf("--")===0;i==null||typeof i=="boolean"||i===""?a?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":a?e.setProperty(t,i):typeof i!="number"||i===0||hv.has(t)?t==="float"?e.cssFloat=i:e[t]=(""+i).trim():e[t]=i+"px"}function gh(e,t,i){if(t!=null&&typeof t!="object")throw Error(r(62));if(e=e.style,i!=null){for(var a in i)!i.hasOwnProperty(a)||t!=null&&t.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var o in t)a=t[o],t.hasOwnProperty(o)&&i[o]!==a&&mh(e,o,a)}else for(var c in t)t.hasOwnProperty(c)&&mh(e,c,t[c])}function Eo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var dv=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),mv=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ra(e){return mv.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var To=null;function Co(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var nl=null,il=null;function _h(e){var t=Wi(e);if(t&&(e=t.stateNode)){var i=e[dt]||null;e:switch(e=t.stateNode,t.type){case"input":if(bo(e,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name),t=i.name,i.type==="radio"&&t!=null){for(i=e;i.parentNode;)i=i.parentNode;for(i=i.querySelectorAll('input[name="'+Ot(""+t)+'"][type="radio"]'),t=0;t<i.length;t++){var a=i[t];if(a!==e&&a.form===e.form){var o=a[dt]||null;if(!o)throw Error(r(90));bo(a,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<i.length;t++)a=i[t],a.form===e.form&&ch(a)}break e;case"textarea":hh(e,i.value,i.defaultValue);break e;case"select":t=i.value,t!=null&&el(e,!!i.multiple,t,!1)}}}var Ao=!1;function ph(e,t,i){if(Ao)return e(t,i);Ao=!0;try{var a=e(t);return a}finally{if(Ao=!1,(nl!==null||il!==null)&&(fr(),nl&&(t=nl,e=il,il=nl=null,_h(t),e)))for(t=0;t<e.length;t++)_h(e[t])}}function Zl(e,t){var i=e.stateNode;if(i===null)return null;var a=i[dt]||null;if(a===null)return null;i=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(i&&typeof i!="function")throw Error(r(231,t,typeof i));return i}var No=!1;if(cn)try{var Pl={};Object.defineProperty(Pl,"passive",{get:function(){No=!0}}),window.addEventListener("test",Pl,Pl),window.removeEventListener("test",Pl,Pl)}catch{No=!1}var Bn=null,wo=null,Da=null;function yh(){if(Da)return Da;var e,t=wo,i=t.length,a,o="value"in Bn?Bn.value:Bn.textContent,c=o.length;for(e=0;e<i&&t[e]===o[e];e++);var d=i-e;for(a=1;a<=d&&t[i-a]===o[c-a];a++);return Da=o.slice(e,1<a?1-a:void 0)}function Oa(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ma(){return!0}function vh(){return!1}function mt(e){function t(i,a,o,c,d){this._reactName=i,this._targetInst=o,this.type=a,this.nativeEvent=c,this.target=d,this.currentTarget=null;for(var p in e)e.hasOwnProperty(p)&&(i=e[p],this[p]=i?i(c):c[p]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?Ma:vh,this.isPropagationStopped=vh,this}return _e(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var i=this.nativeEvent;i&&(i.preventDefault?i.preventDefault():typeof i.returnValue!="unknown"&&(i.returnValue=!1),this.isDefaultPrevented=Ma)},stopPropagation:function(){var i=this.nativeEvent;i&&(i.stopPropagation?i.stopPropagation():typeof i.cancelBubble!="unknown"&&(i.cancelBubble=!0),this.isPropagationStopped=Ma)},persist:function(){},isPersistent:Ma}),t}var yi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xa=mt(yi),Wl=_e({},yi,{view:0,detail:0}),gv=mt(Wl),Ro,Do,$l,Ia=_e({},Wl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Mo,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==$l&&($l&&e.type==="mousemove"?(Ro=e.screenX-$l.screenX,Do=e.screenY-$l.screenY):Do=Ro=0,$l=e),Ro)},movementY:function(e){return"movementY"in e?e.movementY:Do}}),bh=mt(Ia),_v=_e({},Ia,{dataTransfer:0}),pv=mt(_v),yv=_e({},Wl,{relatedTarget:0}),Oo=mt(yv),vv=_e({},yi,{animationName:0,elapsedTime:0,pseudoElement:0}),bv=mt(vv),Sv=_e({},yi,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ev=mt(Sv),Tv=_e({},yi,{data:0}),Sh=mt(Tv),Cv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Av={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wv(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Nv[e])?!!t[e]:!1}function Mo(){return wv}var Rv=_e({},Wl,{key:function(e){if(e.key){var t=Cv[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Oa(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Av[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Mo,charCode:function(e){return e.type==="keypress"?Oa(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Oa(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Dv=mt(Rv),Ov=_e({},Ia,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Eh=mt(Ov),Mv=_e({},Wl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Mo}),xv=mt(Mv),Iv=_e({},yi,{propertyName:0,elapsedTime:0,pseudoElement:0}),zv=mt(Iv),Lv=_e({},Ia,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uv=mt(Lv),kv=_e({},yi,{newState:0,oldState:0}),Hv=mt(kv),jv=[9,13,27,32],xo=cn&&"CompositionEvent"in window,Jl=null;cn&&"documentMode"in document&&(Jl=document.documentMode);var Bv=cn&&"TextEvent"in window&&!Jl,Th=cn&&(!xo||Jl&&8<Jl&&11>=Jl),Ch=" ",Ah=!1;function Nh(e,t){switch(e){case"keyup":return jv.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ll=!1;function qv(e,t){switch(e){case"compositionend":return wh(t);case"keypress":return t.which!==32?null:(Ah=!0,Ch);case"textInput":return e=t.data,e===Ch&&Ah?null:e;default:return null}}function Gv(e,t){if(ll)return e==="compositionend"||!xo&&Nh(e,t)?(e=yh(),Da=wo=Bn=null,ll=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Th&&t.locale!=="ko"?null:t.data;default:return null}}var Yv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Yv[e.type]:t==="textarea"}function Dh(e,t,i,a){nl?il?il.push(a):il=[a]:nl=a,t=_r(t,"onChange"),0<t.length&&(i=new xa("onChange","change",null,i,a),e.push({event:i,listeners:t}))}var es=null,ts=null;function Vv(e){tg(e,0)}function za(e){var t=Kl(e);if(ch(t))return e}function Oh(e,t){if(e==="change")return t}var Mh=!1;if(cn){var Io;if(cn){var zo="oninput"in document;if(!zo){var xh=document.createElement("div");xh.setAttribute("oninput","return;"),zo=typeof xh.oninput=="function"}Io=zo}else Io=!1;Mh=Io&&(!document.documentMode||9<document.documentMode)}function Ih(){es&&(es.detachEvent("onpropertychange",zh),ts=es=null)}function zh(e){if(e.propertyName==="value"&&za(ts)){var t=[];Dh(t,ts,e,Co(e)),ph(Vv,t)}}function Fv(e,t,i){e==="focusin"?(Ih(),es=t,ts=i,es.attachEvent("onpropertychange",zh)):e==="focusout"&&Ih()}function Qv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return za(ts)}function Xv(e,t){if(e==="click")return za(t)}function Kv(e,t){if(e==="input"||e==="change")return za(t)}function Zv(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Et=typeof Object.is=="function"?Object.is:Zv;function ns(e,t){if(Et(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!1;for(a=0;a<i.length;a++){var o=i[a];if(!mo.call(t,o)||!Et(e[o],t[o]))return!1}return!0}function Lh(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Uh(e,t){var i=Lh(e);e=0;for(var a;i;){if(i.nodeType===3){if(a=e+i.textContent.length,e<=t&&a>=t)return{node:i,offset:t-e};e=a}e:{for(;i;){if(i.nextSibling){i=i.nextSibling;break e}i=i.parentNode}i=void 0}i=Lh(i)}}function kh(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?kh(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Hh(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=wa(e.document);t instanceof e.HTMLIFrameElement;){try{var i=typeof t.contentWindow.location.href=="string"}catch{i=!1}if(i)e=t.contentWindow;else break;t=wa(e.document)}return t}function Lo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Pv(e,t){var i=Hh(t);t=e.focusedElem;var a=e.selectionRange;if(i!==t&&t&&t.ownerDocument&&kh(t.ownerDocument.documentElement,t)){if(a!==null&&Lo(t)){if(e=a.start,i=a.end,i===void 0&&(i=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(i,t.value.length);else if(i=(e=t.ownerDocument||document)&&e.defaultView||window,i.getSelection){i=i.getSelection();var o=t.textContent.length,c=Math.min(a.start,o);a=a.end===void 0?c:Math.min(a.end,o),!i.extend&&c>a&&(o=a,a=c,c=o),o=Uh(t,c);var d=Uh(t,a);o&&d&&(i.rangeCount!==1||i.anchorNode!==o.node||i.anchorOffset!==o.offset||i.focusNode!==d.node||i.focusOffset!==d.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),i.removeAllRanges(),c>a?(i.addRange(e),i.extend(d.node,d.offset)):(e.setEnd(d.node,d.offset),i.addRange(e)))}}for(e=[],i=t;i=i.parentNode;)i.nodeType===1&&e.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)i=e[t],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Wv=cn&&"documentMode"in document&&11>=document.documentMode,sl=null,Uo=null,is=null,ko=!1;function jh(e,t,i){var a=i.window===i?i.document:i.nodeType===9?i:i.ownerDocument;ko||sl==null||sl!==wa(a)||(a=sl,"selectionStart"in a&&Lo(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),is&&ns(is,a)||(is=a,a=_r(Uo,"onSelect"),0<a.length&&(t=new xa("onSelect","select",null,t,i),e.push({event:t,listeners:a}),t.target=sl)))}function vi(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i}var al={animationend:vi("Animation","AnimationEnd"),animationiteration:vi("Animation","AnimationIteration"),animationstart:vi("Animation","AnimationStart"),transitionrun:vi("Transition","TransitionRun"),transitionstart:vi("Transition","TransitionStart"),transitioncancel:vi("Transition","TransitionCancel"),transitionend:vi("Transition","TransitionEnd")},Ho={},Bh={};cn&&(Bh=document.createElement("div").style,"AnimationEvent"in window||(delete al.animationend.animation,delete al.animationiteration.animation,delete al.animationstart.animation),"TransitionEvent"in window||delete al.transitionend.transition);function bi(e){if(Ho[e])return Ho[e];if(!al[e])return e;var t=al[e],i;for(i in t)if(t.hasOwnProperty(i)&&i in Bh)return Ho[e]=t[i];return e}var qh=bi("animationend"),Gh=bi("animationiteration"),Yh=bi("animationstart"),$v=bi("transitionrun"),Jv=bi("transitionstart"),e0=bi("transitioncancel"),Vh=bi("transitionend"),Fh=new Map,Qh="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Gt(e,t){Fh.set(e,t),pi(t,[e])}var Mt=[],rl=0,jo=0;function La(){for(var e=rl,t=jo=rl=0;t<e;){var i=Mt[t];Mt[t++]=null;var a=Mt[t];Mt[t++]=null;var o=Mt[t];Mt[t++]=null;var c=Mt[t];if(Mt[t++]=null,a!==null&&o!==null){var d=a.pending;d===null?o.next=o:(o.next=d.next,d.next=o),a.pending=o}c!==0&&Xh(i,o,c)}}function Ua(e,t,i,a){Mt[rl++]=e,Mt[rl++]=t,Mt[rl++]=i,Mt[rl++]=a,jo|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function Bo(e,t,i,a){return Ua(e,t,i,a),ka(e)}function qn(e,t){return Ua(e,null,null,t),ka(e)}function Xh(e,t,i){e.lanes|=i;var a=e.alternate;a!==null&&(a.lanes|=i);for(var o=!1,c=e.return;c!==null;)c.childLanes|=i,a=c.alternate,a!==null&&(a.childLanes|=i),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;o&&t!==null&&e.tag===3&&(c=e.stateNode,o=31-St(i),c=c.hiddenUpdates,e=c[o],e===null?c[o]=[t]:e.push(t),t.lane=i|536870912)}function ka(e){if(50<Rs)throw Rs=0,Qu=null,Error(r(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ol={},Kh=new WeakMap;function xt(e,t){if(typeof e=="object"&&e!==null){var i=Kh.get(e);return i!==void 0?i:(t={value:e,source:t,stack:W(t)},Kh.set(e,t),t)}return{value:e,source:t,stack:W(t)}}var ul=[],cl=0,Ha=null,ja=0,It=[],zt=0,Si=null,hn=1,dn="";function Ei(e,t){ul[cl++]=ja,ul[cl++]=Ha,Ha=e,ja=t}function Zh(e,t,i){It[zt++]=hn,It[zt++]=dn,It[zt++]=Si,Si=e;var a=hn;e=dn;var o=32-St(a)-1;a&=~(1<<o),i+=1;var c=32-St(t)+o;if(30<c){var d=o-o%5;c=(a&(1<<d)-1).toString(32),a>>=d,o-=d,hn=1<<32-St(t)+o|i<<o|a,dn=c+e}else hn=1<<c|i<<o|a,dn=e}function qo(e){e.return!==null&&(Ei(e,1),Zh(e,1,0))}function Go(e){for(;e===Ha;)Ha=ul[--cl],ul[cl]=null,ja=ul[--cl],ul[cl]=null;for(;e===Si;)Si=It[--zt],It[zt]=null,dn=It[--zt],It[zt]=null,hn=It[--zt],It[zt]=null}var ot=null,et=null,de=!1,Yt=null,Jt=!1,Yo=Error(r(519));function Ti(e){var t=Error(r(418,""));throw as(xt(t,e)),Yo}function Ph(e){var t=e.stateNode,i=e.type,a=e.memoizedProps;switch(t[it]=e,t[dt]=a,i){case"dialog":ue("cancel",t),ue("close",t);break;case"iframe":case"object":case"embed":ue("load",t);break;case"video":case"audio":for(i=0;i<Os.length;i++)ue(Os[i],t);break;case"source":ue("error",t);break;case"img":case"image":case"link":ue("error",t),ue("load",t);break;case"details":ue("toggle",t);break;case"input":ue("invalid",t),fh(t,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0),Na(t);break;case"select":ue("invalid",t);break;case"textarea":ue("invalid",t),dh(t,a.value,a.defaultValue,a.children),Na(t)}i=a.children,typeof i!="string"&&typeof i!="number"&&typeof i!="bigint"||t.textContent===""+i||a.suppressHydrationWarning===!0||sg(t.textContent,i)?(a.popover!=null&&(ue("beforetoggle",t),ue("toggle",t)),a.onScroll!=null&&ue("scroll",t),a.onScrollEnd!=null&&ue("scrollend",t),a.onClick!=null&&(t.onclick=pr),t=!0):t=!1,t||Ti(e)}function Wh(e){for(ot=e.return;ot;)switch(ot.tag){case 3:case 27:Jt=!0;return;case 5:case 13:Jt=!1;return;default:ot=ot.return}}function ls(e){if(e!==ot)return!1;if(!de)return Wh(e),de=!0,!1;var t=!1,i;if((i=e.tag!==3&&e.tag!==27)&&((i=e.tag===5)&&(i=e.type,i=!(i!=="form"&&i!=="button")||uc(e.type,e.memoizedProps)),i=!i),i&&(t=!0),t&&et&&Ti(e),Wh(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(i=e.data,i==="/$"){if(t===0){et=Ft(e.nextSibling);break e}t--}else i!=="$"&&i!=="$!"&&i!=="$?"||t++;e=e.nextSibling}et=null}}else et=ot?Ft(e.stateNode.nextSibling):null;return!0}function ss(){et=ot=null,de=!1}function as(e){Yt===null?Yt=[e]:Yt.push(e)}var rs=Error(r(460)),$h=Error(r(474)),Vo={then:function(){}};function Jh(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Ba(){}function ed(e,t,i){switch(i=e[i],i===void 0?e.push(t):i!==t&&(t.then(Ba,Ba),t=i),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===rs?Error(r(483)):e;default:if(typeof t.status=="string")t.then(Ba,Ba);else{if(e=Te,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=t,e.status="pending",e.then(function(a){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=a}},function(a){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=a}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,e===rs?Error(r(483)):e}throw os=t,rs}}var os=null;function td(){if(os===null)throw Error(r(459));var e=os;return os=null,e}var fl=null,us=0;function qa(e){var t=us;return us+=1,fl===null&&(fl=[]),ed(fl,e,t)}function cs(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function Ga(e,t){throw t.$$typeof===f?Error(r(525)):(e=Object.prototype.toString.call(t),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function nd(e){var t=e._init;return t(e._payload)}function id(e){function t(C,S){if(e){var N=C.deletions;N===null?(C.deletions=[S],C.flags|=16):N.push(S)}}function i(C,S){if(!e)return null;for(;S!==null;)t(C,S),S=S.sibling;return null}function a(C){for(var S=new Map;C!==null;)C.key!==null?S.set(C.key,C):S.set(C.index,C),C=C.sibling;return S}function o(C,S){return C=Jn(C,S),C.index=0,C.sibling=null,C}function c(C,S,N){return C.index=N,e?(N=C.alternate,N!==null?(N=N.index,N<S?(C.flags|=33554434,S):N):(C.flags|=33554434,S)):(C.flags|=1048576,S)}function d(C){return e&&C.alternate===null&&(C.flags|=33554434),C}function p(C,S,N,M){return S===null||S.tag!==6?(S=Hu(N,C.mode,M),S.return=C,S):(S=o(S,N),S.return=C,S)}function y(C,S,N,M){var B=N.type;return B===_?O(C,S,N.props.children,M,N.key):S!==null&&(S.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===we&&nd(B)===S.type)?(S=o(S,N.props),cs(S,N),S.return=C,S):(S=ar(N.type,N.key,N.props,null,C.mode,M),cs(S,N),S.return=C,S)}function T(C,S,N,M){return S===null||S.tag!==4||S.stateNode.containerInfo!==N.containerInfo||S.stateNode.implementation!==N.implementation?(S=ju(N,C.mode,M),S.return=C,S):(S=o(S,N.children||[]),S.return=C,S)}function O(C,S,N,M,B){return S===null||S.tag!==7?(S=Ii(N,C.mode,M,B),S.return=C,S):(S=o(S,N),S.return=C,S)}function I(C,S,N){if(typeof S=="string"&&S!==""||typeof S=="number"||typeof S=="bigint")return S=Hu(""+S,C.mode,N),S.return=C,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case h:return N=ar(S.type,S.key,S.props,null,C.mode,N),cs(N,S),N.return=C,N;case m:return S=ju(S,C.mode,N),S.return=C,S;case we:var M=S._init;return S=M(S._payload),I(C,S,N)}if(Y(S)||Ue(S))return S=Ii(S,C.mode,N,null),S.return=C,S;if(typeof S.then=="function")return I(C,qa(S),N);if(S.$$typeof===x)return I(C,ir(C,S),N);Ga(C,S)}return null}function R(C,S,N,M){var B=S!==null?S.key:null;if(typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint")return B!==null?null:p(C,S,""+N,M);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case h:return N.key===B?y(C,S,N,M):null;case m:return N.key===B?T(C,S,N,M):null;case we:return B=N._init,N=B(N._payload),R(C,S,N,M)}if(Y(N)||Ue(N))return B!==null?null:O(C,S,N,M,null);if(typeof N.then=="function")return R(C,S,qa(N),M);if(N.$$typeof===x)return R(C,S,ir(C,N),M);Ga(C,N)}return null}function D(C,S,N,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return C=C.get(N)||null,p(S,C,""+M,B);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case h:return C=C.get(M.key===null?N:M.key)||null,y(S,C,M,B);case m:return C=C.get(M.key===null?N:M.key)||null,T(S,C,M,B);case we:var te=M._init;return M=te(M._payload),D(C,S,N,M,B)}if(Y(M)||Ue(M))return C=C.get(N)||null,O(S,C,M,B,null);if(typeof M.then=="function")return D(C,S,N,qa(M),B);if(M.$$typeof===x)return D(C,S,N,ir(S,M),B);Ga(S,M)}return null}function q(C,S,N,M){for(var B=null,te=null,G=S,V=S=0,Ze=null;G!==null&&V<N.length;V++){G.index>V?(Ze=G,G=null):Ze=G.sibling;var me=R(C,G,N[V],M);if(me===null){G===null&&(G=Ze);break}e&&G&&me.alternate===null&&t(C,G),S=c(me,S,V),te===null?B=me:te.sibling=me,te=me,G=Ze}if(V===N.length)return i(C,G),de&&Ei(C,V),B;if(G===null){for(;V<N.length;V++)G=I(C,N[V],M),G!==null&&(S=c(G,S,V),te===null?B=G:te.sibling=G,te=G);return de&&Ei(C,V),B}for(G=a(G);V<N.length;V++)Ze=D(G,C,V,N[V],M),Ze!==null&&(e&&Ze.alternate!==null&&G.delete(Ze.key===null?V:Ze.key),S=c(Ze,S,V),te===null?B=Ze:te.sibling=Ze,te=Ze);return e&&G.forEach(function(ai){return t(C,ai)}),de&&Ei(C,V),B}function P(C,S,N,M){if(N==null)throw Error(r(151));for(var B=null,te=null,G=S,V=S=0,Ze=null,me=N.next();G!==null&&!me.done;V++,me=N.next()){G.index>V?(Ze=G,G=null):Ze=G.sibling;var ai=R(C,G,me.value,M);if(ai===null){G===null&&(G=Ze);break}e&&G&&ai.alternate===null&&t(C,G),S=c(ai,S,V),te===null?B=ai:te.sibling=ai,te=ai,G=Ze}if(me.done)return i(C,G),de&&Ei(C,V),B;if(G===null){for(;!me.done;V++,me=N.next())me=I(C,me.value,M),me!==null&&(S=c(me,S,V),te===null?B=me:te.sibling=me,te=me);return de&&Ei(C,V),B}for(G=a(G);!me.done;V++,me=N.next())me=D(G,C,V,me.value,M),me!==null&&(e&&me.alternate!==null&&G.delete(me.key===null?V:me.key),S=c(me,S,V),te===null?B=me:te.sibling=me,te=me);return e&&G.forEach(function(mb){return t(C,mb)}),de&&Ei(C,V),B}function ze(C,S,N,M){if(typeof N=="object"&&N!==null&&N.type===_&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case h:e:{for(var B=N.key;S!==null;){if(S.key===B){if(B=N.type,B===_){if(S.tag===7){i(C,S.sibling),M=o(S,N.props.children),M.return=C,C=M;break e}}else if(S.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===we&&nd(B)===S.type){i(C,S.sibling),M=o(S,N.props),cs(M,N),M.return=C,C=M;break e}i(C,S);break}else t(C,S);S=S.sibling}N.type===_?(M=Ii(N.props.children,C.mode,M,N.key),M.return=C,C=M):(M=ar(N.type,N.key,N.props,null,C.mode,M),cs(M,N),M.return=C,C=M)}return d(C);case m:e:{for(B=N.key;S!==null;){if(S.key===B)if(S.tag===4&&S.stateNode.containerInfo===N.containerInfo&&S.stateNode.implementation===N.implementation){i(C,S.sibling),M=o(S,N.children||[]),M.return=C,C=M;break e}else{i(C,S);break}else t(C,S);S=S.sibling}M=ju(N,C.mode,M),M.return=C,C=M}return d(C);case we:return B=N._init,N=B(N._payload),ze(C,S,N,M)}if(Y(N))return q(C,S,N,M);if(Ue(N)){if(B=Ue(N),typeof B!="function")throw Error(r(150));return N=B.call(N),P(C,S,N,M)}if(typeof N.then=="function")return ze(C,S,qa(N),M);if(N.$$typeof===x)return ze(C,S,ir(C,N),M);Ga(C,N)}return typeof N=="string"&&N!==""||typeof N=="number"||typeof N=="bigint"?(N=""+N,S!==null&&S.tag===6?(i(C,S.sibling),M=o(S,N),M.return=C,C=M):(i(C,S),M=Hu(N,C.mode,M),M.return=C,C=M),d(C)):i(C,S)}return function(C,S,N,M){try{us=0;var B=ze(C,S,N,M);return fl=null,B}catch(G){if(G===rs)throw G;var te=Ht(29,G,null,C.mode);return te.lanes=M,te.return=C,te}finally{}}}var Ci=id(!0),ld=id(!1),hl=pe(null),Ya=pe(0);function sd(e,t){e=Cn,De(Ya,e),De(hl,t),Cn=e|t.baseLanes}function Fo(){De(Ya,Cn),De(hl,hl.current)}function Qo(){Cn=Ya.current,He(hl),He(Ya)}var Lt=pe(null),en=null;function Gn(e){var t=e.alternate;De(Ge,Ge.current&1),De(Lt,e),en===null&&(t===null||hl.current!==null||t.memoizedState!==null)&&(en=e)}function ad(e){if(e.tag===22){if(De(Ge,Ge.current),De(Lt,e),en===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(en=e)}}else Yn()}function Yn(){De(Ge,Ge.current),De(Lt,Lt.current)}function mn(e){He(Lt),en===e&&(en=null),He(Ge)}var Ge=pe(0);function Va(e){for(var t=e;t!==null;){if(t.tag===13){var i=t.memoizedState;if(i!==null&&(i=i.dehydrated,i===null||i.data==="$?"||i.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var t0=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(i,a){e.push(a)}};this.abort=function(){t.aborted=!0,e.forEach(function(i){return i()})}},n0=l.unstable_scheduleCallback,i0=l.unstable_NormalPriority,Ye={$$typeof:x,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Xo(){return{controller:new t0,data:new Map,refCount:0}}function fs(e){e.refCount--,e.refCount===0&&n0(i0,function(){e.controller.abort()})}var hs=null,Ko=0,dl=0,ml=null;function l0(e,t){if(hs===null){var i=hs=[];Ko=0,dl=ec(),ml={status:"pending",value:void 0,then:function(a){i.push(a)}}}return Ko++,t.then(rd,rd),t}function rd(){if(--Ko===0&&hs!==null){ml!==null&&(ml.status="fulfilled");var e=hs;hs=null,dl=0,ml=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function s0(e,t){var i=[],a={status:"pending",value:null,reason:null,then:function(o){i.push(o)}};return e.then(function(){a.status="fulfilled",a.value=t;for(var o=0;o<i.length;o++)(0,i[o])(t)},function(o){for(a.status="rejected",a.reason=o,o=0;o<i.length;o++)(0,i[o])(void 0)}),a}var od=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&l0(e,t),od!==null&&od(e,t)};var Ai=pe(null);function Zo(){var e=Ai.current;return e!==null?e:Te.pooledCache}function Fa(e,t){t===null?De(Ai,Ai.current):De(Ai,t.pool)}function ud(){var e=Zo();return e===null?null:{parent:Ye._currentValue,pool:e}}var Vn=0,ee=null,ye=null,je=null,Qa=!1,gl=!1,Ni=!1,Xa=0,ds=0,_l=null,a0=0;function ke(){throw Error(r(321))}function Po(e,t){if(t===null)return!1;for(var i=0;i<t.length&&i<e.length;i++)if(!Et(e[i],t[i]))return!1;return!0}function Wo(e,t,i,a,o,c){return Vn=c,ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?wi:Fn,Ni=!1,c=i(a,o),Ni=!1,gl&&(c=fd(t,i,a,o)),cd(e),c}function cd(e){Q.H=tn;var t=ye!==null&&ye.next!==null;if(Vn=0,je=ye=ee=null,Qa=!1,ds=0,_l=null,t)throw Error(r(300));e===null||Xe||(e=e.dependencies,e!==null&&nr(e)&&(Xe=!0))}function fd(e,t,i,a){ee=e;var o=0;do{if(gl&&(_l=null),ds=0,gl=!1,25<=o)throw Error(r(301));if(o+=1,je=ye=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}Q.H=Ri,c=t(i,a)}while(gl);return c}function r0(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?ms(t):t,e=e.useState()[0],(ye!==null?ye.memoizedState:null)!==e&&(ee.flags|=1024),t}function $o(){var e=Xa!==0;return Xa=0,e}function Jo(e,t,i){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i}function eu(e){if(Qa){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qa=!1}Vn=0,je=ye=ee=null,gl=!1,ds=Xa=0,_l=null}function gt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return je===null?ee.memoizedState=je=e:je=je.next=e,je}function Be(){if(ye===null){var e=ee.alternate;e=e!==null?e.memoizedState:null}else e=ye.next;var t=je===null?ee.memoizedState:je.next;if(t!==null)je=t,ye=e;else{if(e===null)throw ee.alternate===null?Error(r(467)):Error(r(310));ye=e,e={memoizedState:ye.memoizedState,baseState:ye.baseState,baseQueue:ye.baseQueue,queue:ye.queue,next:null},je===null?ee.memoizedState=je=e:je=je.next=e}return je}var Ka;Ka=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function ms(e){var t=ds;return ds+=1,_l===null&&(_l=[]),e=ed(_l,e,t),t=ee,(je===null?t.memoizedState:je.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?wi:Fn),e}function Za(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return ms(e);if(e.$$typeof===x)return lt(e)}throw Error(r(438,String(e)))}function tu(e){var t=null,i=ee.updateQueue;if(i!==null&&(t=i.memoCache),t==null){var a=ee.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(t={data:a.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),i===null&&(i=Ka(),ee.updateQueue=i),i.memoCache=t,i=t.data[t.index],i===void 0)for(i=t.data[t.index]=Array(e),a=0;a<e;a++)i[a]=Je;return t.index++,i}function gn(e,t){return typeof t=="function"?t(e):t}function Pa(e){var t=Be();return nu(t,ye,e)}function nu(e,t,i){var a=e.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=i;var o=e.baseQueue,c=a.pending;if(c!==null){if(o!==null){var d=o.next;o.next=c.next,c.next=d}t.baseQueue=o=c,a.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var p=d=null,y=null,T=t,O=!1;do{var I=T.lane&-536870913;if(I!==T.lane?(he&I)===I:(Vn&I)===I){var R=T.revertLane;if(R===0)y!==null&&(y=y.next={lane:0,revertLane:0,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null}),I===dl&&(O=!0);else if((Vn&R)===R){T=T.next,R===dl&&(O=!0);continue}else I={lane:0,revertLane:T.revertLane,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},y===null?(p=y=I,d=c):y=y.next=I,ee.lanes|=R,ei|=R;I=T.action,Ni&&i(c,I),c=T.hasEagerState?T.eagerState:i(c,I)}else R={lane:I,revertLane:T.revertLane,action:T.action,hasEagerState:T.hasEagerState,eagerState:T.eagerState,next:null},y===null?(p=y=R,d=c):y=y.next=R,ee.lanes|=I,ei|=I;T=T.next}while(T!==null&&T!==t);if(y===null?d=c:y.next=p,!Et(c,e.memoizedState)&&(Xe=!0,O&&(i=ml,i!==null)))throw i;e.memoizedState=c,e.baseState=d,e.baseQueue=y,a.lastRenderedState=c}return o===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function iu(e){var t=Be(),i=t.queue;if(i===null)throw Error(r(311));i.lastRenderedReducer=e;var a=i.dispatch,o=i.pending,c=t.memoizedState;if(o!==null){i.pending=null;var d=o=o.next;do c=e(c,d.action),d=d.next;while(d!==o);Et(c,t.memoizedState)||(Xe=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),i.lastRenderedState=c}return[c,a]}function hd(e,t,i){var a=ee,o=Be(),c=de;if(c){if(i===void 0)throw Error(r(407));i=i()}else i=t();var d=!Et((ye||o).memoizedState,i);if(d&&(o.memoizedState=i,Xe=!0),o=o.queue,au(gd.bind(null,a,o,e),[e]),o.getSnapshot!==t||d||je!==null&&je.memoizedState.tag&1){if(a.flags|=2048,pl(9,md.bind(null,a,o,i,t),{destroy:void 0},null),Te===null)throw Error(r(349));c||(Vn&60)!==0||dd(a,t,i)}return i}function dd(e,t,i){e.flags|=16384,e={getSnapshot:t,value:i},t=ee.updateQueue,t===null?(t=Ka(),ee.updateQueue=t,t.stores=[e]):(i=t.stores,i===null?t.stores=[e]:i.push(e))}function md(e,t,i,a){t.value=i,t.getSnapshot=a,_d(t)&&pd(e)}function gd(e,t,i){return i(function(){_d(t)&&pd(e)})}function _d(e){var t=e.getSnapshot;e=e.value;try{var i=t();return!Et(e,i)}catch{return!0}}function pd(e){var t=qn(e,2);t!==null&&ut(t,e,2)}function lu(e){var t=gt();if(typeof e=="function"){var i=e;if(e=i(),Ni){Hn(!0);try{i()}finally{Hn(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:e},t}function yd(e,t,i,a){return e.baseState=i,nu(e,ye,typeof a=="function"?a:gn)}function o0(e,t,i,a,o){if(Ja(e))throw Error(r(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(d){c.listeners.push(d)}};Q.T!==null?i(!0):c.isTransition=!1,a(c),i=t.pending,i===null?(c.next=t.pending=c,vd(t,c)):(c.next=i.next,t.pending=i.next=c)}}function vd(e,t){var i=t.action,a=t.payload,o=e.state;if(t.isTransition){var c=Q.T,d={};Q.T=d;try{var p=i(o,a),y=Q.S;y!==null&&y(d,p),bd(e,t,p)}catch(T){su(e,t,T)}finally{Q.T=c}}else try{c=i(o,a),bd(e,t,c)}catch(T){su(e,t,T)}}function bd(e,t,i){i!==null&&typeof i=="object"&&typeof i.then=="function"?i.then(function(a){Sd(e,t,a)},function(a){return su(e,t,a)}):Sd(e,t,i)}function Sd(e,t,i){t.status="fulfilled",t.value=i,Ed(t),e.state=i,t=e.pending,t!==null&&(i=t.next,i===t?e.pending=null:(i=i.next,t.next=i,vd(e,i)))}function su(e,t,i){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do t.status="rejected",t.reason=i,Ed(t),t=t.next;while(t!==a)}e.action=null}function Ed(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Td(e,t){return t}function Cd(e,t){if(de){var i=Te.formState;if(i!==null){e:{var a=ee;if(de){if(et){t:{for(var o=et,c=Jt;o.nodeType!==8;){if(!c){o=null;break t}if(o=Ft(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){et=Ft(o.nextSibling),a=o.data==="F!";break e}}Ti(a)}a=!1}a&&(t=i[0])}}return i=gt(),i.memoizedState=i.baseState=t,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Td,lastRenderedState:t},i.queue=a,i=Gd.bind(null,ee,a),a.dispatch=i,a=lu(!1),c=fu.bind(null,ee,!1,a.queue),a=gt(),o={state:t,dispatch:null,action:e,pending:null},a.queue=o,i=o0.bind(null,ee,o,c,i),o.dispatch=i,a.memoizedState=e,[t,i,!1]}function Ad(e){var t=Be();return Nd(t,ye,e)}function Nd(e,t,i){t=nu(e,t,Td)[0],e=Pa(gn)[0],t=typeof t=="object"&&t!==null&&typeof t.then=="function"?ms(t):t;var a=Be(),o=a.queue,c=o.dispatch;return i!==a.memoizedState&&(ee.flags|=2048,pl(9,u0.bind(null,o,i),{destroy:void 0},null)),[t,c,e]}function u0(e,t){e.action=t}function wd(e){var t=Be(),i=ye;if(i!==null)return Nd(t,i,e);Be(),t=t.memoizedState,i=Be();var a=i.queue.dispatch;return i.memoizedState=e,[t,a,!1]}function pl(e,t,i,a){return e={tag:e,create:t,inst:i,deps:a,next:null},t=ee.updateQueue,t===null&&(t=Ka(),ee.updateQueue=t),i=t.lastEffect,i===null?t.lastEffect=e.next=e:(a=i.next,i.next=e,e.next=a,t.lastEffect=e),e}function Rd(){return Be().memoizedState}function Wa(e,t,i,a){var o=gt();ee.flags|=e,o.memoizedState=pl(1|t,i,{destroy:void 0},a===void 0?null:a)}function $a(e,t,i,a){var o=Be();a=a===void 0?null:a;var c=o.memoizedState.inst;ye!==null&&a!==null&&Po(a,ye.memoizedState.deps)?o.memoizedState=pl(t,i,c,a):(ee.flags|=e,o.memoizedState=pl(1|t,i,c,a))}function Dd(e,t){Wa(8390656,8,e,t)}function au(e,t){$a(2048,8,e,t)}function Od(e,t){return $a(4,2,e,t)}function Md(e,t){return $a(4,4,e,t)}function xd(e,t){if(typeof t=="function"){e=e();var i=t(e);return function(){typeof i=="function"?i():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Id(e,t,i){i=i!=null?i.concat([e]):null,$a(4,4,xd.bind(null,t,e),i)}function ru(){}function zd(e,t){var i=Be();t=t===void 0?null:t;var a=i.memoizedState;return t!==null&&Po(t,a[1])?a[0]:(i.memoizedState=[e,t],e)}function Ld(e,t){var i=Be();t=t===void 0?null:t;var a=i.memoizedState;if(t!==null&&Po(t,a[1]))return a[0];if(a=e(),Ni){Hn(!0);try{e()}finally{Hn(!1)}}return i.memoizedState=[a,t],a}function ou(e,t,i){return i===void 0||(Vn&1073741824)!==0?e.memoizedState=t:(e.memoizedState=i,e=km(),ee.lanes|=e,ei|=e,i)}function Ud(e,t,i,a){return Et(i,t)?i:hl.current!==null?(e=ou(e,i,a),Et(e,t)||(Xe=!0),e):(Vn&42)===0?(Xe=!0,e.memoizedState=i):(e=km(),ee.lanes|=e,ei|=e,t)}function kd(e,t,i,a,o){var c=j.p;j.p=c!==0&&8>c?c:8;var d=Q.T,p={};Q.T=p,fu(e,!1,t,i);try{var y=o(),T=Q.S;if(T!==null&&T(p,y),y!==null&&typeof y=="object"&&typeof y.then=="function"){var O=s0(y,a);gs(e,t,O,Nt(e))}else gs(e,t,a,Nt(e))}catch(I){gs(e,t,{then:function(){},status:"rejected",reason:I},Nt())}finally{j.p=c,Q.T=d}}function c0(){}function uu(e,t,i,a){if(e.tag!==5)throw Error(r(476));var o=Hd(e).queue;kd(e,o,t,fe,i===null?c0:function(){return jd(e),i(a)})}function Hd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:fe},next:null};var i={};return t.next={memoizedState:i,baseState:i,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:gn,lastRenderedState:i},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function jd(e){var t=Hd(e).next.queue;gs(e,t,{},Nt())}function cu(){return lt(Ls)}function Bd(){return Be().memoizedState}function qd(){return Be().memoizedState}function f0(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var i=Nt();e=Kn(i);var a=Zn(t,e,i);a!==null&&(ut(a,t,i),ys(a,t,i)),t={cache:Xo()},e.payload=t;return}t=t.return}}function h0(e,t,i){var a=Nt();i={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null},Ja(e)?Yd(t,i):(i=Bo(e,t,i,a),i!==null&&(ut(i,e,a),Vd(i,t,a)))}function Gd(e,t,i){var a=Nt();gs(e,t,i,a)}function gs(e,t,i,a){var o={lane:a,revertLane:0,action:i,hasEagerState:!1,eagerState:null,next:null};if(Ja(e))Yd(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var d=t.lastRenderedState,p=c(d,i);if(o.hasEagerState=!0,o.eagerState=p,Et(p,d))return Ua(e,t,o,0),Te===null&&La(),!1}catch{}finally{}if(i=Bo(e,t,o,a),i!==null)return ut(i,e,a),Vd(i,t,a),!0}return!1}function fu(e,t,i,a){if(a={lane:2,revertLane:ec(),action:a,hasEagerState:!1,eagerState:null,next:null},Ja(e)){if(t)throw Error(r(479))}else t=Bo(e,i,a,2),t!==null&&ut(t,e,2)}function Ja(e){var t=e.alternate;return e===ee||t!==null&&t===ee}function Yd(e,t){gl=Qa=!0;var i=e.pending;i===null?t.next=t:(t.next=i.next,i.next=t),e.pending=t}function Vd(e,t,i){if((i&4194176)!==0){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,th(e,i)}}var tn={readContext:lt,use:Za,useCallback:ke,useContext:ke,useEffect:ke,useImperativeHandle:ke,useLayoutEffect:ke,useInsertionEffect:ke,useMemo:ke,useReducer:ke,useRef:ke,useState:ke,useDebugValue:ke,useDeferredValue:ke,useTransition:ke,useSyncExternalStore:ke,useId:ke};tn.useCacheRefresh=ke,tn.useMemoCache=ke,tn.useHostTransitionStatus=ke,tn.useFormState=ke,tn.useActionState=ke,tn.useOptimistic=ke;var wi={readContext:lt,use:Za,useCallback:function(e,t){return gt().memoizedState=[e,t===void 0?null:t],e},useContext:lt,useEffect:Dd,useImperativeHandle:function(e,t,i){i=i!=null?i.concat([e]):null,Wa(4194308,4,xd.bind(null,t,e),i)},useLayoutEffect:function(e,t){return Wa(4194308,4,e,t)},useInsertionEffect:function(e,t){Wa(4,2,e,t)},useMemo:function(e,t){var i=gt();t=t===void 0?null:t;var a=e();if(Ni){Hn(!0);try{e()}finally{Hn(!1)}}return i.memoizedState=[a,t],a},useReducer:function(e,t,i){var a=gt();if(i!==void 0){var o=i(t);if(Ni){Hn(!0);try{i(t)}finally{Hn(!1)}}}else o=t;return a.memoizedState=a.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},a.queue=e,e=e.dispatch=h0.bind(null,ee,e),[a.memoizedState,e]},useRef:function(e){var t=gt();return e={current:e},t.memoizedState=e},useState:function(e){e=lu(e);var t=e.queue,i=Gd.bind(null,ee,t);return t.dispatch=i,[e.memoizedState,i]},useDebugValue:ru,useDeferredValue:function(e,t){var i=gt();return ou(i,e,t)},useTransition:function(){var e=lu(!1);return e=kd.bind(null,ee,e.queue,!0,!1),gt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,i){var a=ee,o=gt();if(de){if(i===void 0)throw Error(r(407));i=i()}else{if(i=t(),Te===null)throw Error(r(349));(he&60)!==0||dd(a,t,i)}o.memoizedState=i;var c={value:i,getSnapshot:t};return o.queue=c,Dd(gd.bind(null,a,c,e),[e]),a.flags|=2048,pl(9,md.bind(null,a,c,i,t),{destroy:void 0},null),i},useId:function(){var e=gt(),t=Te.identifierPrefix;if(de){var i=dn,a=hn;i=(a&~(1<<32-St(a)-1)).toString(32)+i,t=":"+t+"R"+i,i=Xa++,0<i&&(t+="H"+i.toString(32)),t+=":"}else i=a0++,t=":"+t+"r"+i.toString(32)+":";return e.memoizedState=t},useCacheRefresh:function(){return gt().memoizedState=f0.bind(null,ee)}};wi.useMemoCache=tu,wi.useHostTransitionStatus=cu,wi.useFormState=Cd,wi.useActionState=Cd,wi.useOptimistic=function(e){var t=gt();t.memoizedState=t.baseState=e;var i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=i,t=fu.bind(null,ee,!0,i),i.dispatch=t,[e,t]};var Fn={readContext:lt,use:Za,useCallback:zd,useContext:lt,useEffect:au,useImperativeHandle:Id,useInsertionEffect:Od,useLayoutEffect:Md,useMemo:Ld,useReducer:Pa,useRef:Rd,useState:function(){return Pa(gn)},useDebugValue:ru,useDeferredValue:function(e,t){var i=Be();return Ud(i,ye.memoizedState,e,t)},useTransition:function(){var e=Pa(gn)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:hd,useId:Bd};Fn.useCacheRefresh=qd,Fn.useMemoCache=tu,Fn.useHostTransitionStatus=cu,Fn.useFormState=Ad,Fn.useActionState=Ad,Fn.useOptimistic=function(e,t){var i=Be();return yd(i,ye,e,t)};var Ri={readContext:lt,use:Za,useCallback:zd,useContext:lt,useEffect:au,useImperativeHandle:Id,useInsertionEffect:Od,useLayoutEffect:Md,useMemo:Ld,useReducer:iu,useRef:Rd,useState:function(){return iu(gn)},useDebugValue:ru,useDeferredValue:function(e,t){var i=Be();return ye===null?ou(i,e,t):Ud(i,ye.memoizedState,e,t)},useTransition:function(){var e=iu(gn)[0],t=Be().memoizedState;return[typeof e=="boolean"?e:ms(e),t]},useSyncExternalStore:hd,useId:Bd};Ri.useCacheRefresh=qd,Ri.useMemoCache=tu,Ri.useHostTransitionStatus=cu,Ri.useFormState=wd,Ri.useActionState=wd,Ri.useOptimistic=function(e,t){var i=Be();return ye!==null?yd(i,ye,e,t):(i.baseState=e,[e,i.queue.dispatch])};function hu(e,t,i,a){t=e.memoizedState,i=i(a,t),i=i==null?t:_e({},t,i),e.memoizedState=i,e.lanes===0&&(e.updateQueue.baseState=i)}var du={isMounted:function(e){return(e=e._reactInternals)?Z(e)===e:!1},enqueueSetState:function(e,t,i){e=e._reactInternals;var a=Nt(),o=Kn(a);o.payload=t,i!=null&&(o.callback=i),t=Zn(e,o,a),t!==null&&(ut(t,e,a),ys(t,e,a))},enqueueReplaceState:function(e,t,i){e=e._reactInternals;var a=Nt(),o=Kn(a);o.tag=1,o.payload=t,i!=null&&(o.callback=i),t=Zn(e,o,a),t!==null&&(ut(t,e,a),ys(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var i=Nt(),a=Kn(i);a.tag=2,t!=null&&(a.callback=t),t=Zn(e,a,i),t!==null&&(ut(t,e,i),ys(t,e,i))}};function Fd(e,t,i,a,o,c,d){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,c,d):t.prototype&&t.prototype.isPureReactComponent?!ns(i,a)||!ns(o,c):!0}function Qd(e,t,i,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(i,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(i,a),t.state!==e&&du.enqueueReplaceState(t,t.state,null)}function Di(e,t){var i=t;if("ref"in t){i={};for(var a in t)a!=="ref"&&(i[a]=t[a])}if(e=e.defaultProps){i===t&&(i=_e({},i));for(var o in e)i[o]===void 0&&(i[o]=e[o])}return i}var er=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Xd(e){er(e)}function Kd(e){console.error(e)}function Zd(e){er(e)}function tr(e,t){try{var i=e.onUncaughtError;i(t.value,{componentStack:t.stack})}catch(a){setTimeout(function(){throw a})}}function Pd(e,t,i){try{var a=e.onCaughtError;a(i.value,{componentStack:i.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function mu(e,t,i){return i=Kn(i),i.tag=3,i.payload={element:null},i.callback=function(){tr(e,t)},i}function Wd(e){return e=Kn(e),e.tag=3,e}function $d(e,t,i,a){var o=i.type.getDerivedStateFromError;if(typeof o=="function"){var c=a.value;e.payload=function(){return o(c)},e.callback=function(){Pd(t,i,a)}}var d=i.stateNode;d!==null&&typeof d.componentDidCatch=="function"&&(e.callback=function(){Pd(t,i,a),typeof o!="function"&&(ti===null?ti=new Set([this]):ti.add(this));var p=a.stack;this.componentDidCatch(a.value,{componentStack:p!==null?p:""})})}function d0(e,t,i,a,o){if(i.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(t=i.alternate,t!==null&&ps(t,i,o,!0),i=Lt.current,i!==null){switch(i.tag){case 13:return en===null?Zu():i.alternate===null&&Ie===0&&(Ie=3),i.flags&=-257,i.flags|=65536,i.lanes=o,a===Vo?i.flags|=16384:(t=i.updateQueue,t===null?i.updateQueue=new Set([a]):t.add(a),Wu(e,a,o)),!1;case 22:return i.flags|=65536,a===Vo?i.flags|=16384:(t=i.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([a])},i.updateQueue=t):(i=t.retryQueue,i===null?t.retryQueue=new Set([a]):i.add(a)),Wu(e,a,o)),!1}throw Error(r(435,i.tag))}return Wu(e,a,o),Zu(),!1}if(de)return t=Lt.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,a!==Yo&&(e=Error(r(422),{cause:a}),as(xt(e,i)))):(a!==Yo&&(t=Error(r(423),{cause:a}),as(xt(t,i))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,a=xt(a,i),o=mu(e.stateNode,a,o),Du(e,o),Ie!==4&&(Ie=2)),!1;var c=Error(r(520),{cause:a});if(c=xt(c,i),Ns===null?Ns=[c]:Ns.push(c),Ie!==4&&(Ie=2),t===null)return!0;a=xt(a,i),i=t;do{switch(i.tag){case 3:return i.flags|=65536,e=o&-o,i.lanes|=e,e=mu(i.stateNode,a,e),Du(i,e),!1;case 1:if(t=i.type,c=i.stateNode,(i.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(ti===null||!ti.has(c))))return i.flags|=65536,o&=-o,i.lanes|=o,o=Wd(o),$d(o,e,i,a),Du(i,o),!1}i=i.return}while(i!==null);return!1}var Jd=Error(r(461)),Xe=!1;function tt(e,t,i,a){t.child=e===null?ld(t,null,i,a):Ci(t,e.child,i,a)}function em(e,t,i,a,o){i=i.render;var c=t.ref;if("ref"in a){var d={};for(var p in a)p!=="ref"&&(d[p]=a[p])}else d=a;return Mi(t),a=Wo(e,t,i,d,c,o),p=$o(),e!==null&&!Xe?(Jo(e,t,o),_n(e,t,o)):(de&&p&&qo(t),t.flags|=1,tt(e,t,a,o),t.child)}function tm(e,t,i,a,o){if(e===null){var c=i.type;return typeof c=="function"&&!ku(c)&&c.defaultProps===void 0&&i.compare===null?(t.tag=15,t.type=c,nm(e,t,c,a,o)):(e=ar(i.type,null,a,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!Tu(e,o)){var d=c.memoizedProps;if(i=i.compare,i=i!==null?i:ns,i(d,a)&&e.ref===t.ref)return _n(e,t,o)}return t.flags|=1,e=Jn(c,a),e.ref=t.ref,e.return=t,t.child=e}function nm(e,t,i,a,o){if(e!==null){var c=e.memoizedProps;if(ns(c,a)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=a=c,Tu(e,o))(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,_n(e,t,o)}return gu(e,t,i,a,o)}function im(e,t,i){var a=t.pendingProps,o=a.children,c=(t.stateNode._pendingVisibility&2)!==0,d=e!==null?e.memoizedState:null;if(_s(e,t),a.mode==="hidden"||c){if((t.flags&128)!==0){if(a=d!==null?d.baseLanes|i:i,e!==null){for(o=t.child=e.child,c=0;o!==null;)c=c|o.lanes|o.childLanes,o=o.sibling;t.childLanes=c&~a}else t.childLanes=0,t.child=null;return lm(e,t,a,i)}if((i&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Fa(t,d!==null?d.cachePool:null),d!==null?sd(t,d):Fo(),ad(t);else return t.lanes=t.childLanes=536870912,lm(e,t,d!==null?d.baseLanes|i:i,i)}else d!==null?(Fa(t,d.cachePool),sd(t,d),Yn(),t.memoizedState=null):(e!==null&&Fa(t,null),Fo(),Yn());return tt(e,t,o,i),t.child}function lm(e,t,i,a){var o=Zo();return o=o===null?null:{parent:Ye._currentValue,pool:o},t.memoizedState={baseLanes:i,cachePool:o},e!==null&&Fa(t,null),Fo(),ad(t),e!==null&&ps(e,t,a,!0),null}function _s(e,t){var i=t.ref;if(i===null)e!==null&&e.ref!==null&&(t.flags|=2097664);else{if(typeof i!="function"&&typeof i!="object")throw Error(r(284));(e===null||e.ref!==i)&&(t.flags|=2097664)}}function gu(e,t,i,a,o){return Mi(t),i=Wo(e,t,i,a,void 0,o),a=$o(),e!==null&&!Xe?(Jo(e,t,o),_n(e,t,o)):(de&&a&&qo(t),t.flags|=1,tt(e,t,i,o),t.child)}function sm(e,t,i,a,o,c){return Mi(t),t.updateQueue=null,i=fd(t,a,i,o),cd(e),a=$o(),e!==null&&!Xe?(Jo(e,t,c),_n(e,t,c)):(de&&a&&qo(t),t.flags|=1,tt(e,t,i,c),t.child)}function am(e,t,i,a,o){if(Mi(t),t.stateNode===null){var c=ol,d=i.contextType;typeof d=="object"&&d!==null&&(c=lt(d)),c=new i(a,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=du,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=a,c.state=t.memoizedState,c.refs={},wu(t),d=i.contextType,c.context=typeof d=="object"&&d!==null?lt(d):ol,c.state=t.memoizedState,d=i.getDerivedStateFromProps,typeof d=="function"&&(hu(t,i,d,a),c.state=t.memoizedState),typeof i.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(d=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),d!==c.state&&du.enqueueReplaceState(c,c.state,null),bs(t,a,c,o),vs(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!0}else if(e===null){c=t.stateNode;var p=t.memoizedProps,y=Di(i,p);c.props=y;var T=c.context,O=i.contextType;d=ol,typeof O=="object"&&O!==null&&(d=lt(O));var I=i.getDerivedStateFromProps;O=typeof I=="function"||typeof c.getSnapshotBeforeUpdate=="function",p=t.pendingProps!==p,O||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(p||T!==d)&&Qd(t,c,a,d),Xn=!1;var R=t.memoizedState;c.state=R,bs(t,a,c,o),vs(),T=t.memoizedState,p||R!==T||Xn?(typeof I=="function"&&(hu(t,i,I,a),T=t.memoizedState),(y=Xn||Fd(t,i,y,a,R,T,d))?(O||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=T),c.props=a,c.state=T,c.context=d,a=y):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{c=t.stateNode,Ru(e,t),d=t.memoizedProps,O=Di(i,d),c.props=O,I=t.pendingProps,R=c.context,T=i.contextType,y=ol,typeof T=="object"&&T!==null&&(y=lt(T)),p=i.getDerivedStateFromProps,(T=typeof p=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(d!==I||R!==y)&&Qd(t,c,a,y),Xn=!1,R=t.memoizedState,c.state=R,bs(t,a,c,o),vs();var D=t.memoizedState;d!==I||R!==D||Xn||e!==null&&e.dependencies!==null&&nr(e.dependencies)?(typeof p=="function"&&(hu(t,i,p,a),D=t.memoizedState),(O=Xn||Fd(t,i,O,a,R,D,y)||e!==null&&e.dependencies!==null&&nr(e.dependencies))?(T||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(a,D,y),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(a,D,y)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=D),c.props=a,c.state=D,c.context=y,a=O):(typeof c.componentDidUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||d===e.memoizedProps&&R===e.memoizedState||(t.flags|=1024),a=!1)}return c=a,_s(e,t),a=(t.flags&128)!==0,c||a?(c=t.stateNode,i=a&&typeof i.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&a?(t.child=Ci(t,e.child,null,o),t.child=Ci(t,null,i,o)):tt(e,t,i,o),t.memoizedState=c.state,e=t.child):e=_n(e,t,o),e}function rm(e,t,i,a){return ss(),t.flags|=256,tt(e,t,i,a),t.child}var _u={dehydrated:null,treeContext:null,retryLane:0};function pu(e){return{baseLanes:e,cachePool:ud()}}function yu(e,t,i){return e=e!==null?e.childLanes&~i:0,t&&(e|=jt),e}function om(e,t,i){var a=t.pendingProps,o=!1,c=(t.flags&128)!==0,d;if((d=c)||(d=e!==null&&e.memoizedState===null?!1:(Ge.current&2)!==0),d&&(o=!0,t.flags&=-129),d=(t.flags&32)!==0,t.flags&=-33,e===null){if(de){if(o?Gn(t):Yn(),de){var p=et,y;if(y=p){e:{for(y=p,p=Jt;y.nodeType!==8;){if(!p){p=null;break e}if(y=Ft(y.nextSibling),y===null){p=null;break e}}p=y}p!==null?(t.memoizedState={dehydrated:p,treeContext:Si!==null?{id:hn,overflow:dn}:null,retryLane:536870912},y=Ht(18,null,null,0),y.stateNode=p,y.return=t,t.child=y,ot=t,et=null,y=!0):y=!1}y||Ti(t)}if(p=t.memoizedState,p!==null&&(p=p.dehydrated,p!==null))return p.data==="$!"?t.lanes=16:t.lanes=536870912,null;mn(t)}return p=a.children,a=a.fallback,o?(Yn(),o=t.mode,p=bu({mode:"hidden",children:p},o),a=Ii(a,o,i,null),p.return=t,a.return=t,p.sibling=a,t.child=p,o=t.child,o.memoizedState=pu(i),o.childLanes=yu(e,d,i),t.memoizedState=_u,a):(Gn(t),vu(t,p))}if(y=e.memoizedState,y!==null&&(p=y.dehydrated,p!==null)){if(c)t.flags&256?(Gn(t),t.flags&=-257,t=Su(e,t,i)):t.memoizedState!==null?(Yn(),t.child=e.child,t.flags|=128,t=null):(Yn(),o=a.fallback,p=t.mode,a=bu({mode:"visible",children:a.children},p),o=Ii(o,p,i,null),o.flags|=2,a.return=t,o.return=t,a.sibling=o,t.child=a,Ci(t,e.child,null,i),a=t.child,a.memoizedState=pu(i),a.childLanes=yu(e,d,i),t.memoizedState=_u,t=o);else if(Gn(t),p.data==="$!"){if(d=p.nextSibling&&p.nextSibling.dataset,d)var T=d.dgst;d=T,a=Error(r(419)),a.stack="",a.digest=d,as({value:a,source:null,stack:null}),t=Su(e,t,i)}else if(Xe||ps(e,t,i,!1),d=(i&e.childLanes)!==0,Xe||d){if(d=Te,d!==null){if(a=i&-i,(a&42)!==0)a=1;else switch(a){case 2:a=1;break;case 8:a=4;break;case 32:a=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:a=64;break;case 268435456:a=134217728;break;default:a=0}if(a=(a&(d.suspendedLanes|i))!==0?0:a,a!==0&&a!==y.retryLane)throw y.retryLane=a,qn(e,a),ut(d,e,a),Jd}p.data==="$?"||Zu(),t=Su(e,t,i)}else p.data==="$?"?(t.flags|=128,t.child=e.child,t=R0.bind(null,e),p._reactRetry=t,t=null):(e=y.treeContext,et=Ft(p.nextSibling),ot=t,de=!0,Yt=null,Jt=!1,e!==null&&(It[zt++]=hn,It[zt++]=dn,It[zt++]=Si,hn=e.id,dn=e.overflow,Si=t),t=vu(t,a.children),t.flags|=4096);return t}return o?(Yn(),o=a.fallback,p=t.mode,y=e.child,T=y.sibling,a=Jn(y,{mode:"hidden",children:a.children}),a.subtreeFlags=y.subtreeFlags&31457280,T!==null?o=Jn(T,o):(o=Ii(o,p,i,null),o.flags|=2),o.return=t,a.return=t,a.sibling=o,t.child=a,a=o,o=t.child,p=e.child.memoizedState,p===null?p=pu(i):(y=p.cachePool,y!==null?(T=Ye._currentValue,y=y.parent!==T?{parent:T,pool:T}:y):y=ud(),p={baseLanes:p.baseLanes|i,cachePool:y}),o.memoizedState=p,o.childLanes=yu(e,d,i),t.memoizedState=_u,a):(Gn(t),i=e.child,e=i.sibling,i=Jn(i,{mode:"visible",children:a.children}),i.return=t,i.sibling=null,e!==null&&(d=t.deletions,d===null?(t.deletions=[e],t.flags|=16):d.push(e)),t.child=i,t.memoizedState=null,i)}function vu(e,t){return t=bu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function bu(e,t){return zm(e,t,0,null)}function Su(e,t,i){return Ci(t,e.child,null,i),e=vu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function um(e,t,i){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Au(e.return,t,i)}function Eu(e,t,i,a,o){var c=e.memoizedState;c===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:i,tailMode:o}:(c.isBackwards=t,c.rendering=null,c.renderingStartTime=0,c.last=a,c.tail=i,c.tailMode=o)}function cm(e,t,i){var a=t.pendingProps,o=a.revealOrder,c=a.tail;if(tt(e,t,a.children,i),a=Ge.current,(a&2)!==0)a=a&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&um(e,i,t);else if(e.tag===19)um(e,i,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}switch(De(Ge,a),o){case"forwards":for(i=t.child,o=null;i!==null;)e=i.alternate,e!==null&&Va(e)===null&&(o=i),i=i.sibling;i=o,i===null?(o=t.child,t.child=null):(o=i.sibling,i.sibling=null),Eu(t,!1,o,i,c);break;case"backwards":for(i=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&Va(e)===null){t.child=o;break}e=o.sibling,o.sibling=i,i=o,o=e}Eu(t,!0,i,null,c);break;case"together":Eu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function _n(e,t,i){if(e!==null&&(t.dependencies=e.dependencies),ei|=t.lanes,(i&t.childLanes)===0)if(e!==null){if(ps(e,t,i,!1),(i&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(r(153));if(t.child!==null){for(e=t.child,i=Jn(e,e.pendingProps),t.child=i,i.return=t;e.sibling!==null;)e=e.sibling,i=i.sibling=Jn(e,e.pendingProps),i.return=t;i.sibling=null}return t.child}function Tu(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&nr(e)))}function m0(e,t,i){switch(t.tag){case 3:ya(t,t.stateNode.containerInfo),Qn(t,Ye,e.memoizedState.cache),ss();break;case 27:case 5:ho(t);break;case 4:ya(t,t.stateNode.containerInfo);break;case 10:Qn(t,t.type,t.memoizedProps.value);break;case 13:var a=t.memoizedState;if(a!==null)return a.dehydrated!==null?(Gn(t),t.flags|=128,null):(i&t.child.childLanes)!==0?om(e,t,i):(Gn(t),e=_n(e,t,i),e!==null?e.sibling:null);Gn(t);break;case 19:var o=(e.flags&128)!==0;if(a=(i&t.childLanes)!==0,a||(ps(e,t,i,!1),a=(i&t.childLanes)!==0),o){if(a)return cm(e,t,i);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),De(Ge,Ge.current),a)break;return null;case 22:case 23:return t.lanes=0,im(e,t,i);case 24:Qn(t,Ye,e.memoizedState.cache)}return _n(e,t,i)}function fm(e,t,i){if(e!==null)if(e.memoizedProps!==t.pendingProps)Xe=!0;else{if(!Tu(e,i)&&(t.flags&128)===0)return Xe=!1,m0(e,t,i);Xe=(e.flags&131072)!==0}else Xe=!1,de&&(t.flags&1048576)!==0&&Zh(t,ja,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var a=t.elementType,o=a._init;if(a=o(a._payload),t.type=a,typeof a=="function")ku(a)?(e=Di(a,e),t.tag=1,t=am(null,t,a,e,i)):(t.tag=0,t=gu(null,t,a,e,i));else{if(a!=null){if(o=a.$$typeof,o===U){t.tag=11,t=em(null,t,a,e,i);break e}else if(o===re){t.tag=14,t=tm(null,t,a,e,i);break e}}throw t=qt(a)||a,Error(r(306,t,""))}}return t;case 0:return gu(e,t,t.type,t.pendingProps,i);case 1:return a=t.type,o=Di(a,t.pendingProps),am(e,t,a,o,i);case 3:e:{if(ya(t,t.stateNode.containerInfo),e===null)throw Error(r(387));var c=t.pendingProps;o=t.memoizedState,a=o.element,Ru(e,t),bs(t,c,null,i);var d=t.memoizedState;if(c=d.cache,Qn(t,Ye,c),c!==o.cache&&Nu(t,[Ye],i,!0),vs(),c=d.element,o.isDehydrated)if(o={element:c,isDehydrated:!1,cache:d.cache},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){t=rm(e,t,c,i);break e}else if(c!==a){a=xt(Error(r(424)),t),as(a),t=rm(e,t,c,i);break e}else for(et=Ft(t.stateNode.containerInfo.firstChild),ot=t,de=!0,Yt=null,Jt=!0,i=ld(t,null,c,i),t.child=i;i;)i.flags=i.flags&-3|4096,i=i.sibling;else{if(ss(),c===a){t=_n(e,t,i);break e}tt(e,t,c,i)}t=t.child}return t;case 26:return _s(e,t),e===null?(i=mg(t.type,null,t.pendingProps,null))?t.memoizedState=i:de||(i=t.type,e=t.pendingProps,a=yr(kn.current).createElement(i),a[it]=t,a[dt]=e,nt(a,i,e),Qe(a),t.stateNode=a):t.memoizedState=mg(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ho(t),e===null&&de&&(a=t.stateNode=fg(t.type,t.pendingProps,kn.current),ot=t,Jt=!0,et=Ft(a.firstChild)),a=t.pendingProps.children,e!==null||de?tt(e,t,a,i):t.child=Ci(t,null,a,i),_s(e,t),t.child;case 5:return e===null&&de&&((o=a=et)&&(a=V0(a,t.type,t.pendingProps,Jt),a!==null?(t.stateNode=a,ot=t,et=Ft(a.firstChild),Jt=!1,o=!0):o=!1),o||Ti(t)),ho(t),o=t.type,c=t.pendingProps,d=e!==null?e.memoizedProps:null,a=c.children,uc(o,c)?a=null:d!==null&&uc(o,d)&&(t.flags|=32),t.memoizedState!==null&&(o=Wo(e,t,r0,null,null,i),Ls._currentValue=o),_s(e,t),tt(e,t,a,i),t.child;case 6:return e===null&&de&&((e=i=et)&&(i=F0(i,t.pendingProps,Jt),i!==null?(t.stateNode=i,ot=t,et=null,e=!0):e=!1),e||Ti(t)),null;case 13:return om(e,t,i);case 4:return ya(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=Ci(t,null,a,i):tt(e,t,a,i),t.child;case 11:return em(e,t,t.type,t.pendingProps,i);case 7:return tt(e,t,t.pendingProps,i),t.child;case 8:return tt(e,t,t.pendingProps.children,i),t.child;case 12:return tt(e,t,t.pendingProps.children,i),t.child;case 10:return a=t.pendingProps,Qn(t,t.type,a.value),tt(e,t,a.children,i),t.child;case 9:return o=t.type._context,a=t.pendingProps.children,Mi(t),o=lt(o),a=a(o),t.flags|=1,tt(e,t,a,i),t.child;case 14:return tm(e,t,t.type,t.pendingProps,i);case 15:return nm(e,t,t.type,t.pendingProps,i);case 19:return cm(e,t,i);case 22:return im(e,t,i);case 24:return Mi(t),a=lt(Ye),e===null?(o=Zo(),o===null&&(o=Te,c=Xo(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=i),o=c),t.memoizedState={parent:a,cache:o},wu(t),Qn(t,Ye,o)):((e.lanes&i)!==0&&(Ru(e,t),bs(t,null,null,i),vs()),o=e.memoizedState,c=t.memoizedState,o.parent!==a?(o={parent:a,cache:a},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),Qn(t,Ye,a)):(a=c.cache,Qn(t,Ye,a),a!==o.cache&&Nu(t,[Ye],i,!0))),tt(e,t,t.pendingProps.children,i),t.child;case 29:throw t.pendingProps}throw Error(r(156,t.tag))}var Cu=pe(null),Oi=null,pn=null;function Qn(e,t,i){De(Cu,t._currentValue),t._currentValue=i}function yn(e){e._currentValue=Cu.current,He(Cu)}function Au(e,t,i){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===i)break;e=e.return}}function Nu(e,t,i,a){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var d=o.child;c=c.firstContext;e:for(;c!==null;){var p=c;c=o;for(var y=0;y<t.length;y++)if(p.context===t[y]){c.lanes|=i,p=c.alternate,p!==null&&(p.lanes|=i),Au(c.return,i,e),a||(d=null);break e}c=p.next}}else if(o.tag===18){if(d=o.return,d===null)throw Error(r(341));d.lanes|=i,c=d.alternate,c!==null&&(c.lanes|=i),Au(d,i,e),d=null}else d=o.child;if(d!==null)d.return=o;else for(d=o;d!==null;){if(d===e){d=null;break}if(o=d.sibling,o!==null){o.return=d.return,d=o;break}d=d.return}o=d}}function ps(e,t,i,a){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var d=o.alternate;if(d===null)throw Error(r(387));if(d=d.memoizedProps,d!==null){var p=o.type;Et(o.pendingProps.value,d.value)||(e!==null?e.push(p):e=[p])}}else if(o===pa.current){if(d=o.alternate,d===null)throw Error(r(387));d.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Ls):e=[Ls])}o=o.return}e!==null&&Nu(t,e,i,a),t.flags|=262144}function nr(e){for(e=e.firstContext;e!==null;){if(!Et(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mi(e){Oi=e,pn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function lt(e){return hm(Oi,e)}function ir(e,t){return Oi===null&&Mi(e),hm(e,t)}function hm(e,t){var i=t._currentValue;if(t={context:t,memoizedValue:i,next:null},pn===null){if(e===null)throw Error(r(308));pn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else pn=pn.next=t;return i}var Xn=!1;function wu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ru(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Kn(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Zn(e,t,i){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Me&2)!==0){var o=a.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),a.pending=t,t=ka(e),Xh(e,null,i),t}return Ua(e,a,t,i),ka(e)}function ys(e,t,i){if(t=t.updateQueue,t!==null&&(t=t.shared,(i&4194176)!==0)){var a=t.lanes;a&=e.pendingLanes,i|=a,t.lanes=i,th(e,i)}}function Du(e,t){var i=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,i===a)){var o=null,c=null;if(i=i.firstBaseUpdate,i!==null){do{var d={lane:i.lane,tag:i.tag,payload:i.payload,callback:null,next:null};c===null?o=c=d:c=c.next=d,i=i.next}while(i!==null);c===null?o=c=t:c=c.next=t}else o=c=t;i={baseState:a.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:a.shared,callbacks:a.callbacks},e.updateQueue=i;return}e=i.lastBaseUpdate,e===null?i.firstBaseUpdate=t:e.next=t,i.lastBaseUpdate=t}var Ou=!1;function vs(){if(Ou){var e=ml;if(e!==null)throw e}}function bs(e,t,i,a){Ou=!1;var o=e.updateQueue;Xn=!1;var c=o.firstBaseUpdate,d=o.lastBaseUpdate,p=o.shared.pending;if(p!==null){o.shared.pending=null;var y=p,T=y.next;y.next=null,d===null?c=T:d.next=T,d=y;var O=e.alternate;O!==null&&(O=O.updateQueue,p=O.lastBaseUpdate,p!==d&&(p===null?O.firstBaseUpdate=T:p.next=T,O.lastBaseUpdate=y))}if(c!==null){var I=o.baseState;d=0,O=T=y=null,p=c;do{var R=p.lane&-536870913,D=R!==p.lane;if(D?(he&R)===R:(a&R)===R){R!==0&&R===dl&&(Ou=!0),O!==null&&(O=O.next={lane:0,tag:p.tag,payload:p.payload,callback:null,next:null});e:{var q=e,P=p;R=t;var ze=i;switch(P.tag){case 1:if(q=P.payload,typeof q=="function"){I=q.call(ze,I,R);break e}I=q;break e;case 3:q.flags=q.flags&-65537|128;case 0:if(q=P.payload,R=typeof q=="function"?q.call(ze,I,R):q,R==null)break e;I=_e({},I,R);break e;case 2:Xn=!0}}R=p.callback,R!==null&&(e.flags|=64,D&&(e.flags|=8192),D=o.callbacks,D===null?o.callbacks=[R]:D.push(R))}else D={lane:R,tag:p.tag,payload:p.payload,callback:p.callback,next:null},O===null?(T=O=D,y=I):O=O.next=D,d|=R;if(p=p.next,p===null){if(p=o.shared.pending,p===null)break;D=p,p=D.next,D.next=null,o.lastBaseUpdate=D,o.shared.pending=null}}while(!0);O===null&&(y=I),o.baseState=y,o.firstBaseUpdate=T,o.lastBaseUpdate=O,c===null&&(o.shared.lanes=0),ei|=d,e.lanes=d,e.memoizedState=I}}function dm(e,t){if(typeof e!="function")throw Error(r(191,e));e.call(t)}function mm(e,t){var i=e.callbacks;if(i!==null)for(e.callbacks=null,e=0;e<i.length;e++)dm(i[e],t)}function Ss(e,t){try{var i=t.updateQueue,a=i!==null?i.lastEffect:null;if(a!==null){var o=a.next;i=o;do{if((i.tag&e)===e){a=void 0;var c=i.create,d=i.inst;a=c(),d.destroy=a}i=i.next}while(i!==o)}}catch(p){be(t,t.return,p)}}function Pn(e,t,i){try{var a=t.updateQueue,o=a!==null?a.lastEffect:null;if(o!==null){var c=o.next;a=c;do{if((a.tag&e)===e){var d=a.inst,p=d.destroy;if(p!==void 0){d.destroy=void 0,o=t;var y=i;try{p()}catch(T){be(o,y,T)}}}a=a.next}while(a!==c)}}catch(T){be(t,t.return,T)}}function gm(e){var t=e.updateQueue;if(t!==null){var i=e.stateNode;try{mm(t,i)}catch(a){be(e,e.return,a)}}}function _m(e,t,i){i.props=Di(e.type,e.memoizedProps),i.state=e.memoizedState;try{i.componentWillUnmount()}catch(a){be(e,t,a)}}function xi(e,t){try{var i=e.ref;if(i!==null){var a=e.stateNode;switch(e.tag){case 26:case 27:case 5:var o=a;break;default:o=a}typeof i=="function"?e.refCleanup=i(o):i.current=o}}catch(c){be(e,t,c)}}function Tt(e,t){var i=e.ref,a=e.refCleanup;if(i!==null)if(typeof a=="function")try{a()}catch(o){be(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof i=="function")try{i(null)}catch(o){be(e,t,o)}else i.current=null}function pm(e){var t=e.type,i=e.memoizedProps,a=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":i.autoFocus&&a.focus();break e;case"img":i.src?a.src=i.src:i.srcSet&&(a.srcset=i.srcSet)}}catch(o){be(e,e.return,o)}}function ym(e,t,i){try{var a=e.stateNode;j0(a,e.type,i,t),a[dt]=t}catch(o){be(e,e.return,o)}}function vm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Mu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||vm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function xu(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.nodeType===8?i.parentNode.insertBefore(e,t):i.insertBefore(e,t):(i.nodeType===8?(t=i.parentNode,t.insertBefore(e,i)):(t=i,t.appendChild(e)),i=i._reactRootContainer,i!=null||t.onclick!==null||(t.onclick=pr));else if(a!==4&&a!==27&&(e=e.child,e!==null))for(xu(e,t,i),e=e.sibling;e!==null;)xu(e,t,i),e=e.sibling}function lr(e,t,i){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?i.insertBefore(e,t):i.appendChild(e);else if(a!==4&&a!==27&&(e=e.child,e!==null))for(lr(e,t,i),e=e.sibling;e!==null;)lr(e,t,i),e=e.sibling}var vn=!1,xe=!1,Iu=!1,bm=typeof WeakSet=="function"?WeakSet:Set,Ke=null,Sm=!1;function g0(e,t){if(e=e.containerInfo,rc=Cr,e=Hh(e),Lo(e)){if("selectionStart"in e)var i={start:e.selectionStart,end:e.selectionEnd};else e:{i=(i=e.ownerDocument)&&i.defaultView||window;var a=i.getSelection&&i.getSelection();if(a&&a.rangeCount!==0){i=a.anchorNode;var o=a.anchorOffset,c=a.focusNode;a=a.focusOffset;try{i.nodeType,c.nodeType}catch{i=null;break e}var d=0,p=-1,y=-1,T=0,O=0,I=e,R=null;t:for(;;){for(var D;I!==i||o!==0&&I.nodeType!==3||(p=d+o),I!==c||a!==0&&I.nodeType!==3||(y=d+a),I.nodeType===3&&(d+=I.nodeValue.length),(D=I.firstChild)!==null;)R=I,I=D;for(;;){if(I===e)break t;if(R===i&&++T===o&&(p=d),R===c&&++O===a&&(y=d),(D=I.nextSibling)!==null)break;I=R,R=I.parentNode}I=D}i=p===-1||y===-1?null:{start:p,end:y}}else i=null}i=i||{start:0,end:0}}else i=null;for(oc={focusedElem:e,selectionRange:i},Cr=!1,Ke=t;Ke!==null;)if(t=Ke,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Ke=e;else for(;Ke!==null;){switch(t=Ke,c=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,i=t,o=c.memoizedProps,c=c.memoizedState,a=i.stateNode;try{var q=Di(i.type,o,i.elementType===i.type);e=a.getSnapshotBeforeUpdate(q,c),a.__reactInternalSnapshotBeforeUpdate=e}catch(P){be(i,i.return,P)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,i=e.nodeType,i===9)hc(e);else if(i===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":hc(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=t.sibling,e!==null){e.return=t.return,Ke=e;break}Ke=t.return}return q=Sm,Sm=!1,q}function Em(e,t,i){var a=i.flags;switch(i.tag){case 0:case 11:case 15:Sn(e,i),a&4&&Ss(5,i);break;case 1:if(Sn(e,i),a&4)if(e=i.stateNode,t===null)try{e.componentDidMount()}catch(p){be(i,i.return,p)}else{var o=Di(i.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(p){be(i,i.return,p)}}a&64&&gm(i),a&512&&xi(i,i.return);break;case 3:if(Sn(e,i),a&64&&(a=i.updateQueue,a!==null)){if(e=null,i.child!==null)switch(i.child.tag){case 27:case 5:e=i.child.stateNode;break;case 1:e=i.child.stateNode}try{mm(a,e)}catch(p){be(i,i.return,p)}}break;case 26:Sn(e,i),a&512&&xi(i,i.return);break;case 27:case 5:Sn(e,i),t===null&&a&4&&pm(i),a&512&&xi(i,i.return);break;case 12:Sn(e,i);break;case 13:Sn(e,i),a&4&&Am(e,i);break;case 22:if(o=i.memoizedState!==null||vn,!o){t=t!==null&&t.memoizedState!==null||xe;var c=vn,d=xe;vn=o,(xe=t)&&!d?Wn(e,i,(i.subtreeFlags&8772)!==0):Sn(e,i),vn=c,xe=d}a&512&&(i.memoizedProps.mode==="manual"?xi(i,i.return):Tt(i,i.return));break;default:Sn(e,i)}}function Tm(e){var t=e.alternate;t!==null&&(e.alternate=null,Tm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&vo(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var qe=null,Ct=!1;function bn(e,t,i){for(i=i.child;i!==null;)Cm(e,t,i),i=i.sibling}function Cm(e,t,i){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Vl,i)}catch{}switch(i.tag){case 26:xe||Tt(i,t),bn(e,t,i),i.memoizedState?i.memoizedState.count--:i.stateNode&&(i=i.stateNode,i.parentNode.removeChild(i));break;case 27:xe||Tt(i,t);var a=qe,o=Ct;for(qe=i.stateNode,bn(e,t,i),i=i.stateNode,t=i.attributes;t.length;)i.removeAttributeNode(t[0]);vo(i),qe=a,Ct=o;break;case 5:xe||Tt(i,t);case 6:o=qe;var c=Ct;if(qe=null,bn(e,t,i),qe=o,Ct=c,qe!==null)if(Ct)try{e=qe,a=i.stateNode,e.nodeType===8?e.parentNode.removeChild(a):e.removeChild(a)}catch(d){be(i,t,d)}else try{qe.removeChild(i.stateNode)}catch(d){be(i,t,d)}break;case 18:qe!==null&&(Ct?(t=qe,i=i.stateNode,t.nodeType===8?fc(t.parentNode,i):t.nodeType===1&&fc(t,i),js(t)):fc(qe,i.stateNode));break;case 4:a=qe,o=Ct,qe=i.stateNode.containerInfo,Ct=!0,bn(e,t,i),qe=a,Ct=o;break;case 0:case 11:case 14:case 15:xe||Pn(2,i,t),xe||Pn(4,i,t),bn(e,t,i);break;case 1:xe||(Tt(i,t),a=i.stateNode,typeof a.componentWillUnmount=="function"&&_m(i,t,a)),bn(e,t,i);break;case 21:bn(e,t,i);break;case 22:xe||Tt(i,t),xe=(a=xe)||i.memoizedState!==null,bn(e,t,i),xe=a;break;default:bn(e,t,i)}}function Am(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{js(e)}catch(i){be(t,t.return,i)}}function _0(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new bm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new bm),t;default:throw Error(r(435,e.tag))}}function zu(e,t){var i=_0(e);t.forEach(function(a){var o=D0.bind(null,e,a);i.has(a)||(i.add(a),a.then(o,o))})}function Ut(e,t){var i=t.deletions;if(i!==null)for(var a=0;a<i.length;a++){var o=i[a],c=e,d=t,p=d;e:for(;p!==null;){switch(p.tag){case 27:case 5:qe=p.stateNode,Ct=!1;break e;case 3:qe=p.stateNode.containerInfo,Ct=!0;break e;case 4:qe=p.stateNode.containerInfo,Ct=!0;break e}p=p.return}if(qe===null)throw Error(r(160));Cm(c,d,o),qe=null,Ct=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Nm(t,e),t=t.sibling}var Vt=null;function Nm(e,t){var i=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ut(t,e),kt(e),a&4&&(Pn(3,e,e.return),Ss(3,e),Pn(5,e,e.return));break;case 1:Ut(t,e),kt(e),a&512&&(xe||i===null||Tt(i,i.return)),a&64&&vn&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(i=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=i===null?a:i.concat(a))));break;case 26:var o=Vt;if(Ut(t,e),kt(e),a&512&&(xe||i===null||Tt(i,i.return)),a&4){var c=i!==null?i.memoizedState:null;if(a=e.memoizedState,i===null)if(a===null)if(e.stateNode===null){e:{a=e.type,i=e.memoizedProps,o=o.ownerDocument||o;t:switch(a){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Xl]||c[it]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(a),o.head.insertBefore(c,o.querySelector("head > title"))),nt(c,a,i),c[it]=e,Qe(c),a=c;break e;case"link":var d=pg("link","href",o).get(a+(i.href||""));if(d){for(var p=0;p<d.length;p++)if(c=d[p],c.getAttribute("href")===(i.href==null?null:i.href)&&c.getAttribute("rel")===(i.rel==null?null:i.rel)&&c.getAttribute("title")===(i.title==null?null:i.title)&&c.getAttribute("crossorigin")===(i.crossOrigin==null?null:i.crossOrigin)){d.splice(p,1);break t}}c=o.createElement(a),nt(c,a,i),o.head.appendChild(c);break;case"meta":if(d=pg("meta","content",o).get(a+(i.content||""))){for(p=0;p<d.length;p++)if(c=d[p],c.getAttribute("content")===(i.content==null?null:""+i.content)&&c.getAttribute("name")===(i.name==null?null:i.name)&&c.getAttribute("property")===(i.property==null?null:i.property)&&c.getAttribute("http-equiv")===(i.httpEquiv==null?null:i.httpEquiv)&&c.getAttribute("charset")===(i.charSet==null?null:i.charSet)){d.splice(p,1);break t}}c=o.createElement(a),nt(c,a,i),o.head.appendChild(c);break;default:throw Error(r(468,a))}c[it]=e,Qe(c),a=c}e.stateNode=a}else yg(o,e.type,e.stateNode);else e.stateNode=_g(o,a,e.memoizedProps);else c!==a?(c===null?i.stateNode!==null&&(i=i.stateNode,i.parentNode.removeChild(i)):c.count--,a===null?yg(o,e.type,e.stateNode):_g(o,a,e.memoizedProps)):a===null&&e.stateNode!==null&&ym(e,e.memoizedProps,i.memoizedProps)}break;case 27:if(a&4&&e.alternate===null){o=e.stateNode,c=e.memoizedProps;try{for(var y=o.firstChild;y;){var T=y.nextSibling,O=y.nodeName;y[Xl]||O==="HEAD"||O==="BODY"||O==="SCRIPT"||O==="STYLE"||O==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=T}for(var I=e.type,R=o.attributes;R.length;)o.removeAttributeNode(R[0]);nt(o,I,c),o[it]=e,o[dt]=c}catch(q){be(e,e.return,q)}}case 5:if(Ut(t,e),kt(e),a&512&&(xe||i===null||Tt(i,i.return)),e.flags&32){o=e.stateNode;try{tl(o,"")}catch(q){be(e,e.return,q)}}a&4&&e.stateNode!=null&&(o=e.memoizedProps,ym(e,o,i!==null?i.memoizedProps:o)),a&1024&&(Iu=!0);break;case 6:if(Ut(t,e),kt(e),a&4){if(e.stateNode===null)throw Error(r(162));a=e.memoizedProps,i=e.stateNode;try{i.nodeValue=a}catch(q){be(e,e.return,q)}}break;case 3:if(Sr=null,o=Vt,Vt=vr(t.containerInfo),Ut(t,e),Vt=o,kt(e),a&4&&i!==null&&i.memoizedState.isDehydrated)try{js(t.containerInfo)}catch(q){be(e,e.return,q)}Iu&&(Iu=!1,wm(e));break;case 4:a=Vt,Vt=vr(e.stateNode.containerInfo),Ut(t,e),kt(e),Vt=a;break;case 12:Ut(t,e),kt(e);break;case 13:Ut(t,e),kt(e),e.child.flags&8192&&e.memoizedState!==null!=(i!==null&&i.memoizedState!==null)&&(Yu=$t()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zu(e,a)));break;case 22:if(a&512&&(xe||i===null||Tt(i,i.return)),y=e.memoizedState!==null,T=i!==null&&i.memoizedState!==null,O=vn,I=xe,vn=O||y,xe=I||T,Ut(t,e),xe=I,vn=O,kt(e),t=e.stateNode,t._current=e,t._visibility&=-3,t._visibility|=t._pendingVisibility&2,a&8192&&(t._visibility=y?t._visibility&-2:t._visibility|1,y&&(t=vn||xe,i===null||T||t||yl(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))e:for(i=null,t=e;;){if(t.tag===5||t.tag===26||t.tag===27){if(i===null){T=i=t;try{if(o=T.stateNode,y)c=o.style,typeof c.setProperty=="function"?c.setProperty("display","none","important"):c.display="none";else{d=T.stateNode,p=T.memoizedProps.style;var D=p!=null&&p.hasOwnProperty("display")?p.display:null;d.style.display=D==null||typeof D=="boolean"?"":(""+D).trim()}}catch(q){be(T,T.return,q)}}}else if(t.tag===6){if(i===null){T=t;try{T.stateNode.nodeValue=y?"":T.memoizedProps}catch(q){be(T,T.return,q)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;i===t&&(i=null),t=t.return}i===t&&(i=null),t.sibling.return=t.return,t=t.sibling}a&4&&(a=e.updateQueue,a!==null&&(i=a.retryQueue,i!==null&&(a.retryQueue=null,zu(e,i))));break;case 19:Ut(t,e),kt(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,zu(e,a)));break;case 21:break;default:Ut(t,e),kt(e)}}function kt(e){var t=e.flags;if(t&2){try{if(e.tag!==27){e:{for(var i=e.return;i!==null;){if(vm(i)){var a=i;break e}i=i.return}throw Error(r(160))}switch(a.tag){case 27:var o=a.stateNode,c=Mu(e);lr(e,c,o);break;case 5:var d=a.stateNode;a.flags&32&&(tl(d,""),a.flags&=-33);var p=Mu(e);lr(e,p,d);break;case 3:case 4:var y=a.stateNode.containerInfo,T=Mu(e);xu(e,T,y);break;default:throw Error(r(161))}}}catch(O){be(e,e.return,O)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;wm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Sn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Em(e,t.alternate,t),t=t.sibling}function yl(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pn(4,t,t.return),yl(t);break;case 1:Tt(t,t.return);var i=t.stateNode;typeof i.componentWillUnmount=="function"&&_m(t,t.return,i),yl(t);break;case 26:case 27:case 5:Tt(t,t.return),yl(t);break;case 22:Tt(t,t.return),t.memoizedState===null&&yl(t);break;default:yl(t)}e=e.sibling}}function Wn(e,t,i){for(i=i&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var a=t.alternate,o=e,c=t,d=c.flags;switch(c.tag){case 0:case 11:case 15:Wn(o,c,i),Ss(4,c);break;case 1:if(Wn(o,c,i),a=c,o=a.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(T){be(a,a.return,T)}if(a=c,o=a.updateQueue,o!==null){var p=a.stateNode;try{var y=o.shared.hiddenCallbacks;if(y!==null)for(o.shared.hiddenCallbacks=null,o=0;o<y.length;o++)dm(y[o],p)}catch(T){be(a,a.return,T)}}i&&d&64&&gm(c),xi(c,c.return);break;case 26:case 27:case 5:Wn(o,c,i),i&&a===null&&d&4&&pm(c),xi(c,c.return);break;case 12:Wn(o,c,i);break;case 13:Wn(o,c,i),i&&d&4&&Am(o,c);break;case 22:c.memoizedState===null&&Wn(o,c,i),xi(c,c.return);break;default:Wn(o,c,i)}t=t.sibling}}function Lu(e,t){var i=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==i&&(e!=null&&e.refCount++,i!=null&&fs(i))}function Uu(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fs(e))}function $n(e,t,i,a){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Rm(e,t,i,a),t=t.sibling}function Rm(e,t,i,a){var o=t.flags;switch(t.tag){case 0:case 11:case 15:$n(e,t,i,a),o&2048&&Ss(9,t);break;case 3:$n(e,t,i,a),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fs(e)));break;case 12:if(o&2048){$n(e,t,i,a),e=t.stateNode;try{var c=t.memoizedProps,d=c.id,p=c.onPostCommit;typeof p=="function"&&p(d,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(y){be(t,t.return,y)}}else $n(e,t,i,a);break;case 23:break;case 22:c=t.stateNode,t.memoizedState!==null?c._visibility&4?$n(e,t,i,a):Es(e,t):c._visibility&4?$n(e,t,i,a):(c._visibility|=4,vl(e,t,i,a,(t.subtreeFlags&10256)!==0)),o&2048&&Lu(t.alternate,t);break;case 24:$n(e,t,i,a),o&2048&&Uu(t.alternate,t);break;default:$n(e,t,i,a)}}function vl(e,t,i,a,o){for(o=o&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var c=e,d=t,p=i,y=a,T=d.flags;switch(d.tag){case 0:case 11:case 15:vl(c,d,p,y,o),Ss(8,d);break;case 23:break;case 22:var O=d.stateNode;d.memoizedState!==null?O._visibility&4?vl(c,d,p,y,o):Es(c,d):(O._visibility|=4,vl(c,d,p,y,o)),o&&T&2048&&Lu(d.alternate,d);break;case 24:vl(c,d,p,y,o),o&&T&2048&&Uu(d.alternate,d);break;default:vl(c,d,p,y,o)}t=t.sibling}}function Es(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var i=e,a=t,o=a.flags;switch(a.tag){case 22:Es(i,a),o&2048&&Lu(a.alternate,a);break;case 24:Es(i,a),o&2048&&Uu(a.alternate,a);break;default:Es(i,a)}t=t.sibling}}var Ts=8192;function bl(e){if(e.subtreeFlags&Ts)for(e=e.child;e!==null;)Dm(e),e=e.sibling}function Dm(e){switch(e.tag){case 26:bl(e),e.flags&Ts&&e.memoizedState!==null&&lb(Vt,e.memoizedState,e.memoizedProps);break;case 5:bl(e);break;case 3:case 4:var t=Vt;Vt=vr(e.stateNode.containerInfo),bl(e),Vt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=Ts,Ts=16777216,bl(e),Ts=t):bl(e));break;default:bl(e)}}function Om(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Cs(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Ke=a,xm(a,e)}Om(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Mm(e),e=e.sibling}function Mm(e){switch(e.tag){case 0:case 11:case 15:Cs(e),e.flags&2048&&Pn(9,e,e.return);break;case 3:Cs(e);break;case 12:Cs(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&4&&(e.return===null||e.return.tag!==13)?(t._visibility&=-5,sr(e)):Cs(e);break;default:Cs(e)}}function sr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var i=0;i<t.length;i++){var a=t[i];Ke=a,xm(a,e)}Om(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pn(8,t,t.return),sr(t);break;case 22:i=t.stateNode,i._visibility&4&&(i._visibility&=-5,sr(t));break;default:sr(t)}e=e.sibling}}function xm(e,t){for(;Ke!==null;){var i=Ke;switch(i.tag){case 0:case 11:case 15:Pn(8,i,t);break;case 23:case 22:if(i.memoizedState!==null&&i.memoizedState.cachePool!==null){var a=i.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:fs(i.memoizedState.cache)}if(a=i.child,a!==null)a.return=i,Ke=a;else e:for(i=e;Ke!==null;){a=Ke;var o=a.sibling,c=a.return;if(Tm(a),a===i){Ke=null;break e}if(o!==null){o.return=c,Ke=o;break e}Ke=c}}}function p0(e,t,i,a){this.tag=e,this.key=i,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ht(e,t,i,a){return new p0(e,t,i,a)}function ku(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Jn(e,t){var i=e.alternate;return i===null?(i=Ht(e.tag,t,e.key,e.mode),i.elementType=e.elementType,i.type=e.type,i.stateNode=e.stateNode,i.alternate=e,e.alternate=i):(i.pendingProps=t,i.type=e.type,i.flags=0,i.subtreeFlags=0,i.deletions=null),i.flags=e.flags&31457280,i.childLanes=e.childLanes,i.lanes=e.lanes,i.child=e.child,i.memoizedProps=e.memoizedProps,i.memoizedState=e.memoizedState,i.updateQueue=e.updateQueue,t=e.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},i.sibling=e.sibling,i.index=e.index,i.ref=e.ref,i.refCleanup=e.refCleanup,i}function Im(e,t){e.flags&=31457282;var i=e.alternate;return i===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=i.childLanes,e.lanes=i.lanes,e.child=i.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=i.memoizedProps,e.memoizedState=i.memoizedState,e.updateQueue=i.updateQueue,e.type=i.type,t=i.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ar(e,t,i,a,o,c){var d=0;if(a=e,typeof e=="function")ku(e)&&(d=1);else if(typeof e=="string")d=nb(e,i,Wt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case _:return Ii(i.children,o,c,t);case g:d=8,o|=24;break;case E:return e=Ht(12,i,t,o|2),e.elementType=E,e.lanes=c,e;case F:return e=Ht(13,i,t,o),e.elementType=F,e.lanes=c,e;case k:return e=Ht(19,i,t,o),e.elementType=k,e.lanes=c,e;case ce:return zm(i,o,c,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case b:case x:d=10;break e;case A:d=9;break e;case U:d=11;break e;case re:d=14;break e;case we:d=16,a=null;break e}d=29,i=Error(r(130,e===null?"null":typeof e,"")),a=null}return t=Ht(d,i,t,o),t.elementType=e,t.type=a,t.lanes=c,t}function Ii(e,t,i,a){return e=Ht(7,e,a,t),e.lanes=i,e}function zm(e,t,i,a){e=Ht(22,e,a,t),e.elementType=ce,e.lanes=i;var o={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var c=o._current;if(c===null)throw Error(r(456));if((o._pendingVisibility&2)===0){var d=qn(c,2);d!==null&&(o._pendingVisibility|=2,ut(d,c,2))}},attach:function(){var c=o._current;if(c===null)throw Error(r(456));if((o._pendingVisibility&2)!==0){var d=qn(c,2);d!==null&&(o._pendingVisibility&=-3,ut(d,c,2))}}};return e.stateNode=o,e}function Hu(e,t,i){return e=Ht(6,e,null,t),e.lanes=i,e}function ju(e,t,i){return t=Ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=i,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function En(e){e.flags|=4}function Lm(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!vg(t)){if(t=Lt.current,t!==null&&((he&4194176)===he?en!==null:(he&62914560)!==he&&(he&536870912)===0||t!==en))throw os=Vo,$h;e.flags|=8192}}function rr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Jf():536870912,e.lanes|=t,El|=t)}function As(e,t){if(!de)switch(e.tailMode){case"hidden":t=e.tail;for(var i=null;t!==null;)t.alternate!==null&&(i=t),t=t.sibling;i===null?e.tail=null:i.sibling=null;break;case"collapsed":i=e.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Oe(e){var t=e.alternate!==null&&e.alternate.child===e.child,i=0,a=0;if(t)for(var o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags&31457280,a|=o.flags&31457280,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)i|=o.lanes|o.childLanes,a|=o.subtreeFlags,a|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=a,e.childLanes=i,t}function y0(e,t,i){var a=t.pendingProps;switch(Go(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Oe(t),null;case 1:return Oe(t),null;case 3:return i=t.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),yn(Ye),Zi(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(ls(t)?En(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,Yt!==null&&(Xu(Yt),Yt=null))),Oe(t),null;case 26:return i=t.memoizedState,e===null?(En(t),i!==null?(Oe(t),Lm(t,i)):(Oe(t),t.flags&=-16777217)):i?i!==e.memoizedState?(En(t),Oe(t),Lm(t,i)):(Oe(t),t.flags&=-16777217):(e.memoizedProps!==a&&En(t),Oe(t),t.flags&=-16777217),null;case 27:va(t),i=kn.current;var o=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==a&&En(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Oe(t),null}e=Wt.current,ls(t)?Ph(t):(e=fg(o,a,i),t.stateNode=e,En(t))}return Oe(t),null;case 5:if(va(t),i=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==a&&En(t);else{if(!a){if(t.stateNode===null)throw Error(r(166));return Oe(t),null}if(e=Wt.current,ls(t))Ph(t);else{switch(o=yr(kn.current),e){case 1:e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case 2:e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;default:switch(i){case"svg":e=o.createElementNS("http://www.w3.org/2000/svg",i);break;case"math":e=o.createElementNS("http://www.w3.org/1998/Math/MathML",i);break;case"script":e=o.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof a.is=="string"?o.createElement("select",{is:a.is}):o.createElement("select"),a.multiple?e.multiple=!0:a.size&&(e.size=a.size);break;default:e=typeof a.is=="string"?o.createElement(i,{is:a.is}):o.createElement(i)}}e[it]=t,e[dt]=a;e:for(o=t.child;o!==null;){if(o.tag===5||o.tag===6)e.appendChild(o.stateNode);else if(o.tag!==4&&o.tag!==27&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===t)break e;for(;o.sibling===null;){if(o.return===null||o.return===t)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}t.stateNode=e;e:switch(nt(e,i,a),i){case"button":case"input":case"select":case"textarea":e=!!a.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&En(t)}}return Oe(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==a&&En(t);else{if(typeof a!="string"&&t.stateNode===null)throw Error(r(166));if(e=kn.current,ls(t)){if(e=t.stateNode,i=t.memoizedProps,a=null,o=ot,o!==null)switch(o.tag){case 27:case 5:a=o.memoizedProps}e[it]=t,e=!!(e.nodeValue===i||a!==null&&a.suppressHydrationWarning===!0||sg(e.nodeValue,i)),e||Ti(t)}else e=yr(e).createTextNode(a),e[it]=t,t.stateNode=e}return Oe(t),null;case 13:if(a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=ls(t),a!==null&&a.dehydrated!==null){if(e===null){if(!o)throw Error(r(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(r(317));o[it]=t}else ss(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;Oe(t),o=!1}else Yt!==null&&(Xu(Yt),Yt=null),o=!0;if(!o)return t.flags&256?(mn(t),t):(mn(t),null)}if(mn(t),(t.flags&128)!==0)return t.lanes=i,t;if(i=a!==null,e=e!==null&&e.memoizedState!==null,i){a=t.child,o=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(o=a.alternate.memoizedState.cachePool.pool);var c=null;a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048)}return i!==e&&i&&(t.child.flags|=8192),rr(t,t.updateQueue),Oe(t),null;case 4:return Zi(),e===null&&lc(t.stateNode.containerInfo),Oe(t),null;case 10:return yn(t.type),Oe(t),null;case 19:if(He(Ge),o=t.memoizedState,o===null)return Oe(t),null;if(a=(t.flags&128)!==0,c=o.rendering,c===null)if(a)As(o,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=Va(e),c!==null){for(t.flags|=128,As(o,!1),e=c.updateQueue,t.updateQueue=e,rr(t,e),t.subtreeFlags=0,e=i,i=t.child;i!==null;)Im(i,e),i=i.sibling;return De(Ge,Ge.current&1|2),t.child}e=e.sibling}o.tail!==null&&$t()>or&&(t.flags|=128,a=!0,As(o,!1),t.lanes=4194304)}else{if(!a)if(e=Va(c),e!==null){if(t.flags|=128,a=!0,e=e.updateQueue,t.updateQueue=e,rr(t,e),As(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!de)return Oe(t),null}else 2*$t()-o.renderingStartTime>or&&i!==536870912&&(t.flags|=128,a=!0,As(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(e=o.last,e!==null?e.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=$t(),t.sibling=null,e=Ge.current,De(Ge,a?e&1|2:e&1),t):(Oe(t),null);case 22:case 23:return mn(t),Qo(),a=t.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(t.flags|=8192):a&&(t.flags|=8192),a?(i&536870912)!==0&&(t.flags&128)===0&&(Oe(t),t.subtreeFlags&6&&(t.flags|=8192)):Oe(t),i=t.updateQueue,i!==null&&rr(t,i.retryQueue),i=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(i=e.memoizedState.cachePool.pool),a=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),a!==i&&(t.flags|=2048),e!==null&&He(Ai),null;case 24:return i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),yn(Ye),Oe(t),null;case 25:return null}throw Error(r(156,t.tag))}function v0(e,t){switch(Go(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return yn(Ye),Zi(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return va(t),null;case 13:if(mn(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(r(340));ss()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return He(Ge),null;case 4:return Zi(),null;case 10:return yn(t.type),null;case 22:case 23:return mn(t),Qo(),e!==null&&He(Ai),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return yn(Ye),null;case 25:return null;default:return null}}function Um(e,t){switch(Go(t),t.tag){case 3:yn(Ye),Zi();break;case 26:case 27:case 5:va(t);break;case 4:Zi();break;case 13:mn(t);break;case 19:He(Ge);break;case 10:yn(t.type);break;case 22:case 23:mn(t),Qo(),e!==null&&He(Ai);break;case 24:yn(Ye)}}var b0={getCacheForType:function(e){var t=lt(Ye),i=t.data.get(e);return i===void 0&&(i=e(),t.data.set(e,i)),i}},S0=typeof WeakMap=="function"?WeakMap:Map,Me=0,Te=null,le=null,he=0,Ce=0,At=null,Tn=!1,Sl=!1,Bu=!1,Cn=0,Ie=0,ei=0,zi=0,qu=0,jt=0,El=0,Ns=null,nn=null,Gu=!1,Yu=0,or=1/0,ur=null,ti=null,cr=!1,Li=null,ws=0,Vu=0,Fu=null,Rs=0,Qu=null;function Nt(){if((Me&2)!==0&&he!==0)return he&-he;if(Q.T!==null){var e=dl;return e!==0?e:ec()}return ih()}function km(){jt===0&&(jt=(he&536870912)===0||de?$f():536870912);var e=Lt.current;return e!==null&&(e.flags|=32),jt}function ut(e,t,i){(e===Te&&Ce===2||e.cancelPendingCommit!==null)&&(Tl(e,0),An(e,he,jt,!1)),Ql(e,i),((Me&2)===0||e!==Te)&&(e===Te&&((Me&2)===0&&(zi|=i),Ie===4&&An(e,he,jt,!1)),ln(e))}function Hm(e,t,i){if((Me&6)!==0)throw Error(r(327));var a=!i&&(t&60)===0&&(t&e.expiredLanes)===0||Fl(e,t),o=a?C0(e,t):Pu(e,t,!0),c=a;do{if(o===0){Sl&&!a&&An(e,t,0,!1);break}else if(o===6)An(e,t,0,!Tn);else{if(i=e.current.alternate,c&&!E0(i)){o=Pu(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var d=0;else d=e.pendingLanes&-536870913,d=d!==0?d:d&536870912?536870912:0;if(d!==0){t=d;e:{var p=e;o=Ns;var y=p.current.memoizedState.isDehydrated;if(y&&(Tl(p,d).flags|=256),d=Pu(p,d,!1),d!==2){if(Bu&&!y){p.errorRecoveryDisabledLanes|=c,zi|=c,o=4;break e}c=nn,nn=o,c!==null&&Xu(c)}o=d}if(c=!1,o!==2)continue}}if(o===1){Tl(e,0),An(e,t,0,!0);break}e:{switch(a=e,o){case 0:case 1:throw Error(r(345));case 4:if((t&4194176)===t){An(a,t,jt,!Tn);break e}break;case 2:nn=null;break;case 3:case 5:break;default:throw Error(r(329))}if(a.finishedWork=i,a.finishedLanes=t,(t&62914560)===t&&(c=Yu+300-$t(),10<c)){if(An(a,t,jt,!Tn),Ta(a,0)!==0)break e;a.timeoutHandle=og(jm.bind(null,a,i,nn,ur,Gu,t,jt,zi,El,Tn,2,-0,0),c);break e}jm(a,i,nn,ur,Gu,t,jt,zi,El,Tn,0,-0,0)}}break}while(!0);ln(e)}function Xu(e){nn===null?nn=e:nn.push.apply(nn,e)}function jm(e,t,i,a,o,c,d,p,y,T,O,I,R){var D=t.subtreeFlags;if((D&8192||(D&16785408)===16785408)&&(zs={stylesheets:null,count:0,unsuspend:ib},Dm(t),t=sb(),t!==null)){e.cancelPendingCommit=t(Qm.bind(null,e,i,a,o,d,p,y,1,I,R)),An(e,c,d,!T);return}Qm(e,i,a,o,d,p,y,O,I,R)}function E0(e){for(var t=e;;){var i=t.tag;if((i===0||i===11||i===15)&&t.flags&16384&&(i=t.updateQueue,i!==null&&(i=i.stores,i!==null)))for(var a=0;a<i.length;a++){var o=i[a],c=o.getSnapshot;o=o.value;try{if(!Et(c(),o))return!1}catch{return!1}}if(i=t.child,t.subtreeFlags&16384&&i!==null)i.return=t,t=i;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function An(e,t,i,a){t&=~qu,t&=~zi,e.suspendedLanes|=t,e.pingedLanes&=~t,a&&(e.warmLanes|=t),a=e.expirationTimes;for(var o=t;0<o;){var c=31-St(o),d=1<<c;a[c]=-1,o&=~d}i!==0&&eh(e,i,t)}function fr(){return(Me&6)===0?(Ds(0),!1):!0}function Ku(){if(le!==null){if(Ce===0)var e=le.return;else e=le,pn=Oi=null,eu(e),fl=null,us=0,e=le;for(;e!==null;)Um(e.alternate,e),e=e.return;le=null}}function Tl(e,t){e.finishedWork=null,e.finishedLanes=0;var i=e.timeoutHandle;i!==-1&&(e.timeoutHandle=-1,q0(i)),i=e.cancelPendingCommit,i!==null&&(e.cancelPendingCommit=null,i()),Ku(),Te=e,le=i=Jn(e.current,null),he=t,Ce=0,At=null,Tn=!1,Sl=Fl(e,t),Bu=!1,El=jt=qu=zi=ei=Ie=0,nn=Ns=null,Gu=!1,(t&8)!==0&&(t|=t&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=t;0<a;){var o=31-St(a),c=1<<o;t|=e[o],a&=~c}return Cn=t,La(),i}function Bm(e,t){ee=null,Q.H=tn,t===rs?(t=td(),Ce=3):t===$h?(t=td(),Ce=4):Ce=t===Jd?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,At=t,le===null&&(Ie=1,tr(e,xt(t,e.current)))}function qm(){var e=Q.H;return Q.H=tn,e===null?tn:e}function Gm(){var e=Q.A;return Q.A=b0,e}function Zu(){Ie=4,Tn||(he&4194176)!==he&&Lt.current!==null||(Sl=!0),(ei&134217727)===0&&(zi&134217727)===0||Te===null||An(Te,he,jt,!1)}function Pu(e,t,i){var a=Me;Me|=2;var o=qm(),c=Gm();(Te!==e||he!==t)&&(ur=null,Tl(e,t)),t=!1;var d=Ie;e:do try{if(Ce!==0&&le!==null){var p=le,y=At;switch(Ce){case 8:Ku(),d=6;break e;case 3:case 2:case 6:Lt.current===null&&(t=!0);var T=Ce;if(Ce=0,At=null,Cl(e,p,y,T),i&&Sl){d=0;break e}break;default:T=Ce,Ce=0,At=null,Cl(e,p,y,T)}}T0(),d=Ie;break}catch(O){Bm(e,O)}while(!0);return t&&e.shellSuspendCounter++,pn=Oi=null,Me=a,Q.H=o,Q.A=c,le===null&&(Te=null,he=0,La()),d}function T0(){for(;le!==null;)Ym(le)}function C0(e,t){var i=Me;Me|=2;var a=qm(),o=Gm();Te!==e||he!==t?(ur=null,or=$t()+500,Tl(e,t)):Sl=Fl(e,t);e:do try{if(Ce!==0&&le!==null){t=le;var c=At;t:switch(Ce){case 1:Ce=0,At=null,Cl(e,t,c,1);break;case 2:if(Jh(c)){Ce=0,At=null,Vm(t);break}t=function(){Ce===2&&Te===e&&(Ce=7),ln(e)},c.then(t,t);break e;case 3:Ce=7;break e;case 4:Ce=5;break e;case 7:Jh(c)?(Ce=0,At=null,Vm(t)):(Ce=0,At=null,Cl(e,t,c,7));break;case 5:var d=null;switch(le.tag){case 26:d=le.memoizedState;case 5:case 27:var p=le;if(!d||vg(d)){Ce=0,At=null;var y=p.sibling;if(y!==null)le=y;else{var T=p.return;T!==null?(le=T,hr(T)):le=null}break t}}Ce=0,At=null,Cl(e,t,c,5);break;case 6:Ce=0,At=null,Cl(e,t,c,6);break;case 8:Ku(),Ie=6;break e;default:throw Error(r(462))}}A0();break}catch(O){Bm(e,O)}while(!0);return pn=Oi=null,Q.H=a,Q.A=o,Me=i,le!==null?0:(Te=null,he=0,La(),Ie)}function A0(){for(;le!==null&&!Xy();)Ym(le)}function Ym(e){var t=fm(e.alternate,e,Cn);e.memoizedProps=e.pendingProps,t===null?hr(e):le=t}function Vm(e){var t=e,i=t.alternate;switch(t.tag){case 15:case 0:t=sm(i,t,t.pendingProps,t.type,void 0,he);break;case 11:t=sm(i,t,t.pendingProps,t.type.render,t.ref,he);break;case 5:eu(t);default:Um(i,t),t=le=Im(t,Cn),t=fm(i,t,Cn)}e.memoizedProps=e.pendingProps,t===null?hr(e):le=t}function Cl(e,t,i,a){pn=Oi=null,eu(t),fl=null,us=0;var o=t.return;try{if(d0(e,o,t,i,he)){Ie=1,tr(e,xt(i,e.current)),le=null;return}}catch(c){if(o!==null)throw le=o,c;Ie=1,tr(e,xt(i,e.current)),le=null;return}t.flags&32768?(de||a===1?e=!0:Sl||(he&536870912)!==0?e=!1:(Tn=e=!0,(a===2||a===3||a===6)&&(a=Lt.current,a!==null&&a.tag===13&&(a.flags|=16384))),Fm(t,e)):hr(t)}function hr(e){var t=e;do{if((t.flags&32768)!==0){Fm(t,Tn);return}e=t.return;var i=y0(t.alternate,t,Cn);if(i!==null){le=i;return}if(t=t.sibling,t!==null){le=t;return}le=t=e}while(t!==null);Ie===0&&(Ie=5)}function Fm(e,t){do{var i=v0(e.alternate,e);if(i!==null){i.flags&=32767,le=i;return}if(i=e.return,i!==null&&(i.flags|=32768,i.subtreeFlags=0,i.deletions=null),!t&&(e=e.sibling,e!==null)){le=e;return}le=e=i}while(e!==null);Ie=6,le=null}function Qm(e,t,i,a,o,c,d,p,y,T){var O=Q.T,I=j.p;try{j.p=2,Q.T=null,N0(e,t,i,a,I,o,c,d,p,y,T)}finally{Q.T=O,j.p=I}}function N0(e,t,i,a,o,c,d,p){do Al();while(Li!==null);if((Me&6)!==0)throw Error(r(327));var y=e.finishedWork;if(a=e.finishedLanes,y===null)return null;if(e.finishedWork=null,e.finishedLanes=0,y===e.current)throw Error(r(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var T=y.lanes|y.childLanes;if(T|=jo,lv(e,a,T,c,d,p),e===Te&&(le=Te=null,he=0),(y.subtreeFlags&10256)===0&&(y.flags&10256)===0||cr||(cr=!0,Vu=T,Fu=i,O0(ba,function(){return Al(),null})),i=(y.flags&15990)!==0,(y.subtreeFlags&15990)!==0||i?(i=Q.T,Q.T=null,c=j.p,j.p=2,d=Me,Me|=4,g0(e,y),Nm(y,e),Pv(oc,e.containerInfo),Cr=!!rc,oc=rc=null,e.current=y,Em(e,y.alternate,y),Ky(),Me=d,j.p=c,Q.T=i):e.current=y,cr?(cr=!1,Li=e,ws=a):Xm(e,T),T=e.pendingLanes,T===0&&(ti=null),Jy(y.stateNode),ln(e),t!==null)for(o=e.onRecoverableError,y=0;y<t.length;y++)T=t[y],o(T.value,{componentStack:T.stack});return(ws&3)!==0&&Al(),T=e.pendingLanes,(a&4194218)!==0&&(T&42)!==0?e===Qu?Rs++:(Rs=0,Qu=e):Rs=0,Ds(0),null}function Xm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fs(t)))}function Al(){if(Li!==null){var e=Li,t=Vu;Vu=0;var i=nh(ws),a=Q.T,o=j.p;try{if(j.p=32>i?32:i,Q.T=null,Li===null)var c=!1;else{i=Fu,Fu=null;var d=Li,p=ws;if(Li=null,ws=0,(Me&6)!==0)throw Error(r(331));var y=Me;if(Me|=4,Mm(d.current),Rm(d,d.current,p,i),Me=y,Ds(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Vl,d)}catch{}c=!0}return c}finally{j.p=o,Q.T=a,Xm(e,t)}}return!1}function Km(e,t,i){t=xt(i,t),t=mu(e.stateNode,t,2),e=Zn(e,t,2),e!==null&&(Ql(e,2),ln(e))}function be(e,t,i){if(e.tag===3)Km(e,e,i);else for(;t!==null;){if(t.tag===3){Km(t,e,i);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(ti===null||!ti.has(a))){e=xt(i,e),i=Wd(2),a=Zn(t,i,2),a!==null&&($d(i,a,t,e),Ql(a,2),ln(a));break}}t=t.return}}function Wu(e,t,i){var a=e.pingCache;if(a===null){a=e.pingCache=new S0;var o=new Set;a.set(t,o)}else o=a.get(t),o===void 0&&(o=new Set,a.set(t,o));o.has(i)||(Bu=!0,o.add(i),e=w0.bind(null,e,t,i),t.then(e,e))}function w0(e,t,i){var a=e.pingCache;a!==null&&a.delete(t),e.pingedLanes|=e.suspendedLanes&i,e.warmLanes&=~i,Te===e&&(he&i)===i&&(Ie===4||Ie===3&&(he&62914560)===he&&300>$t()-Yu?(Me&2)===0&&Tl(e,0):qu|=i,El===he&&(El=0)),ln(e)}function Zm(e,t){t===0&&(t=Jf()),e=qn(e,t),e!==null&&(Ql(e,t),ln(e))}function R0(e){var t=e.memoizedState,i=0;t!==null&&(i=t.retryLane),Zm(e,i)}function D0(e,t){var i=0;switch(e.tag){case 13:var a=e.stateNode,o=e.memoizedState;o!==null&&(i=o.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(r(314))}a!==null&&a.delete(t),Zm(e,i)}function O0(e,t){return go(e,t)}var dr=null,Nl=null,$u=!1,mr=!1,Ju=!1,Ui=0;function ln(e){e!==Nl&&e.next===null&&(Nl===null?dr=Nl=e:Nl=Nl.next=e),mr=!0,$u||($u=!0,x0(M0))}function Ds(e,t){if(!Ju&&mr){Ju=!0;do for(var i=!1,a=dr;a!==null;){if(e!==0){var o=a.pendingLanes;if(o===0)var c=0;else{var d=a.suspendedLanes,p=a.pingedLanes;c=(1<<31-St(42|e)+1)-1,c&=o&~(d&~p),c=c&201326677?c&201326677|1:c?c|2:0}c!==0&&(i=!0,$m(a,c))}else c=he,c=Ta(a,a===Te?c:0),(c&3)===0||Fl(a,c)||(i=!0,$m(a,c));a=a.next}while(i);Ju=!1}}function M0(){mr=$u=!1;var e=0;Ui!==0&&(B0()&&(e=Ui),Ui=0);for(var t=$t(),i=null,a=dr;a!==null;){var o=a.next,c=Pm(a,t);c===0?(a.next=null,i===null?dr=o:i.next=o,o===null&&(Nl=i)):(i=a,(e!==0||(c&3)!==0)&&(mr=!0)),a=o}Ds(e)}function Pm(e,t){for(var i=e.suspendedLanes,a=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var d=31-St(c),p=1<<d,y=o[d];y===-1?((p&i)===0||(p&a)!==0)&&(o[d]=iv(p,t)):y<=t&&(e.expiredLanes|=p),c&=~p}if(t=Te,i=he,i=Ta(e,e===t?i:0),a=e.callbackNode,i===0||e===t&&Ce===2||e.cancelPendingCommit!==null)return a!==null&&a!==null&&_o(a),e.callbackNode=null,e.callbackPriority=0;if((i&3)===0||Fl(e,i)){if(t=i&-i,t===e.callbackPriority)return t;switch(a!==null&&_o(a),nh(i)){case 2:case 8:i=Pf;break;case 32:i=ba;break;case 268435456:i=Wf;break;default:i=ba}return a=Wm.bind(null,e),i=go(i,a),e.callbackPriority=t,e.callbackNode=i,t}return a!==null&&a!==null&&_o(a),e.callbackPriority=2,e.callbackNode=null,2}function Wm(e,t){var i=e.callbackNode;if(Al()&&e.callbackNode!==i)return null;var a=he;return a=Ta(e,e===Te?a:0),a===0?null:(Hm(e,a,t),Pm(e,$t()),e.callbackNode!=null&&e.callbackNode===i?Wm.bind(null,e):null)}function $m(e,t){if(Al())return null;Hm(e,t,!0)}function x0(e){G0(function(){(Me&6)!==0?go(Zf,e):e()})}function ec(){return Ui===0&&(Ui=$f()),Ui}function Jm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ra(""+e)}function eg(e,t){var i=t.ownerDocument.createElement("input");return i.name=t.name,i.value=t.value,e.id&&i.setAttribute("form",e.id),t.parentNode.insertBefore(i,t),e=new FormData(e),i.parentNode.removeChild(i),e}function I0(e,t,i,a,o){if(t==="submit"&&i&&i.stateNode===o){var c=Jm((o[dt]||null).action),d=a.submitter;d&&(t=(t=d[dt]||null)?Jm(t.formAction):d.getAttribute("formAction"),t!==null&&(c=t,d=null));var p=new xa("action","action",null,a,o);e.push({event:p,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(Ui!==0){var y=d?eg(o,d):new FormData(o);uu(i,{pending:!0,data:y,method:o.method,action:c},null,y)}}else typeof c=="function"&&(p.preventDefault(),y=d?eg(o,d):new FormData(o),uu(i,{pending:!0,data:y,method:o.method,action:c},c,y))},currentTarget:o}]})}}for(var tc=0;tc<Qh.length;tc++){var nc=Qh[tc],z0=nc.toLowerCase(),L0=nc[0].toUpperCase()+nc.slice(1);Gt(z0,"on"+L0)}Gt(qh,"onAnimationEnd"),Gt(Gh,"onAnimationIteration"),Gt(Yh,"onAnimationStart"),Gt("dblclick","onDoubleClick"),Gt("focusin","onFocus"),Gt("focusout","onBlur"),Gt($v,"onTransitionRun"),Gt(Jv,"onTransitionStart"),Gt(e0,"onTransitionCancel"),Gt(Vh,"onTransitionEnd"),Ji("onMouseEnter",["mouseout","mouseover"]),Ji("onMouseLeave",["mouseout","mouseover"]),Ji("onPointerEnter",["pointerout","pointerover"]),Ji("onPointerLeave",["pointerout","pointerover"]),pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Os="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Os));function tg(e,t){t=(t&4)!==0;for(var i=0;i<e.length;i++){var a=e[i],o=a.event;a=a.listeners;e:{var c=void 0;if(t)for(var d=a.length-1;0<=d;d--){var p=a[d],y=p.instance,T=p.currentTarget;if(p=p.listener,y!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=T;try{c(o)}catch(O){er(O)}o.currentTarget=null,c=y}else for(d=0;d<a.length;d++){if(p=a[d],y=p.instance,T=p.currentTarget,p=p.listener,y!==c&&o.isPropagationStopped())break e;c=p,o.currentTarget=T;try{c(o)}catch(O){er(O)}o.currentTarget=null,c=y}}}}function ue(e,t){var i=t[yo];i===void 0&&(i=t[yo]=new Set);var a=e+"__bubble";i.has(a)||(ng(t,e,2,!1),i.add(a))}function ic(e,t,i){var a=0;t&&(a|=4),ng(i,e,a,t)}var gr="_reactListening"+Math.random().toString(36).slice(2);function lc(e){if(!e[gr]){e[gr]=!0,sh.forEach(function(i){i!=="selectionchange"&&(U0.has(i)||ic(i,!1,e),ic(i,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[gr]||(t[gr]=!0,ic("selectionchange",!1,t))}}function ng(e,t,i,a){switch(Ag(t)){case 2:var o=ob;break;case 8:o=ub;break;default:o=pc}i=o.bind(null,t,i,e),o=void 0,!No||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),a?o!==void 0?e.addEventListener(t,i,{capture:!0,passive:o}):e.addEventListener(t,i,!0):o!==void 0?e.addEventListener(t,i,{passive:o}):e.addEventListener(t,i,!1)}function sc(e,t,i,a,o){var c=a;if((t&1)===0&&(t&2)===0&&a!==null)e:for(;;){if(a===null)return;var d=a.tag;if(d===3||d===4){var p=a.stateNode.containerInfo;if(p===o||p.nodeType===8&&p.parentNode===o)break;if(d===4)for(d=a.return;d!==null;){var y=d.tag;if((y===3||y===4)&&(y=d.stateNode.containerInfo,y===o||y.nodeType===8&&y.parentNode===o))return;d=d.return}for(;p!==null;){if(d=_i(p),d===null)return;if(y=d.tag,y===5||y===6||y===26||y===27){a=c=d;continue e}p=p.parentNode}}a=a.return}ph(function(){var T=c,O=Co(i),I=[];e:{var R=Fh.get(e);if(R!==void 0){var D=xa,q=e;switch(e){case"keypress":if(Oa(i)===0)break e;case"keydown":case"keyup":D=Dv;break;case"focusin":q="focus",D=Oo;break;case"focusout":q="blur",D=Oo;break;case"beforeblur":case"afterblur":D=Oo;break;case"click":if(i.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":D=bh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":D=pv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":D=xv;break;case qh:case Gh:case Yh:D=bv;break;case Vh:D=zv;break;case"scroll":case"scrollend":D=gv;break;case"wheel":D=Uv;break;case"copy":case"cut":case"paste":D=Ev;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":D=Eh;break;case"toggle":case"beforetoggle":D=Hv}var P=(t&4)!==0,ze=!P&&(e==="scroll"||e==="scrollend"),C=P?R!==null?R+"Capture":null:R;P=[];for(var S=T,N;S!==null;){var M=S;if(N=M.stateNode,M=M.tag,M!==5&&M!==26&&M!==27||N===null||C===null||(M=Zl(S,C),M!=null&&P.push(Ms(S,M,N))),ze)break;S=S.return}0<P.length&&(R=new D(R,q,null,i,O),I.push({event:R,listeners:P}))}}if((t&7)===0){e:{if(R=e==="mouseover"||e==="pointerover",D=e==="mouseout"||e==="pointerout",R&&i!==To&&(q=i.relatedTarget||i.fromElement)&&(_i(q)||q[Pi]))break e;if((D||R)&&(R=O.window===O?O:(R=O.ownerDocument)?R.defaultView||R.parentWindow:window,D?(q=i.relatedTarget||i.toElement,D=T,q=q?_i(q):null,q!==null&&(ze=Z(q),P=q.tag,q!==ze||P!==5&&P!==27&&P!==6)&&(q=null)):(D=null,q=T),D!==q)){if(P=bh,M="onMouseLeave",C="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(P=Eh,M="onPointerLeave",C="onPointerEnter",S="pointer"),ze=D==null?R:Kl(D),N=q==null?R:Kl(q),R=new P(M,S+"leave",D,i,O),R.target=ze,R.relatedTarget=N,M=null,_i(O)===T&&(P=new P(C,S+"enter",q,i,O),P.target=N,P.relatedTarget=ze,M=P),ze=M,D&&q)t:{for(P=D,C=q,S=0,N=P;N;N=wl(N))S++;for(N=0,M=C;M;M=wl(M))N++;for(;0<S-N;)P=wl(P),S--;for(;0<N-S;)C=wl(C),N--;for(;S--;){if(P===C||C!==null&&P===C.alternate)break t;P=wl(P),C=wl(C)}P=null}else P=null;D!==null&&ig(I,R,D,P,!1),q!==null&&ze!==null&&ig(I,ze,q,P,!0)}}e:{if(R=T?Kl(T):window,D=R.nodeName&&R.nodeName.toLowerCase(),D==="select"||D==="input"&&R.type==="file")var B=Oh;else if(Rh(R))if(Mh)B=Kv;else{B=Qv;var te=Fv}else D=R.nodeName,!D||D.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?T&&Eo(T.elementType)&&(B=Oh):B=Xv;if(B&&(B=B(e,T))){Dh(I,B,i,O);break e}te&&te(e,R,T),e==="focusout"&&T&&R.type==="number"&&T.memoizedProps.value!=null&&So(R,"number",R.value)}switch(te=T?Kl(T):window,e){case"focusin":(Rh(te)||te.contentEditable==="true")&&(sl=te,Uo=T,is=null);break;case"focusout":is=Uo=sl=null;break;case"mousedown":ko=!0;break;case"contextmenu":case"mouseup":case"dragend":ko=!1,jh(I,i,O);break;case"selectionchange":if(Wv)break;case"keydown":case"keyup":jh(I,i,O)}var G;if(xo)e:{switch(e){case"compositionstart":var V="onCompositionStart";break e;case"compositionend":V="onCompositionEnd";break e;case"compositionupdate":V="onCompositionUpdate";break e}V=void 0}else ll?Nh(e,i)&&(V="onCompositionEnd"):e==="keydown"&&i.keyCode===229&&(V="onCompositionStart");V&&(Th&&i.locale!=="ko"&&(ll||V!=="onCompositionStart"?V==="onCompositionEnd"&&ll&&(G=yh()):(Bn=O,wo="value"in Bn?Bn.value:Bn.textContent,ll=!0)),te=_r(T,V),0<te.length&&(V=new Sh(V,e,null,i,O),I.push({event:V,listeners:te}),G?V.data=G:(G=wh(i),G!==null&&(V.data=G)))),(G=Bv?qv(e,i):Gv(e,i))&&(V=_r(T,"onBeforeInput"),0<V.length&&(te=new Sh("onBeforeInput","beforeinput",null,i,O),I.push({event:te,listeners:V}),te.data=G)),I0(I,e,T,i,O)}tg(I,t)})}function Ms(e,t,i){return{instance:e,listener:t,currentTarget:i}}function _r(e,t){for(var i=t+"Capture",a=[];e!==null;){var o=e,c=o.stateNode;o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=Zl(e,i),o!=null&&a.unshift(Ms(e,o,c)),o=Zl(e,t),o!=null&&a.push(Ms(e,o,c))),e=e.return}return a}function wl(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function ig(e,t,i,a,o){for(var c=t._reactName,d=[];i!==null&&i!==a;){var p=i,y=p.alternate,T=p.stateNode;if(p=p.tag,y!==null&&y===a)break;p!==5&&p!==26&&p!==27||T===null||(y=T,o?(T=Zl(i,c),T!=null&&d.unshift(Ms(i,T,y))):o||(T=Zl(i,c),T!=null&&d.push(Ms(i,T,y)))),i=i.return}d.length!==0&&e.push({event:t,listeners:d})}var k0=/\r\n?/g,H0=/\u0000|\uFFFD/g;function lg(e){return(typeof e=="string"?e:""+e).replace(k0,`
`).replace(H0,"")}function sg(e,t){return t=lg(t),lg(e)===t}function pr(){}function ve(e,t,i,a,o,c){switch(i){case"children":typeof a=="string"?t==="body"||t==="textarea"&&a===""||tl(e,a):(typeof a=="number"||typeof a=="bigint")&&t!=="body"&&tl(e,""+a);break;case"className":Aa(e,"class",a);break;case"tabIndex":Aa(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Aa(e,i,a);break;case"style":gh(e,a,c);break;case"data":if(t!=="object"){Aa(e,"data",a);break}case"src":case"href":if(a===""&&(t!=="a"||i!=="href")){e.removeAttribute(i);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Ra(""+a),e.setAttribute(i,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(i,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(i==="formAction"?(t!=="input"&&ve(e,t,"name",o.name,o,null),ve(e,t,"formEncType",o.formEncType,o,null),ve(e,t,"formMethod",o.formMethod,o,null),ve(e,t,"formTarget",o.formTarget,o,null)):(ve(e,t,"encType",o.encType,o,null),ve(e,t,"method",o.method,o,null),ve(e,t,"target",o.target,o,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(i);break}a=Ra(""+a),e.setAttribute(i,a);break;case"onClick":a!=null&&(e.onclick=pr);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}i=Ra(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",i);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""+a):e.removeAttribute(i);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,""):e.removeAttribute(i);break;case"capture":case"download":a===!0?e.setAttribute(i,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(i,a):e.removeAttribute(i);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(i,a):e.removeAttribute(i);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(i):e.setAttribute(i,a);break;case"popover":ue("beforetoggle",e),ue("toggle",e),Ca(e,"popover",a);break;case"xlinkActuate":fn(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":fn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":fn(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":fn(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":fn(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":fn(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":fn(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":fn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":fn(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Ca(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<i.length)||i[0]!=="o"&&i[0]!=="O"||i[1]!=="n"&&i[1]!=="N")&&(i=dv.get(i)||i,Ca(e,i,a))}}function ac(e,t,i,a,o,c){switch(i){case"style":gh(e,a,c);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(r(61));if(i=a.__html,i!=null){if(o.children!=null)throw Error(r(60));e.innerHTML=i}}break;case"children":typeof a=="string"?tl(e,a):(typeof a=="number"||typeof a=="bigint")&&tl(e,""+a);break;case"onScroll":a!=null&&ue("scroll",e);break;case"onScrollEnd":a!=null&&ue("scrollend",e);break;case"onClick":a!=null&&(e.onclick=pr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ah.hasOwnProperty(i))e:{if(i[0]==="o"&&i[1]==="n"&&(o=i.endsWith("Capture"),t=i.slice(2,o?i.length-7:void 0),c=e[dt]||null,c=c!=null?c[i]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof a=="function")){typeof c!="function"&&c!==null&&(i in e?e[i]=null:e.hasAttribute(i)&&e.removeAttribute(i)),e.addEventListener(t,a,o);break e}i in e?e[i]=a:a===!0?e.setAttribute(i,""):Ca(e,i,a)}}}function nt(e,t,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ue("error",e),ue("load",e);var a=!1,o=!1,c;for(c in i)if(i.hasOwnProperty(c)){var d=i[c];if(d!=null)switch(c){case"src":a=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ve(e,t,c,d,i,null)}}o&&ve(e,t,"srcSet",i.srcSet,i,null),a&&ve(e,t,"src",i.src,i,null);return;case"input":ue("invalid",e);var p=c=d=o=null,y=null,T=null;for(a in i)if(i.hasOwnProperty(a)){var O=i[a];if(O!=null)switch(a){case"name":o=O;break;case"type":d=O;break;case"checked":y=O;break;case"defaultChecked":T=O;break;case"value":c=O;break;case"defaultValue":p=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(r(137,t));break;default:ve(e,t,a,O,i,null)}}fh(e,c,p,y,T,d,o,!1),Na(e);return;case"select":ue("invalid",e),a=d=c=null;for(o in i)if(i.hasOwnProperty(o)&&(p=i[o],p!=null))switch(o){case"value":c=p;break;case"defaultValue":d=p;break;case"multiple":a=p;default:ve(e,t,o,p,i,null)}t=c,i=d,e.multiple=!!a,t!=null?el(e,!!a,t,!1):i!=null&&el(e,!!a,i,!0);return;case"textarea":ue("invalid",e),c=o=a=null;for(d in i)if(i.hasOwnProperty(d)&&(p=i[d],p!=null))switch(d){case"value":a=p;break;case"defaultValue":o=p;break;case"children":c=p;break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(r(91));break;default:ve(e,t,d,p,i,null)}dh(e,a,o,c),Na(e);return;case"option":for(y in i)if(i.hasOwnProperty(y)&&(a=i[y],a!=null))switch(y){case"selected":e.selected=a&&typeof a!="function"&&typeof a!="symbol";break;default:ve(e,t,y,a,i,null)}return;case"dialog":ue("cancel",e),ue("close",e);break;case"iframe":case"object":ue("load",e);break;case"video":case"audio":for(a=0;a<Os.length;a++)ue(Os[a],e);break;case"image":ue("error",e),ue("load",e);break;case"details":ue("toggle",e);break;case"embed":case"source":case"link":ue("error",e),ue("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(T in i)if(i.hasOwnProperty(T)&&(a=i[T],a!=null))switch(T){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,t));default:ve(e,t,T,a,i,null)}return;default:if(Eo(t)){for(O in i)i.hasOwnProperty(O)&&(a=i[O],a!==void 0&&ac(e,t,O,a,i,void 0));return}}for(p in i)i.hasOwnProperty(p)&&(a=i[p],a!=null&&ve(e,t,p,a,i,null))}function j0(e,t,i,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,d=null,p=null,y=null,T=null,O=null;for(D in i){var I=i[D];if(i.hasOwnProperty(D)&&I!=null)switch(D){case"checked":break;case"value":break;case"defaultValue":y=I;default:a.hasOwnProperty(D)||ve(e,t,D,null,a,I)}}for(var R in a){var D=a[R];if(I=i[R],a.hasOwnProperty(R)&&(D!=null||I!=null))switch(R){case"type":c=D;break;case"name":o=D;break;case"checked":T=D;break;case"defaultChecked":O=D;break;case"value":d=D;break;case"defaultValue":p=D;break;case"children":case"dangerouslySetInnerHTML":if(D!=null)throw Error(r(137,t));break;default:D!==I&&ve(e,t,R,D,a,I)}}bo(e,d,p,y,T,O,c,o);return;case"select":D=d=p=R=null;for(c in i)if(y=i[c],i.hasOwnProperty(c)&&y!=null)switch(c){case"value":break;case"multiple":D=y;default:a.hasOwnProperty(c)||ve(e,t,c,null,a,y)}for(o in a)if(c=a[o],y=i[o],a.hasOwnProperty(o)&&(c!=null||y!=null))switch(o){case"value":R=c;break;case"defaultValue":p=c;break;case"multiple":d=c;default:c!==y&&ve(e,t,o,c,a,y)}t=p,i=d,a=D,R!=null?el(e,!!i,R,!1):!!a!=!!i&&(t!=null?el(e,!!i,t,!0):el(e,!!i,i?[]:"",!1));return;case"textarea":D=R=null;for(p in i)if(o=i[p],i.hasOwnProperty(p)&&o!=null&&!a.hasOwnProperty(p))switch(p){case"value":break;case"children":break;default:ve(e,t,p,null,a,o)}for(d in a)if(o=a[d],c=i[d],a.hasOwnProperty(d)&&(o!=null||c!=null))switch(d){case"value":R=o;break;case"defaultValue":D=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(r(91));break;default:o!==c&&ve(e,t,d,o,a,c)}hh(e,R,D);return;case"option":for(var q in i)if(R=i[q],i.hasOwnProperty(q)&&R!=null&&!a.hasOwnProperty(q))switch(q){case"selected":e.selected=!1;break;default:ve(e,t,q,null,a,R)}for(y in a)if(R=a[y],D=i[y],a.hasOwnProperty(y)&&R!==D&&(R!=null||D!=null))switch(y){case"selected":e.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:ve(e,t,y,R,a,D)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var P in i)R=i[P],i.hasOwnProperty(P)&&R!=null&&!a.hasOwnProperty(P)&&ve(e,t,P,null,a,R);for(T in a)if(R=a[T],D=i[T],a.hasOwnProperty(T)&&R!==D&&(R!=null||D!=null))switch(T){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(r(137,t));break;default:ve(e,t,T,R,a,D)}return;default:if(Eo(t)){for(var ze in i)R=i[ze],i.hasOwnProperty(ze)&&R!==void 0&&!a.hasOwnProperty(ze)&&ac(e,t,ze,void 0,a,R);for(O in a)R=a[O],D=i[O],!a.hasOwnProperty(O)||R===D||R===void 0&&D===void 0||ac(e,t,O,R,a,D);return}}for(var C in i)R=i[C],i.hasOwnProperty(C)&&R!=null&&!a.hasOwnProperty(C)&&ve(e,t,C,null,a,R);for(I in a)R=a[I],D=i[I],!a.hasOwnProperty(I)||R===D||R==null&&D==null||ve(e,t,I,R,a,D)}var rc=null,oc=null;function yr(e){return e.nodeType===9?e:e.ownerDocument}function ag(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function rg(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function uc(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var cc=null;function B0(){var e=window.event;return e&&e.type==="popstate"?e===cc?!1:(cc=e,!0):(cc=null,!1)}var og=typeof setTimeout=="function"?setTimeout:void 0,q0=typeof clearTimeout=="function"?clearTimeout:void 0,ug=typeof Promise=="function"?Promise:void 0,G0=typeof queueMicrotask=="function"?queueMicrotask:typeof ug<"u"?function(e){return ug.resolve(null).then(e).catch(Y0)}:og;function Y0(e){setTimeout(function(){throw e})}function fc(e,t){var i=t,a=0;do{var o=i.nextSibling;if(e.removeChild(i),o&&o.nodeType===8)if(i=o.data,i==="/$"){if(a===0){e.removeChild(o),js(t);return}a--}else i!=="$"&&i!=="$?"&&i!=="$!"||a++;i=o}while(i);js(t)}function hc(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var i=t;switch(t=t.nextSibling,i.nodeName){case"HTML":case"HEAD":case"BODY":hc(i),vo(i);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(i.rel.toLowerCase()==="stylesheet")continue}e.removeChild(i)}}function V0(e,t,i,a){for(;e.nodeType===1;){var o=i;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Xl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=Ft(e.nextSibling),e===null)break}return null}function F0(e,t,i){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=Ft(e.nextSibling),e===null))return null;return e}function Ft(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}function cg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var i=e.data;if(i==="$"||i==="$!"||i==="$?"){if(t===0)return e;t--}else i==="/$"&&t++}e=e.previousSibling}return null}function fg(e,t,i){switch(t=yr(i),e){case"html":if(e=t.documentElement,!e)throw Error(r(452));return e;case"head":if(e=t.head,!e)throw Error(r(453));return e;case"body":if(e=t.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}var Bt=new Map,hg=new Set;function vr(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Nn=j.d;j.d={f:Q0,r:X0,D:K0,C:Z0,L:P0,m:W0,X:J0,S:$0,M:eb};function Q0(){var e=Nn.f(),t=fr();return e||t}function X0(e){var t=Wi(e);t!==null&&t.tag===5&&t.type==="form"?jd(t):Nn.r(e)}var Rl=typeof document>"u"?null:document;function dg(e,t,i){var a=Rl;if(a&&typeof t=="string"&&t){var o=Ot(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof i=="string"&&(o+='[crossorigin="'+i+'"]'),hg.has(o)||(hg.add(o),e={rel:e,crossOrigin:i,href:t},a.querySelector(o)===null&&(t=a.createElement("link"),nt(t,"link",e),Qe(t),a.head.appendChild(t)))}}function K0(e){Nn.D(e),dg("dns-prefetch",e,null)}function Z0(e,t){Nn.C(e,t),dg("preconnect",e,t)}function P0(e,t,i){Nn.L(e,t,i);var a=Rl;if(a&&e&&t){var o='link[rel="preload"][as="'+Ot(t)+'"]';t==="image"&&i&&i.imageSrcSet?(o+='[imagesrcset="'+Ot(i.imageSrcSet)+'"]',typeof i.imageSizes=="string"&&(o+='[imagesizes="'+Ot(i.imageSizes)+'"]')):o+='[href="'+Ot(e)+'"]';var c=o;switch(t){case"style":c=Dl(e);break;case"script":c=Ol(e)}Bt.has(c)||(e=_e({rel:"preload",href:t==="image"&&i&&i.imageSrcSet?void 0:e,as:t},i),Bt.set(c,e),a.querySelector(o)!==null||t==="style"&&a.querySelector(xs(c))||t==="script"&&a.querySelector(Is(c))||(t=a.createElement("link"),nt(t,"link",e),Qe(t),a.head.appendChild(t)))}}function W0(e,t){Nn.m(e,t);var i=Rl;if(i&&e){var a=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+Ot(a)+'"][href="'+Ot(e)+'"]',c=o;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Ol(e)}if(!Bt.has(c)&&(e=_e({rel:"modulepreload",href:e},t),Bt.set(c,e),i.querySelector(o)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(i.querySelector(Is(c)))return}a=i.createElement("link"),nt(a,"link",e),Qe(a),i.head.appendChild(a)}}}function $0(e,t,i){Nn.S(e,t,i);var a=Rl;if(a&&e){var o=$i(a).hoistableStyles,c=Dl(e);t=t||"default";var d=o.get(c);if(!d){var p={loading:0,preload:null};if(d=a.querySelector(xs(c)))p.loading=5;else{e=_e({rel:"stylesheet",href:e,"data-precedence":t},i),(i=Bt.get(c))&&dc(e,i);var y=d=a.createElement("link");Qe(y),nt(y,"link",e),y._p=new Promise(function(T,O){y.onload=T,y.onerror=O}),y.addEventListener("load",function(){p.loading|=1}),y.addEventListener("error",function(){p.loading|=2}),p.loading|=4,br(d,t,a)}d={type:"stylesheet",instance:d,count:1,state:p},o.set(c,d)}}}function J0(e,t){Nn.X(e,t);var i=Rl;if(i&&e){var a=$i(i).hoistableScripts,o=Ol(e),c=a.get(o);c||(c=i.querySelector(Is(o)),c||(e=_e({src:e,async:!0},t),(t=Bt.get(o))&&mc(e,t),c=i.createElement("script"),Qe(c),nt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(o,c))}}function eb(e,t){Nn.M(e,t);var i=Rl;if(i&&e){var a=$i(i).hoistableScripts,o=Ol(e),c=a.get(o);c||(c=i.querySelector(Is(o)),c||(e=_e({src:e,async:!0,type:"module"},t),(t=Bt.get(o))&&mc(e,t),c=i.createElement("script"),Qe(c),nt(c,"link",e),i.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},a.set(o,c))}}function mg(e,t,i,a){var o=(o=kn.current)?vr(o):null;if(!o)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof i.precedence=="string"&&typeof i.href=="string"?(t=Dl(i.href),i=$i(o).hoistableStyles,a=i.get(t),a||(a={type:"style",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(i.rel==="stylesheet"&&typeof i.href=="string"&&typeof i.precedence=="string"){e=Dl(i.href);var c=$i(o).hoistableStyles,d=c.get(e);if(d||(o=o.ownerDocument||o,d={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,d),(c=o.querySelector(xs(e)))&&!c._p&&(d.instance=c,d.state.loading=5),Bt.has(e)||(i={rel:"preload",as:"style",href:i.href,crossOrigin:i.crossOrigin,integrity:i.integrity,media:i.media,hrefLang:i.hrefLang,referrerPolicy:i.referrerPolicy},Bt.set(e,i),c||tb(o,e,i,d.state))),t&&a===null)throw Error(r(528,""));return d}if(t&&a!==null)throw Error(r(529,""));return null;case"script":return t=i.async,i=i.src,typeof i=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ol(i),i=$i(o).hoistableScripts,a=i.get(t),a||(a={type:"script",instance:null,count:0,state:null},i.set(t,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Dl(e){return'href="'+Ot(e)+'"'}function xs(e){return'link[rel="stylesheet"]['+e+"]"}function gg(e){return _e({},e,{"data-precedence":e.precedence,precedence:null})}function tb(e,t,i,a){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?a.loading=1:(t=e.createElement("link"),a.preload=t,t.addEventListener("load",function(){return a.loading|=1}),t.addEventListener("error",function(){return a.loading|=2}),nt(t,"link",i),Qe(t),e.head.appendChild(t))}function Ol(e){return'[src="'+Ot(e)+'"]'}function Is(e){return"script[async]"+e}function _g(e,t,i){if(t.count++,t.instance===null)switch(t.type){case"style":var a=e.querySelector('style[data-href~="'+Ot(i.href)+'"]');if(a)return t.instance=a,Qe(a),a;var o=_e({},i,{"data-href":i.href,"data-precedence":i.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Qe(a),nt(a,"style",o),br(a,i.precedence,e),t.instance=a;case"stylesheet":o=Dl(i.href);var c=e.querySelector(xs(o));if(c)return t.state.loading|=4,t.instance=c,Qe(c),c;a=gg(i),(o=Bt.get(o))&&dc(a,o),c=(e.ownerDocument||e).createElement("link"),Qe(c);var d=c;return d._p=new Promise(function(p,y){d.onload=p,d.onerror=y}),nt(c,"link",a),t.state.loading|=4,br(c,i.precedence,e),t.instance=c;case"script":return c=Ol(i.src),(o=e.querySelector(Is(c)))?(t.instance=o,Qe(o),o):(a=i,(o=Bt.get(c))&&(a=_e({},i),mc(a,o)),e=e.ownerDocument||e,o=e.createElement("script"),Qe(o),nt(o,"link",a),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(r(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(a=t.instance,t.state.loading|=4,br(a,i.precedence,e));return t.instance}function br(e,t,i){for(var a=i.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=a.length?a[a.length-1]:null,c=o,d=0;d<a.length;d++){var p=a[d];if(p.dataset.precedence===t)c=p;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=i.nodeType===9?i.head:i,t.insertBefore(e,t.firstChild))}function dc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function mc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Sr=null;function pg(e,t,i){if(Sr===null){var a=new Map,o=Sr=new Map;o.set(i,a)}else o=Sr,a=o.get(i),a||(a=new Map,o.set(i,a));if(a.has(e))return a;for(a.set(e,null),i=i.getElementsByTagName(e),o=0;o<i.length;o++){var c=i[o];if(!(c[Xl]||c[it]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var d=c.getAttribute(t)||"";d=e+d;var p=a.get(d);p?p.push(c):a.set(d,[c])}}return a}function yg(e,t,i){e=e.ownerDocument||e,e.head.insertBefore(i,t==="title"?e.querySelector("head > title"):null)}function nb(e,t,i){if(i===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function vg(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var zs=null;function ib(){}function lb(e,t,i){if(zs===null)throw Error(r(475));var a=zs;if(t.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var o=Dl(i.href),c=e.querySelector(xs(o));if(c){e=c._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(a.count++,a=Er.bind(a),e.then(a,a)),t.state.loading|=4,t.instance=c,Qe(c);return}c=e.ownerDocument||e,i=gg(i),(o=Bt.get(o))&&dc(i,o),c=c.createElement("link"),Qe(c);var d=c;d._p=new Promise(function(p,y){d.onload=p,d.onerror=y}),nt(c,"link",i),t.instance=c}a.stylesheets===null&&(a.stylesheets=new Map),a.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(a.count++,t=Er.bind(a),e.addEventListener("load",t),e.addEventListener("error",t))}}function sb(){if(zs===null)throw Error(r(475));var e=zs;return e.stylesheets&&e.count===0&&gc(e,e.stylesheets),0<e.count?function(t){var i=setTimeout(function(){if(e.stylesheets&&gc(e,e.stylesheets),e.unsuspend){var a=e.unsuspend;e.unsuspend=null,a()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(i)}}:null}function Er(){if(this.count--,this.count===0){if(this.stylesheets)gc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Tr=null;function gc(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Tr=new Map,t.forEach(ab,e),Tr=null,Er.call(e))}function ab(e,t){if(!(t.state.loading&4)){var i=Tr.get(e);if(i)var a=i.get(null);else{i=new Map,Tr.set(e,i);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var d=o[c];(d.nodeName==="LINK"||d.getAttribute("media")!=="not all")&&(i.set(d.dataset.precedence,d),a=d)}a&&i.set(null,a)}o=t.instance,d=o.getAttribute("data-precedence"),c=i.get(d)||a,c===a&&i.set(null,o),i.set(d,o),this.count++,a=Er.bind(this),o.addEventListener("load",a),o.addEventListener("error",a),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Ls={$$typeof:x,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function rb(e,t,i,a,o,c,d,p){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=po(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=po(0),this.hiddenUpdates=po(null),this.identifierPrefix=a,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=d,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=p,this.incompleteTransitions=new Map}function bg(e,t,i,a,o,c,d,p,y,T,O,I){return e=new rb(e,t,i,d,p,y,T,I),t=1,c===!0&&(t|=24),c=Ht(3,null,null,t),e.current=c,c.stateNode=e,t=Xo(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:a,isDehydrated:i,cache:t},wu(c),e}function Sg(e){return e?(e=ol,e):ol}function Eg(e,t,i,a,o,c){o=Sg(o),a.context===null?a.context=o:a.pendingContext=o,a=Kn(t),a.payload={element:i},c=c===void 0?null:c,c!==null&&(a.callback=c),i=Zn(e,a,t),i!==null&&(ut(i,e,t),ys(i,e,t))}function Tg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var i=e.retryLane;e.retryLane=i!==0&&i<t?i:t}}function _c(e,t){Tg(e,t),(e=e.alternate)&&Tg(e,t)}function Cg(e){if(e.tag===13){var t=qn(e,67108864);t!==null&&ut(t,e,67108864),_c(e,67108864)}}var Cr=!0;function ob(e,t,i,a){var o=Q.T;Q.T=null;var c=j.p;try{j.p=2,pc(e,t,i,a)}finally{j.p=c,Q.T=o}}function ub(e,t,i,a){var o=Q.T;Q.T=null;var c=j.p;try{j.p=8,pc(e,t,i,a)}finally{j.p=c,Q.T=o}}function pc(e,t,i,a){if(Cr){var o=yc(a);if(o===null)sc(e,t,a,Ar,i),Ng(e,a);else if(fb(o,e,t,i,a))a.stopPropagation();else if(Ng(e,a),t&4&&-1<cb.indexOf(e)){for(;o!==null;){var c=Wi(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var d=gi(c.pendingLanes);if(d!==0){var p=c;for(p.pendingLanes|=2,p.entangledLanes|=2;d;){var y=1<<31-St(d);p.entanglements[1]|=y,d&=~y}ln(c),(Me&6)===0&&(or=$t()+500,Ds(0))}}break;case 13:p=qn(c,2),p!==null&&ut(p,c,2),fr(),_c(c,2)}if(c=yc(a),c===null&&sc(e,t,a,Ar,i),c===o)break;o=c}o!==null&&a.stopPropagation()}else sc(e,t,a,null,i)}}function yc(e){return e=Co(e),vc(e)}var Ar=null;function vc(e){if(Ar=null,e=_i(e),e!==null){var t=Z(e);if(t===null)e=null;else{var i=t.tag;if(i===13){if(e=Ee(t),e!==null)return e;e=null}else if(i===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Ar=e,null}function Ag(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Zy()){case Zf:return 2;case Pf:return 8;case ba:case Py:return 32;case Wf:return 268435456;default:return 32}default:return 32}}var bc=!1,ni=null,ii=null,li=null,Us=new Map,ks=new Map,si=[],cb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ng(e,t){switch(e){case"focusin":case"focusout":ni=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":li=null;break;case"pointerover":case"pointerout":Us.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ks.delete(t.pointerId)}}function Hs(e,t,i,a,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:i,eventSystemFlags:a,nativeEvent:c,targetContainers:[o]},t!==null&&(t=Wi(t),t!==null&&Cg(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function fb(e,t,i,a,o){switch(t){case"focusin":return ni=Hs(ni,e,t,i,a,o),!0;case"dragenter":return ii=Hs(ii,e,t,i,a,o),!0;case"mouseover":return li=Hs(li,e,t,i,a,o),!0;case"pointerover":var c=o.pointerId;return Us.set(c,Hs(Us.get(c)||null,e,t,i,a,o)),!0;case"gotpointercapture":return c=o.pointerId,ks.set(c,Hs(ks.get(c)||null,e,t,i,a,o)),!0}return!1}function wg(e){var t=_i(e.target);if(t!==null){var i=Z(t);if(i!==null){if(t=i.tag,t===13){if(t=Ee(i),t!==null){e.blockedOn=t,sv(e.priority,function(){if(i.tag===13){var a=Nt(),o=qn(i,a);o!==null&&ut(o,i,a),_c(i,a)}});return}}else if(t===3&&i.stateNode.current.memoizedState.isDehydrated){e.blockedOn=i.tag===3?i.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nr(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var i=yc(e.nativeEvent);if(i===null){i=e.nativeEvent;var a=new i.constructor(i.type,i);To=a,i.target.dispatchEvent(a),To=null}else return t=Wi(i),t!==null&&Cg(t),e.blockedOn=i,!1;t.shift()}return!0}function Rg(e,t,i){Nr(e)&&i.delete(t)}function hb(){bc=!1,ni!==null&&Nr(ni)&&(ni=null),ii!==null&&Nr(ii)&&(ii=null),li!==null&&Nr(li)&&(li=null),Us.forEach(Rg),ks.forEach(Rg)}function wr(e,t){e.blockedOn===t&&(e.blockedOn=null,bc||(bc=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,hb)))}var Rr=null;function Dg(e){Rr!==e&&(Rr=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){Rr===e&&(Rr=null);for(var t=0;t<e.length;t+=3){var i=e[t],a=e[t+1],o=e[t+2];if(typeof a!="function"){if(vc(a||i)===null)continue;break}var c=Wi(i);c!==null&&(e.splice(t,3),t-=3,uu(c,{pending:!0,data:o,method:i.method,action:a},a,o))}}))}function js(e){function t(y){return wr(y,e)}ni!==null&&wr(ni,e),ii!==null&&wr(ii,e),li!==null&&wr(li,e),Us.forEach(t),ks.forEach(t);for(var i=0;i<si.length;i++){var a=si[i];a.blockedOn===e&&(a.blockedOn=null)}for(;0<si.length&&(i=si[0],i.blockedOn===null);)wg(i),i.blockedOn===null&&si.shift();if(i=(e.ownerDocument||e).$$reactFormReplay,i!=null)for(a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],d=o[dt]||null;if(typeof c=="function")d||Dg(i);else if(d){var p=null;if(c&&c.hasAttribute("formAction")){if(o=c,d=c[dt]||null)p=d.formAction;else if(vc(o)!==null)continue}else p=d.action;typeof p=="function"?i[a+1]=p:(i.splice(a,3),a-=3),Dg(i)}}}function Sc(e){this._internalRoot=e}Dr.prototype.render=Sc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(r(409));var i=t.current,a=Nt();Eg(i,a,e,t,null,null)},Dr.prototype.unmount=Sc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;e.tag===0&&Al(),Eg(e.current,2,null,e,null,null),fr(),t[Pi]=null}};function Dr(e){this._internalRoot=e}Dr.prototype.unstable_scheduleHydration=function(e){if(e){var t=ih();e={blockedOn:null,target:e,priority:t};for(var i=0;i<si.length&&t!==0&&t<si[i].priority;i++);si.splice(i,0,e),i===0&&wg(e)}};var Og=n.version;if(Og!=="19.0.0")throw Error(r(527,Og,"19.0.0"));j.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=z(t),e=e!==null?X(e):null,e=e===null?null:e.stateNode,e};var db={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:Q,findFiberByHostInstance:_i,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Or=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Or.isDisabled&&Or.supportsFiber)try{Vl=Or.inject(db),bt=Or}catch{}}return qs.createRoot=function(e,t){if(!u(e))throw Error(r(299));var i=!1,a="",o=Xd,c=Kd,d=Zd,p=null;return t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(d=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(p=t.unstable_transitionCallbacks)),t=bg(e,1,!1,null,null,i,a,o,c,d,p,null),e[Pi]=t.current,lc(e.nodeType===8?e.parentNode:e),new Sc(t)},qs.hydrateRoot=function(e,t,i){if(!u(e))throw Error(r(299));var a=!1,o="",c=Xd,d=Kd,p=Zd,y=null,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(o=i.identifierPrefix),i.onUncaughtError!==void 0&&(c=i.onUncaughtError),i.onCaughtError!==void 0&&(d=i.onCaughtError),i.onRecoverableError!==void 0&&(p=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(y=i.unstable_transitionCallbacks),i.formState!==void 0&&(T=i.formState)),t=bg(e,1,!0,t,i??null,a,o,c,d,p,y,T),t.context=Sg(null),i=t.current,a=Nt(),o=Kn(a),o.callback=null,Zn(i,o,a),t.current.lanes=a,Ql(t,a),ln(t),e[Pi]=t.current,lc(e),new Dr(t)},qs.version="19.0.0",qs}var Bg;function Tb(){if(Bg)return Cc.exports;Bg=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Cc.exports=Eb(),Cc.exports}var Cb=Tb();const rn=ne.createContext({files:[],setFiles:()=>{},links:[],setLinks:()=>{},notes:[],setNotes:()=>{},isLoading:!1,setIsLoading:()=>{},darkMode:!1,setDarkMode:()=>{},currentTab:"files",setCurrentTab:()=>{}});function Ab({children:l}){const[n,s]=ne.useState([]),[r,u]=ne.useState([]),[f,h]=ne.useState([]),[m,_]=ne.useState(!1),[g,E]=ne.useState(()=>localStorage.getItem("darkMode")==="true"),[b,A]=ne.useState(()=>localStorage.getItem("currentTab")||"files");ne.useEffect(()=>{g?document.body.classList.add("dark-mode"):document.body.classList.remove("dark-mode"),localStorage.setItem("darkMode",g)},[g]),ne.useEffect(()=>{localStorage.setItem("currentTab",b)},[b]);const x={files:n,setFiles:s,links:r,setLinks:u,notes:f,setNotes:h,isLoading:m,setIsLoading:_,darkMode:g,setDarkMode:E,currentTab:b,setCurrentTab:A};return w.jsx(rn.Provider,{value:x,children:l})}function Nb(){const{darkMode:l,setDarkMode:n}=ne.useContext(rn),s=()=>{n(!l)};return w.jsxs("header",{className:"app-header",children:[w.jsx("div",{className:"logo",children:w.jsx("h1",{children:"Data Vault"})}),w.jsx("div",{className:"header-actions",children:w.jsx("button",{className:"theme-toggle",onClick:s,"aria-label":"Toggle dark mode",children:l?"":""})})]})}function wb(){const{currentTab:l,setCurrentTab:n}=ne.useContext(rn),s=[{id:"files",label:"Files"},{id:"links",label:"Links"},{id:"notes",label:"Notes"}];return w.jsx("div",{className:"tabs",children:s.map(r=>w.jsx("div",{className:`tab ${l===r.id?"active":""}`,onClick:()=>n(r.id),children:r.label},r.id))})}const Rb=()=>{};var qg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G_={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L=function(l,n){if(!l)throw jl(n)},jl=function(l){return new Error("Firebase Database ("+G_.SDK_VERSION+") INTERNAL ASSERT FAILED: "+l)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y_=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);u<128?n[s++]=u:u<2048?(n[s++]=u>>6|192,n[s++]=u&63|128):(u&64512)===55296&&r+1<l.length&&(l.charCodeAt(r+1)&64512)===56320?(u=65536+((u&1023)<<10)+(l.charCodeAt(++r)&1023),n[s++]=u>>18|240,n[s++]=u>>12&63|128,n[s++]=u>>6&63|128,n[s++]=u&63|128):(n[s++]=u>>12|224,n[s++]=u>>6&63|128,n[s++]=u&63|128)}return n},Db=function(l){const n=[];let s=0,r=0;for(;s<l.length;){const u=l[s++];if(u<128)n[r++]=String.fromCharCode(u);else if(u>191&&u<224){const f=l[s++];n[r++]=String.fromCharCode((u&31)<<6|f&63)}else if(u>239&&u<365){const f=l[s++],h=l[s++],m=l[s++],_=((u&7)<<18|(f&63)<<12|(h&63)<<6|m&63)-65536;n[r++]=String.fromCharCode(55296+(_>>10)),n[r++]=String.fromCharCode(56320+(_&1023))}else{const f=l[s++],h=l[s++];n[r++]=String.fromCharCode((u&15)<<12|(f&63)<<6|h&63)}}return n.join("")},rf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(l,n){if(!Array.isArray(l))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=n?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let u=0;u<l.length;u+=3){const f=l[u],h=u+1<l.length,m=h?l[u+1]:0,_=u+2<l.length,g=_?l[u+2]:0,E=f>>2,b=(f&3)<<4|m>>4;let A=(m&15)<<2|g>>6,x=g&63;_||(x=64,h||(A=64)),r.push(s[E],s[b],s[A],s[x])}return r.join("")},encodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?btoa(l):this.encodeByteArray(Y_(l),n)},decodeString(l,n){return this.HAS_NATIVE_SUPPORT&&!n?atob(l):Db(this.decodeStringToByteArray(l,n))},decodeStringToByteArray(l,n){this.init_();const s=n?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let u=0;u<l.length;){const f=s[l.charAt(u++)],m=u<l.length?s[l.charAt(u)]:0;++u;const g=u<l.length?s[l.charAt(u)]:64;++u;const b=u<l.length?s[l.charAt(u)]:64;if(++u,f==null||m==null||g==null||b==null)throw new Ob;const A=f<<2|m>>4;if(r.push(A),g!==64){const x=m<<4&240|g>>2;if(r.push(x),b!==64){const U=g<<6&192|b;r.push(U)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let l=0;l<this.ENCODED_VALS.length;l++)this.byteToCharMap_[l]=this.ENCODED_VALS.charAt(l),this.charToByteMap_[this.byteToCharMap_[l]]=l,this.byteToCharMapWebSafe_[l]=this.ENCODED_VALS_WEBSAFE.charAt(l),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[l]]=l,l>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(l)]=l,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(l)]=l)}}};class Ob extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V_=function(l){const n=Y_(l);return rf.encodeByteArray(n,!0)},zr=function(l){return V_(l).replace(/\./g,"")},Gc=function(l){try{return rf.decodeString(l,!0)}catch(n){console.error("base64Decode failed: ",n)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(l){return F_(void 0,l)}function F_(l,n){if(!(n instanceof Object))return n;switch(n.constructor){case Date:const s=n;return new Date(s.getTime());case Object:l===void 0&&(l={});break;case Array:l=[];break;default:return n}for(const s in n)!n.hasOwnProperty(s)||!xb(s)||(l[s]=F_(l[s],n[s]));return l}function xb(l){return l!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ib(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=()=>Ib().__FIREBASE_DEFAULTS__,Lb=()=>{if(typeof process>"u"||typeof qg>"u")return;const l=qg.__FIREBASE_DEFAULTS__;if(l)return JSON.parse(l)},Ub=()=>{if(typeof document>"u")return;let l;try{l=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const n=l&&Gc(l[1]);return n&&JSON.parse(n)},Q_=()=>{try{return Rb()||zb()||Lb()||Ub()}catch(l){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${l}`);return}},kb=l=>{var n,s;return(s=(n=Q_())===null||n===void 0?void 0:n.emulatorHosts)===null||s===void 0?void 0:s[l]},Hb=l=>{const n=kb(l);if(!n)return;const s=n.lastIndexOf(":");if(s<=0||s+1===n.length)throw new Error(`Invalid host ${n} with no separate hostname and port!`);const r=parseInt(n.substring(s+1),10);return n[0]==="["?[n.substring(1,s-1),r]:[n.substring(0,s),r]},X_=()=>{var l;return(l=Q_())===null||l===void 0?void 0:l.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}wrapCallback(n){return(s,r)=>{s?this.reject(s):this.resolve(r),typeof n=="function"&&(this.promise.catch(()=>{}),n.length===1?n(s):n(s,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(l,n){if(l.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},r=n||"demo-project",u=l.iat||0,f=l.sub||l.user_id;if(!f)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:u,exp:u+3600,auth_time:u,sub:f,user_id:f,firebase:{sign_in_provider:"custom",identities:{}}},l);return[zr(JSON.stringify(s)),zr(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function K_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Bb())}function qb(){const l=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof l=="object"&&l.id!==void 0}function Gb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Yb(){return G_.NODE_ADMIN===!0}function Z_(){try{return typeof indexedDB=="object"}catch{return!1}}function P_(){return new Promise((l,n)=>{try{let s=!0;const r="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(r);u.onsuccess=()=>{u.result.close(),s||self.indexedDB.deleteDatabase(r),l(!0)},u.onupgradeneeded=()=>{s=!1},u.onerror=()=>{var f;n(((f=u.error)===null||f===void 0?void 0:f.message)||"")}}catch(s){n(s)}})}function Vb(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb="FirebaseError";class Xi extends Error{constructor(n,s,r){super(s),this.code=n,this.customData=r,this.name=Fb,Object.setPrototypeOf(this,Xi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,$r.prototype.create)}}class $r{constructor(n,s,r){this.service=n,this.serviceName=s,this.errors=r}create(n,...s){const r=s[0]||{},u=`${this.service}/${n}`,f=this.errors[n],h=f?Qb(f,r):"Error",m=`${this.serviceName}: ${h} (${u}).`;return new Xi(u,m,r)}}function Qb(l,n){return l.replace(Xb,(s,r)=>{const u=n[r];return u!=null?String(u):`<${r}?>`})}const Xb=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $s(l){return JSON.parse(l)}function Ve(l){return JSON.stringify(l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W_=function(l){let n={},s={},r={},u="";try{const f=l.split(".");n=$s(Gc(f[0])||""),s=$s(Gc(f[1])||""),u=f[2],r=s.d||{},delete s.d}catch{}return{header:n,claims:s,data:r,signature:u}},Kb=function(l){const n=W_(l),s=n.claims;return!!s&&typeof s=="object"&&s.hasOwnProperty("iat")},Zb=function(l){const n=W_(l).claims;return typeof n=="object"&&n.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xn(l,n){return Object.prototype.hasOwnProperty.call(l,n)}function Ll(l,n){if(Object.prototype.hasOwnProperty.call(l,n))return l[n]}function Gg(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}function Lr(l,n,s){const r={};for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&(r[u]=n.call(s,l[u],u,l));return r}function Js(l,n){if(l===n)return!0;const s=Object.keys(l),r=Object.keys(n);for(const u of s){if(!r.includes(u))return!1;const f=l[u],h=n[u];if(Yg(f)&&Yg(h)){if(!Js(f,h))return!1}else if(f!==h)return!1}for(const u of r)if(!s.includes(u))return!1;return!0}function Yg(l){return l!==null&&typeof l=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pb(l){const n=[];for(const[s,r]of Object.entries(l))Array.isArray(r)?r.forEach(u=>{n.push(encodeURIComponent(s)+"="+encodeURIComponent(u))}):n.push(encodeURIComponent(s)+"="+encodeURIComponent(r));return n.length?"&"+n.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let n=1;n<this.blockSize;++n)this.pad_[n]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(n,s){s||(s=0);const r=this.W_;if(typeof n=="string")for(let b=0;b<16;b++)r[b]=n.charCodeAt(s)<<24|n.charCodeAt(s+1)<<16|n.charCodeAt(s+2)<<8|n.charCodeAt(s+3),s+=4;else for(let b=0;b<16;b++)r[b]=n[s]<<24|n[s+1]<<16|n[s+2]<<8|n[s+3],s+=4;for(let b=16;b<80;b++){const A=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(A<<1|A>>>31)&4294967295}let u=this.chain_[0],f=this.chain_[1],h=this.chain_[2],m=this.chain_[3],_=this.chain_[4],g,E;for(let b=0;b<80;b++){b<40?b<20?(g=m^f&(h^m),E=1518500249):(g=f^h^m,E=1859775393):b<60?(g=f&h|m&(f|h),E=2400959708):(g=f^h^m,E=3395469782);const A=(u<<5|u>>>27)+g+_+E+r[b]&4294967295;_=m,m=h,h=(f<<30|f>>>2)&4294967295,f=u,u=A}this.chain_[0]=this.chain_[0]+u&4294967295,this.chain_[1]=this.chain_[1]+f&4294967295,this.chain_[2]=this.chain_[2]+h&4294967295,this.chain_[3]=this.chain_[3]+m&4294967295,this.chain_[4]=this.chain_[4]+_&4294967295}update(n,s){if(n==null)return;s===void 0&&(s=n.length);const r=s-this.blockSize;let u=0;const f=this.buf_;let h=this.inbuf_;for(;u<s;){if(h===0)for(;u<=r;)this.compress_(n,u),u+=this.blockSize;if(typeof n=="string"){for(;u<s;)if(f[h]=n.charCodeAt(u),++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}else for(;u<s;)if(f[h]=n[u],++h,++u,h===this.blockSize){this.compress_(f),h=0;break}}this.inbuf_=h,this.total_+=s}digest(){const n=[];let s=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let u=this.blockSize-1;u>=56;u--)this.buf_[u]=s&255,s/=256;this.compress_(this.buf_);let r=0;for(let u=0;u<5;u++)for(let f=24;f>=0;f-=8)n[r]=this.chain_[u]>>f&255,++r;return n}}function of(l,n){return`${l} failed: ${n} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $b=function(l){const n=[];let s=0;for(let r=0;r<l.length;r++){let u=l.charCodeAt(r);if(u>=55296&&u<=56319){const f=u-55296;r++,L(r<l.length,"Surrogate pair missing trail surrogate.");const h=l.charCodeAt(r)-56320;u=65536+(f<<10)+h}u<128?n[s++]=u:u<2048?(n[s++]=u>>6|192,n[s++]=u&63|128):u<65536?(n[s++]=u>>12|224,n[s++]=u>>6&63|128,n[s++]=u&63|128):(n[s++]=u>>18|240,n[s++]=u>>12&63|128,n[s++]=u>>6&63|128,n[s++]=u&63|128)}return n},Jr=function(l){let n=0;for(let s=0;s<l.length;s++){const r=l.charCodeAt(s);r<128?n++:r<2048?n+=2:r>=55296&&r<=56319?(n+=4,s++):n+=3}return n};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=1e3,eS=2,tS=4*60*60*1e3,nS=.5;function Vg(l,n=Jb,s=eS){const r=n*Math.pow(s,l),u=Math.round(nS*r*(Math.random()-.5)*2);return Math.min(tS,r+u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function In(l){return l&&l._delegate?l._delegate:l}class Dn{constructor(n,s,r){this.name=n,this.instanceFactory=s,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(n){return this.instantiationMode=n,this}setMultipleInstances(n){return this.multipleInstances=n,this}setServiceProps(n){return this.serviceProps=n,this}setInstanceCreatedCallback(n){return this.onInstanceCreated=n,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ki="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iS{constructor(n,s){this.name=n,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(n){const s=this.normalizeInstanceIdentifier(n);if(!this.instancesDeferred.has(s)){const r=new Wr;if(this.instancesDeferred.set(s,r),this.isInitialized(s)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:s});u&&r.resolve(u)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(n){var s;const r=this.normalizeInstanceIdentifier(n==null?void 0:n.identifier),u=(s=n==null?void 0:n.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(f){if(u)return null;throw f}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(n){if(n.name!==this.name)throw Error(`Mismatching Component ${n.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=n,!!this.shouldAutoInitialize()){if(sS(n))try{this.getOrInitializeService({instanceIdentifier:ki})}catch{}for(const[s,r]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(s);try{const f=this.getOrInitializeService({instanceIdentifier:u});r.resolve(f)}catch{}}}}clearInstance(n=ki){this.instancesDeferred.delete(n),this.instancesOptions.delete(n),this.instances.delete(n)}async delete(){const n=Array.from(this.instances.values());await Promise.all([...n.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...n.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(n=ki){return this.instances.has(n)}getOptions(n=ki){return this.instancesOptions.get(n)||{}}initialize(n={}){const{options:s={}}=n,r=this.normalizeInstanceIdentifier(n.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:r,options:s});for(const[f,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(f);r===m&&h.resolve(u)}return u}onInit(n,s){var r;const u=this.normalizeInstanceIdentifier(s),f=(r=this.onInitCallbacks.get(u))!==null&&r!==void 0?r:new Set;f.add(n),this.onInitCallbacks.set(u,f);const h=this.instances.get(u);return h&&n(h,u),()=>{f.delete(n)}}invokeOnInitCallbacks(n,s){const r=this.onInitCallbacks.get(s);if(r)for(const u of r)try{u(n,s)}catch{}}getOrInitializeService({instanceIdentifier:n,options:s={}}){let r=this.instances.get(n);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:lS(n),options:s}),this.instances.set(n,r),this.instancesOptions.set(n,s),this.invokeOnInitCallbacks(r,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,r)}catch{}return r||null}normalizeInstanceIdentifier(n=ki){return this.component?this.component.multipleInstances?n:ki:n}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function lS(l){return l===ki?void 0:l}function sS(l){return l.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(n){this.name=n,this.providers=new Map}addComponent(n){const s=this.getProvider(n.name);if(s.isComponentSet())throw new Error(`Component ${n.name} has already been registered with ${this.name}`);s.setComponent(n)}addOrOverwriteComponent(n){this.getProvider(n.name).isComponentSet()&&this.providers.delete(n.name),this.addComponent(n)}getProvider(n){if(this.providers.has(n))return this.providers.get(n);const s=new iS(n,this);return this.providers.set(n,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ae;(function(l){l[l.DEBUG=0]="DEBUG",l[l.VERBOSE=1]="VERBOSE",l[l.INFO=2]="INFO",l[l.WARN=3]="WARN",l[l.ERROR=4]="ERROR",l[l.SILENT=5]="SILENT"})(Ae||(Ae={}));const rS={debug:Ae.DEBUG,verbose:Ae.VERBOSE,info:Ae.INFO,warn:Ae.WARN,error:Ae.ERROR,silent:Ae.SILENT},oS=Ae.INFO,uS={[Ae.DEBUG]:"log",[Ae.VERBOSE]:"log",[Ae.INFO]:"info",[Ae.WARN]:"warn",[Ae.ERROR]:"error"},cS=(l,n,...s)=>{if(n<l.logLevel)return;const r=new Date().toISOString(),u=uS[n];if(u)console[u](`[${r}]  ${l.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${n})`)};class uf{constructor(n){this.name=n,this._logLevel=oS,this._logHandler=cS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(n){if(!(n in Ae))throw new TypeError(`Invalid value "${n}" assigned to \`logLevel\``);this._logLevel=n}setLogLevel(n){this._logLevel=typeof n=="string"?rS[n]:n}get logHandler(){return this._logHandler}set logHandler(n){if(typeof n!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=n}get userLogHandler(){return this._userLogHandler}set userLogHandler(n){this._userLogHandler=n}debug(...n){this._userLogHandler&&this._userLogHandler(this,Ae.DEBUG,...n),this._logHandler(this,Ae.DEBUG,...n)}log(...n){this._userLogHandler&&this._userLogHandler(this,Ae.VERBOSE,...n),this._logHandler(this,Ae.VERBOSE,...n)}info(...n){this._userLogHandler&&this._userLogHandler(this,Ae.INFO,...n),this._logHandler(this,Ae.INFO,...n)}warn(...n){this._userLogHandler&&this._userLogHandler(this,Ae.WARN,...n),this._logHandler(this,Ae.WARN,...n)}error(...n){this._userLogHandler&&this._userLogHandler(this,Ae.ERROR,...n),this._logHandler(this,Ae.ERROR,...n)}}const fS=(l,n)=>n.some(s=>l instanceof s);let Fg,Qg;function hS(){return Fg||(Fg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dS(){return Qg||(Qg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const $_=new WeakMap,Yc=new WeakMap,J_=new WeakMap,Rc=new WeakMap,cf=new WeakMap;function mS(l){const n=new Promise((s,r)=>{const u=()=>{l.removeEventListener("success",f),l.removeEventListener("error",h)},f=()=>{s(ri(l.result)),u()},h=()=>{r(l.error),u()};l.addEventListener("success",f),l.addEventListener("error",h)});return n.then(s=>{s instanceof IDBCursor&&$_.set(s,l)}).catch(()=>{}),cf.set(n,l),n}function gS(l){if(Yc.has(l))return;const n=new Promise((s,r)=>{const u=()=>{l.removeEventListener("complete",f),l.removeEventListener("error",h),l.removeEventListener("abort",h)},f=()=>{s(),u()},h=()=>{r(l.error||new DOMException("AbortError","AbortError")),u()};l.addEventListener("complete",f),l.addEventListener("error",h),l.addEventListener("abort",h)});Yc.set(l,n)}let Vc={get(l,n,s){if(l instanceof IDBTransaction){if(n==="done")return Yc.get(l);if(n==="objectStoreNames")return l.objectStoreNames||J_.get(l);if(n==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return ri(l[n])},set(l,n,s){return l[n]=s,!0},has(l,n){return l instanceof IDBTransaction&&(n==="done"||n==="store")?!0:n in l}};function _S(l){Vc=l(Vc)}function pS(l){return l===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(n,...s){const r=l.call(Dc(this),n,...s);return J_.set(r,n.sort?n.sort():[n]),ri(r)}:dS().includes(l)?function(...n){return l.apply(Dc(this),n),ri($_.get(this))}:function(...n){return ri(l.apply(Dc(this),n))}}function yS(l){return typeof l=="function"?pS(l):(l instanceof IDBTransaction&&gS(l),fS(l,hS())?new Proxy(l,Vc):l)}function ri(l){if(l instanceof IDBRequest)return mS(l);if(Rc.has(l))return Rc.get(l);const n=yS(l);return n!==l&&(Rc.set(l,n),cf.set(n,l)),n}const Dc=l=>cf.get(l);function ep(l,n,{blocked:s,upgrade:r,blocking:u,terminated:f}={}){const h=indexedDB.open(l,n),m=ri(h);return r&&h.addEventListener("upgradeneeded",_=>{r(ri(h.result),_.oldVersion,_.newVersion,ri(h.transaction),_)}),s&&h.addEventListener("blocked",_=>s(_.oldVersion,_.newVersion,_)),m.then(_=>{f&&_.addEventListener("close",()=>f()),u&&_.addEventListener("versionchange",g=>u(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const vS=["get","getKey","getAll","getAllKeys","count"],bS=["put","add","delete","clear"],Oc=new Map;function Xg(l,n){if(!(l instanceof IDBDatabase&&!(n in l)&&typeof n=="string"))return;if(Oc.get(n))return Oc.get(n);const s=n.replace(/FromIndex$/,""),r=n!==s,u=bS.includes(s);if(!(s in(r?IDBIndex:IDBObjectStore).prototype)||!(u||vS.includes(s)))return;const f=async function(h,...m){const _=this.transaction(h,u?"readwrite":"readonly");let g=_.store;return r&&(g=g.index(m.shift())),(await Promise.all([g[s](...m),u&&_.done]))[0]};return Oc.set(n,f),f}_S(l=>({...l,get:(n,s,r)=>Xg(n,s)||l.get(n,s,r),has:(n,s)=>!!Xg(n,s)||l.has(n,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(n){this.container=n}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(ES(s)){const r=s.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(s=>s).join(" ")}}function ES(l){const n=l.getComponent();return(n==null?void 0:n.type)==="VERSION"}const Fc="@firebase/app",Kg="0.11.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const On=new uf("@firebase/app"),TS="@firebase/app-compat",CS="@firebase/analytics-compat",AS="@firebase/analytics",NS="@firebase/app-check-compat",wS="@firebase/app-check",RS="@firebase/auth",DS="@firebase/auth-compat",OS="@firebase/database",MS="@firebase/data-connect",xS="@firebase/database-compat",IS="@firebase/functions",zS="@firebase/functions-compat",LS="@firebase/installations",US="@firebase/installations-compat",kS="@firebase/messaging",HS="@firebase/messaging-compat",jS="@firebase/performance",BS="@firebase/performance-compat",qS="@firebase/remote-config",GS="@firebase/remote-config-compat",YS="@firebase/storage",VS="@firebase/storage-compat",FS="@firebase/firestore",QS="@firebase/vertexai",XS="@firebase/firestore-compat",KS="firebase",ZS="11.5.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qc="[DEFAULT]",PS={[Fc]:"fire-core",[TS]:"fire-core-compat",[AS]:"fire-analytics",[CS]:"fire-analytics-compat",[wS]:"fire-app-check",[NS]:"fire-app-check-compat",[RS]:"fire-auth",[DS]:"fire-auth-compat",[OS]:"fire-rtdb",[MS]:"fire-data-connect",[xS]:"fire-rtdb-compat",[IS]:"fire-fn",[zS]:"fire-fn-compat",[LS]:"fire-iid",[US]:"fire-iid-compat",[kS]:"fire-fcm",[HS]:"fire-fcm-compat",[jS]:"fire-perf",[BS]:"fire-perf-compat",[qS]:"fire-rc",[GS]:"fire-rc-compat",[YS]:"fire-gcs",[VS]:"fire-gcs-compat",[FS]:"fire-fst",[XS]:"fire-fst-compat",[QS]:"fire-vertex","fire-js":"fire-js",[KS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ur=new Map,WS=new Map,Xc=new Map;function Zg(l,n){try{l.container.addComponent(n)}catch(s){On.debug(`Component ${n.name} failed to register with FirebaseApp ${l.name}`,s)}}function fi(l){const n=l.name;if(Xc.has(n))return On.debug(`There were multiple attempts to register component ${n}.`),!1;Xc.set(n,l);for(const s of Ur.values())Zg(s,l);for(const s of WS.values())Zg(s,l);return!0}function ca(l,n){const s=l.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),l.container.getProvider(n)}function $S(l){return l==null?!1:l.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},oi=new $r("app","Firebase",JS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eE{constructor(n,s,r){this._isDeleted=!1,this._options=Object.assign({},n),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(n){this.checkDestroyed(),this._automaticDataCollectionEnabled=n}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(n){this._isDeleted=n}checkDestroyed(){if(this.isDeleted)throw oi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tE=ZS;function tp(l,n={}){let s=l;typeof n!="object"&&(n={name:n});const r=Object.assign({name:Qc,automaticDataCollectionEnabled:!1},n),u=r.name;if(typeof u!="string"||!u)throw oi.create("bad-app-name",{appName:String(u)});if(s||(s=X_()),!s)throw oi.create("no-options");const f=Ur.get(u);if(f){if(Js(s,f.options)&&Js(r,f.config))return f;throw oi.create("duplicate-app",{appName:u})}const h=new aS(u);for(const _ of Xc.values())h.addComponent(_);const m=new eE(s,r,h);return Ur.set(u,m),m}function np(l=Qc){const n=Ur.get(l);if(!n&&l===Qc&&X_())return tp();if(!n)throw oi.create("no-app",{appName:l});return n}function sn(l,n,s){var r;let u=(r=PS[l])!==null&&r!==void 0?r:l;s&&(u+=`-${s}`);const f=u.match(/\s|\//),h=n.match(/\s|\//);if(f||h){const m=[`Unable to register library "${u}" with version "${n}":`];f&&m.push(`library name "${u}" contains illegal characters (whitespace or "/")`),f&&h&&m.push("and"),h&&m.push(`version name "${n}" contains illegal characters (whitespace or "/")`),On.warn(m.join(" "));return}fi(new Dn(`${u}-version`,()=>({library:u,version:n}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE="firebase-heartbeat-database",iE=1,ea="firebase-heartbeat-store";let Mc=null;function ip(){return Mc||(Mc=ep(nE,iE,{upgrade:(l,n)=>{switch(n){case 0:try{l.createObjectStore(ea)}catch(s){console.warn(s)}}}}).catch(l=>{throw oi.create("idb-open",{originalErrorMessage:l.message})})),Mc}async function lE(l){try{const s=(await ip()).transaction(ea),r=await s.objectStore(ea).get(lp(l));return await s.done,r}catch(n){if(n instanceof Xi)On.warn(n.message);else{const s=oi.create("idb-get",{originalErrorMessage:n==null?void 0:n.message});On.warn(s.message)}}}async function Pg(l,n){try{const r=(await ip()).transaction(ea,"readwrite");await r.objectStore(ea).put(n,lp(l)),await r.done}catch(s){if(s instanceof Xi)On.warn(s.message);else{const r=oi.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});On.warn(r.message)}}}function lp(l){return`${l.name}!${l.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE=1024,aE=30;class rE{constructor(n){this.container=n,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new uE(s),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var n,s;try{const u=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),f=Wg();if(((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((s=this._heartbeatsCache)===null||s===void 0?void 0:s.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===f||this._heartbeatsCache.heartbeats.some(h=>h.date===f))return;if(this._heartbeatsCache.heartbeats.push({date:f,agent:u}),this._heartbeatsCache.heartbeats.length>aE){const h=cE(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){On.warn(r)}}async getHeartbeatsHeader(){var n;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const s=Wg(),{heartbeatsToSend:r,unsentEntries:u}=oE(this._heartbeatsCache.heartbeats),f=zr(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=s,u.length>0?(this._heartbeatsCache.heartbeats=u,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),f}catch(s){return On.warn(s),""}}}function Wg(){return new Date().toISOString().substring(0,10)}function oE(l,n=sE){const s=[];let r=l.slice();for(const u of l){const f=s.find(h=>h.agent===u.agent);if(f){if(f.dates.push(u.date),$g(s)>n){f.dates.pop();break}}else if(s.push({agent:u.agent,dates:[u.date]}),$g(s)>n){s.pop();break}r=r.slice(1)}return{heartbeatsToSend:s,unsentEntries:r}}class uE{constructor(n){this.app=n,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Z_()?P_().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const s=await lE(this.app);return s!=null&&s.heartbeats?s:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(n){var s;if(await this._canUseIndexedDBPromise){const u=await this.read();return Pg(this.app,{lastSentHeartbeatDate:(s=n.lastSentHeartbeatDate)!==null&&s!==void 0?s:u.lastSentHeartbeatDate,heartbeats:n.heartbeats})}else return}async add(n){var s;if(await this._canUseIndexedDBPromise){const u=await this.read();return Pg(this.app,{lastSentHeartbeatDate:(s=n.lastSentHeartbeatDate)!==null&&s!==void 0?s:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...n.heartbeats]})}else return}}function $g(l){return zr(JSON.stringify({version:2,heartbeats:l})).length}function cE(l){if(l.length===0)return-1;let n=0,s=l[0].date;for(let r=1;r<l.length;r++)l[r].date<s&&(s=l[r].date,n=r);return n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(l){fi(new Dn("platform-logger",n=>new SS(n),"PRIVATE")),fi(new Dn("heartbeat",n=>new rE(n),"PRIVATE")),sn(Fc,Kg,l),sn(Fc,Kg,"esm2017"),sn("fire-js","")}fE("");var Jg={};const e_="@firebase/database",t_="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sp="";function hE(l){sp=l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(n){this.domStorage_=n,this.prefix_="firebase:"}set(n,s){s==null?this.domStorage_.removeItem(this.prefixedName_(n)):this.domStorage_.setItem(this.prefixedName_(n),Ve(s))}get(n){const s=this.domStorage_.getItem(this.prefixedName_(n));return s==null?null:$s(s)}remove(n){this.domStorage_.removeItem(this.prefixedName_(n))}prefixedName_(n){return this.prefix_+n}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(n,s){s==null?delete this.cache_[n]:this.cache_[n]=s}get(n){return xn(this.cache_,n)?this.cache_[n]:null}remove(n){delete this.cache_[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap=function(l){try{if(typeof window<"u"&&typeof window[l]<"u"){const n=window[l];return n.setItem("firebase:sentinel","cache"),n.removeItem("firebase:sentinel"),new dE(n)}}catch{}return new mE},ji=ap("localStorage"),gE=ap("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Il=new uf("@firebase/database"),_E=function(){let l=1;return function(){return l++}}(),rp=function(l){const n=$b(l),s=new Wb;s.update(n);const r=s.digest();return rf.encodeByteArray(r)},fa=function(...l){let n="";for(let s=0;s<l.length;s++){const r=l[s];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?n+=fa.apply(null,r):typeof r=="object"?n+=Ve(r):n+=r,n+=" "}return n};let Qs=null,n_=!0;const pE=function(l,n){L(!0,"Can't turn on custom loggers persistently."),Il.logLevel=Ae.VERBOSE,Qs=Il.log.bind(Il)},at=function(...l){if(n_===!0&&(n_=!1,Qs===null&&gE.get("logging_enabled")===!0&&pE()),Qs){const n=fa.apply(null,l);Qs(n)}},ha=function(l){return function(...n){at(l,...n)}},Kc=function(...l){const n="FIREBASE INTERNAL ERROR: "+fa(...l);Il.error(n)},Mn=function(...l){const n=`FIREBASE FATAL ERROR: ${fa(...l)}`;throw Il.error(n),new Error(n)},pt=function(...l){const n="FIREBASE WARNING: "+fa(...l);Il.warn(n)},yE=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},op=function(l){return typeof l=="number"&&(l!==l||l===Number.POSITIVE_INFINITY||l===Number.NEGATIVE_INFINITY)},vE=function(l){if(document.readyState==="complete")l();else{let n=!1;const s=function(){if(!document.body){setTimeout(s,Math.floor(10));return}n||(n=!0,l())};document.addEventListener?(document.addEventListener("DOMContentLoaded",s,!1),window.addEventListener("load",s,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&s()}),window.attachEvent("onload",s))}},Ul="[MIN_NAME]",Gi="[MAX_NAME]",Bl=function(l,n){if(l===n)return 0;if(l===Ul||n===Gi)return-1;if(n===Ul||l===Gi)return 1;{const s=i_(l),r=i_(n);return s!==null?r!==null?s-r===0?l.length-n.length:s-r:-1:r!==null?1:l<n?-1:1}},bE=function(l,n){return l===n?0:l<n?-1:1},Gs=function(l,n){if(n&&l in n)return n[l];throw new Error("Missing required key ("+l+") in object: "+Ve(n))},ff=function(l){if(typeof l!="object"||l===null)return Ve(l);const n=[];for(const r in l)n.push(r);n.sort();let s="{";for(let r=0;r<n.length;r++)r!==0&&(s+=","),s+=Ve(n[r]),s+=":",s+=ff(l[n[r]]);return s+="}",s},up=function(l,n){const s=l.length;if(s<=n)return[l];const r=[];for(let u=0;u<s;u+=n)u+n>s?r.push(l.substring(u,s)):r.push(l.substring(u,u+n));return r};function vt(l,n){for(const s in l)l.hasOwnProperty(s)&&n(s,l[s])}const cp=function(l){L(!op(l),"Invalid JSON number");const n=11,s=52,r=(1<<n-1)-1;let u,f,h,m,_;l===0?(f=0,h=0,u=1/l===-1/0?1:0):(u=l<0,l=Math.abs(l),l>=Math.pow(2,1-r)?(m=Math.min(Math.floor(Math.log(l)/Math.LN2),r),f=m+r,h=Math.round(l*Math.pow(2,s-m)-Math.pow(2,s))):(f=0,h=Math.round(l/Math.pow(2,1-r-s))));const g=[];for(_=s;_;_-=1)g.push(h%2?1:0),h=Math.floor(h/2);for(_=n;_;_-=1)g.push(f%2?1:0),f=Math.floor(f/2);g.push(u?1:0),g.reverse();const E=g.join("");let b="";for(_=0;_<64;_+=8){let A=parseInt(E.substr(_,8),2).toString(16);A.length===1&&(A="0"+A),b=b+A}return b.toLowerCase()},SE=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},EE=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function TE(l,n){let s="Unknown Error";l==="too_big"?s="The data requested exceeds the maximum size that can be accessed with a single request.":l==="permission_denied"?s="Client doesn't have permission to access the desired data.":l==="unavailable"&&(s="The service is unavailable");const r=new Error(l+" at "+n._path.toString()+": "+s);return r.code=l.toUpperCase(),r}const CE=new RegExp("^-?(0*)\\d{1,10}$"),AE=-2147483648,NE=2147483647,i_=function(l){if(CE.test(l)){const n=Number(l);if(n>=AE&&n<=NE)return n}return null},ql=function(l){try{l()}catch(n){setTimeout(()=>{const s=n.stack||"";throw pt("Exception was thrown by user callback.",s),n},Math.floor(0))}},wE=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Xs=function(l,n){const s=setTimeout(l,n);return typeof s=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(s):typeof s=="object"&&s.unref&&s.unref(),s};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(n,s){this.appCheckProvider=s,this.appName=n.name,$S(n)&&n.settings.appCheckToken&&(this.serverAppAppCheckToken=n.settings.appCheckToken),this.appCheck=s==null?void 0:s.getImmediate({optional:!0}),this.appCheck||s==null||s.get().then(r=>this.appCheck=r)}getToken(n){if(this.serverAppAppCheckToken){if(n)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(n):new Promise((s,r)=>{setTimeout(()=>{this.appCheck?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){var s;(s=this.appCheckProvider)===null||s===void 0||s.get().then(r=>r.addTokenListener(n))}notifyForInvalidToken(){pt(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(n,s,r){this.appName_=n,this.firebaseOptions_=s,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(u=>this.auth_=u)}getToken(n){return this.auth_?this.auth_.getToken(n).catch(s=>s&&s.code==="auth/token-not-initialized"?(at("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(s)):new Promise((s,r)=>{setTimeout(()=>{this.auth_?this.getToken(n).then(s,r):s(null)},0)})}addTokenChangeListener(n){this.auth_?this.auth_.addAuthTokenListener(n):this.authProvider_.get().then(s=>s.addAuthTokenListener(n))}removeTokenChangeListener(n){this.authProvider_.get().then(s=>s.removeAuthTokenListener(n))}notifyForInvalidToken(){let n='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?n+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?n+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':n+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',pt(n)}}class Ir{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}Ir.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="5",fp="v",hp="s",dp="r",mp="f",gp=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_p="ls",pp="p",Zc="ac",yp="websocket",vp="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bp{constructor(n,s,r,u,f=!1,h="",m=!1,_=!1,g=null){this.secure=s,this.namespace=r,this.webSocketOnly=u,this.nodeAdmin=f,this.persistenceKey=h,this.includeNamespaceInQueryParams=m,this.isUsingEmulator=_,this.emulatorOptions=g,this._host=n.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ji.get("host:"+n)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(n){n!==this.internalHost&&(this.internalHost=n,this.isCacheableHost()&&ji.set("host:"+this._host,this.internalHost))}toString(){let n=this.toURLString();return this.persistenceKey&&(n+="<"+this.persistenceKey+">"),n}toURLString(){const n=this.secure?"https://":"http://",s=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${n}${this.host}/${s}`}}function OE(l){return l.host!==l.internalHost||l.isCustomHost()||l.includeNamespaceInQueryParams}function Sp(l,n,s){L(typeof n=="string","typeof type must == string"),L(typeof s=="object","typeof params must == object");let r;if(n===yp)r=(l.secure?"wss://":"ws://")+l.internalHost+"/.ws?";else if(n===vp)r=(l.secure?"https://":"http://")+l.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+n);OE(l)&&(s.ns=l.namespace);const u=[];return vt(s,(f,h)=>{u.push(f+"="+h)}),r+u.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ME{constructor(){this.counters_={}}incrementCounter(n,s=1){xn(this.counters_,n)||(this.counters_[n]=0),this.counters_[n]+=s}get(){return Mb(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xc={},Ic={};function df(l){const n=l.toString();return xc[n]||(xc[n]=new ME),xc[n]}function xE(l,n){const s=l.toString();return Ic[s]||(Ic[s]=n()),Ic[s]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE{constructor(n){this.onMessage_=n,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(n,s){this.closeAfterResponse=n,this.onClose=s,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(n,s){for(this.pendingResponses[n]=s;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let u=0;u<r.length;++u)r[u]&&ql(()=>{this.onMessage_(r[u])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l_="start",zE="close",LE="pLPCommand",UE="pRTLPCB",Ep="id",Tp="pw",Cp="ser",kE="cb",HE="seg",jE="ts",BE="d",qE="dframe",Ap=1870,Np=30,GE=Ap-Np,YE=25e3,VE=3e4;class xl{constructor(n,s,r,u,f,h,m){this.connId=n,this.repoInfo=s,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.transportSessionId=h,this.lastSessionId=m,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ha(n),this.stats_=df(s),this.urlFn=_=>(this.appCheckToken&&(_[Zc]=this.appCheckToken),Sp(s,vp,_))}open(n,s){this.curSegmentNum=0,this.onDisconnect_=s,this.myPacketOrderer=new IE(n),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(VE)),vE(()=>{if(this.isClosed_)return;this.scriptTagHolder=new mf((...f)=>{const[h,m,_,g,E]=f;if(this.incrementIncomingBytes_(f),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,h===l_)this.id=m,this.password=_;else if(h===zE)m?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(m,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+h)},(...f)=>{const[h,m]=f;this.incrementIncomingBytes_(f),this.myPacketOrderer.handleResponse(h,m)},()=>{this.onClosed_()},this.urlFn);const r={};r[l_]="t",r[Cp]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[kE]=this.scriptTagHolder.uniqueCallbackIdentifier),r[fp]=hf,this.transportSessionId&&(r[hp]=this.transportSessionId),this.lastSessionId&&(r[_p]=this.lastSessionId),this.applicationId&&(r[pp]=this.applicationId),this.appCheckToken&&(r[Zc]=this.appCheckToken),typeof location<"u"&&location.hostname&&gp.test(location.hostname)&&(r[dp]=mp);const u=this.urlFn(r);this.log_("Connecting via long-poll to "+u),this.scriptTagHolder.addTag(u,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){xl.forceAllow_=!0}static forceDisallow(){xl.forceDisallow_=!0}static isAvailable(){return xl.forceAllow_?!0:!xl.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!SE()&&!EE()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(n){const s=Ve(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=V_(s),u=up(r,GE);for(let f=0;f<u.length;f++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,u.length,u[f]),this.curSegmentNum++}addDisconnectPingFrame(n,s){this.myDisconnFrame=document.createElement("iframe");const r={};r[qE]="t",r[Ep]=n,r[Tp]=s,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(n){const s=Ve(n).length;this.bytesReceived+=s,this.stats_.incrementCounter("bytes_received",s)}}class mf{constructor(n,s,r,u){this.onDisconnect=r,this.urlFn=u,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_E(),window[LE+this.uniqueCallbackIdentifier]=n,window[UE+this.uniqueCallbackIdentifier]=s,this.myIFrame=mf.createIFrame_();let f="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(f='<script>document.domain="'+document.domain+'";<\/script>');const h="<html><body>"+f+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(h),this.myIFrame.doc.close()}catch(m){at("frame writing exception"),m.stack&&at(m.stack),at(m)}}}static createIFrame_(){const n=document.createElement("iframe");if(n.style.display="none",document.body){document.body.appendChild(n);try{n.contentWindow.document||at("No IE domain setting required")}catch{const r=document.domain;n.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return n.contentDocument?n.doc=n.contentDocument:n.contentWindow?n.doc=n.contentWindow.document:n.document&&(n.doc=n.document),n}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const n=this.onDisconnect;n&&(this.onDisconnect=null,n())}startLongPoll(n,s){for(this.myID=n,this.myPW=s,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const n={};n[Ep]=this.myID,n[Tp]=this.myPW,n[Cp]=this.currentSerial;let s=this.urlFn(n),r="",u=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Np+r.length<=Ap;){const h=this.pendingSegs.shift();r=r+"&"+HE+u+"="+h.seg+"&"+jE+u+"="+h.ts+"&"+BE+u+"="+h.d,u++}return s=s+r,this.addLongPollTag_(s,this.currentSerial),!0}else return!1}enqueueSegment(n,s,r){this.pendingSegs.push({seg:n,ts:s,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(n,s){this.outstandingRequests.add(s);const r=()=>{this.outstandingRequests.delete(s),this.newRequest_()},u=setTimeout(r,Math.floor(YE)),f=()=>{clearTimeout(u),r()};this.addTag(n,f)}addTag(n,s){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=n,r.onload=r.onreadystatechange=function(){const u=r.readyState;(!u||u==="loaded"||u==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),s())},r.onerror=()=>{at("Long-poll script failed to load: "+n),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE=16384,QE=45e3;let kr=null;typeof MozWebSocket<"u"?kr=MozWebSocket:typeof WebSocket<"u"&&(kr=WebSocket);class Qt{constructor(n,s,r,u,f,h,m){this.connId=n,this.applicationId=r,this.appCheckToken=u,this.authToken=f,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ha(this.connId),this.stats_=df(s),this.connURL=Qt.connectionURL_(s,h,m,u,r),this.nodeAdmin=s.nodeAdmin}static connectionURL_(n,s,r,u,f){const h={};return h[fp]=hf,typeof location<"u"&&location.hostname&&gp.test(location.hostname)&&(h[dp]=mp),s&&(h[hp]=s),r&&(h[_p]=r),u&&(h[Zc]=u),f&&(h[pp]=f),Sp(n,yp,h)}open(n,s){this.onDisconnect=s,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ji.set("previous_websocket_failure",!0);try{let r;Yb(),this.mySock=new kr(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const u=r.message||r.data;u&&this.log_(u),this.onClosed_()}}start(){}static forceDisallow(){Qt.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const s=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(s);r&&r.length>1&&parseFloat(r[1])<4.4&&(n=!0)}return!n&&kr!==null&&!Qt.forceDisallow_}static previouslyFailed(){return ji.isInMemoryStorage||ji.get("previous_websocket_failure")===!0}markConnectionHealthy(){ji.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const s=this.frames.join("");this.frames=null;const r=$s(s);this.onMessage(r)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(L(this.frames===null,"We already have a frame buffer"),n.length<=6){const s=Number(n);if(!isNaN(s))return this.handleNewFrameCount_(s),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(this.mySock===null)return;const s=n.data;if(this.bytesReceived+=s.length,this.stats_.incrementCounter("bytes_received",s.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(s);else{const r=this.extractFrameCount_(s);r!==null&&this.appendFrame_(r)}}send(n){this.resetKeepAlive();const s=Ve(n);this.bytesSent+=s.length,this.stats_.incrementCounter("bytes_sent",s.length);const r=up(s,FE);r.length>1&&this.sendString_(String(r.length));for(let u=0;u<r.length;u++)this.sendString_(r[u])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(QE))}sendString_(n){try{this.mySock.send(n)}catch(s){this.log_("Exception thrown from WebSocket.send():",s.message||s.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Qt.responsesRequiredToBeHealthy=2;Qt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{static get ALL_TRANSPORTS(){return[xl,Qt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(n){this.initTransports_(n)}initTransports_(n){const s=Qt&&Qt.isAvailable();let r=s&&!Qt.previouslyFailed();if(n.webSocketOnly&&(s||pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Qt];else{const u=this.transports_=[];for(const f of ta.ALL_TRANSPORTS)f&&f.isAvailable()&&u.push(f);ta.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ta.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE=6e4,KE=5e3,ZE=10*1024,PE=100*1024,zc="t",s_="d",WE="s",a_="r",$E="e",r_="o",o_="a",u_="n",c_="p",JE="h";class eT{constructor(n,s,r,u,f,h,m,_,g,E){this.id=n,this.repoInfo_=s,this.applicationId_=r,this.appCheckToken_=u,this.authToken_=f,this.onMessage_=h,this.onReady_=m,this.onDisconnect_=_,this.onKill_=g,this.lastSessionId=E,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ha("c:"+this.id+":"),this.transportManager_=new ta(s),this.log_("Connection created"),this.start_()}start_(){const n=this.transportManager_.initialTransport();this.conn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(s,r)},Math.floor(0));const u=n.healthyTimeout||0;u>0&&(this.healthyTimeout_=Xs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>PE?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>ZE?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(u)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(n){return s=>{n===this.conn_?this.onConnectionLost_(s):n===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(n){return s=>{this.state_!==2&&(n===this.rx_?this.onPrimaryMessageReceived_(s):n===this.secondaryConn_?this.onSecondaryMessageReceived_(s):this.log_("message on old connection"))}}sendRequest(n){const s={t:"d",d:n};this.sendData_(s)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(n){if(zc in n){const s=n[zc];s===o_?this.upgradeIfSecondaryHealthy_():s===a_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):s===r_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(n){const s=Gs("t",n),r=Gs("d",n);if(s==="c")this.onSecondaryControl_(r);else if(s==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+s)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:c_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:o_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:u_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(n){const s=Gs("t",n),r=Gs("d",n);s==="c"?this.onControl_(r):s==="d"&&this.onDataMessage_(r)}onDataMessage_(n){this.onPrimaryResponse_(),this.onMessage_(n)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(n){const s=Gs(zc,n);if(s_ in n){const r=n[s_];if(s===JE){const u=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(u.h=this.repoInfo_.host),this.onHandshake_(u)}else if(s===u_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let u=0;u<this.pendingDataMessages.length;++u)this.onDataMessage_(this.pendingDataMessages[u]);this.pendingDataMessages=[],this.tryCleanupConnection()}else s===WE?this.onConnectionShutdown_(r):s===a_?this.onReset_(r):s===$E?Kc("Server Error: "+r):s===r_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Kc("Unknown control packet command: "+s)}}onHandshake_(n){const s=n.ts,r=n.v,u=n.h;this.sessionId=n.s,this.repoInfo_.host=u,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,s),hf!==r&&pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const n=this.transportManager_.upgradeTransport();n&&this.startUpgrade_(n)}startUpgrade_(n){this.secondaryConn_=new n(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=n.responsesRequiredToBeHealthy||0;const s=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(s,r),Xs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(XE))}onReset_(n){this.log_("Reset packet received.  New host: "+n),this.repoInfo_.host=n,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(n,s){this.log_("Realtime connection established."),this.conn_=n,this.state_=1,this.onReady_&&(this.onReady_(s,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(KE))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:c_,d:{}}}))}onSecondaryConnectionLost_(){const n=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===n||this.rx_===n)&&this.close()}onConnectionLost_(n){this.conn_=null,!n&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ji.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(n){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(n),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(n){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(n)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{put(n,s,r,u){}merge(n,s,r,u){}refreshAuthToken(n){}refreshAppCheckToken(n){}onDisconnectPut(n,s,r){}onDisconnectMerge(n,s,r){}onDisconnectCancel(n,s){}reportStats(n){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(n){this.allowedEvents_=n,this.listeners_={},L(Array.isArray(n)&&n.length>0,"Requires a non-empty array")}trigger(n,...s){if(Array.isArray(this.listeners_[n])){const r=[...this.listeners_[n]];for(let u=0;u<r.length;u++)r[u].callback.apply(r[u].context,s)}}on(n,s,r){this.validateEventType_(n),this.listeners_[n]=this.listeners_[n]||[],this.listeners_[n].push({callback:s,context:r});const u=this.getInitialEvent(n);u&&s.apply(r,u)}off(n,s,r){this.validateEventType_(n);const u=this.listeners_[n]||[];for(let f=0;f<u.length;f++)if(u[f].callback===s&&(!r||r===u[f].context)){u.splice(f,1);return}}validateEventType_(n){L(this.allowedEvents_.find(s=>s===n),"Unknown event: "+n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hr extends Rp{static getInstance(){return new Hr}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!K_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(n){return L(n==="online","Unknown event type: "+n),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_=32,h_=768;class Se{constructor(n,s){if(s===void 0){this.pieces_=n.split("/");let r=0;for(let u=0;u<this.pieces_.length;u++)this.pieces_[u].length>0&&(this.pieces_[r]=this.pieces_[u],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=n,this.pieceNum_=s}toString(){let n="";for(let s=this.pieceNum_;s<this.pieces_.length;s++)this.pieces_[s]!==""&&(n+="/"+this.pieces_[s]);return n||"/"}}function ge(){return new Se("")}function ae(l){return l.pieceNum_>=l.pieces_.length?null:l.pieces_[l.pieceNum_]}function hi(l){return l.pieces_.length-l.pieceNum_}function Ne(l){let n=l.pieceNum_;return n<l.pieces_.length&&n++,new Se(l.pieces_,n)}function Dp(l){return l.pieceNum_<l.pieces_.length?l.pieces_[l.pieces_.length-1]:null}function tT(l){let n="";for(let s=l.pieceNum_;s<l.pieces_.length;s++)l.pieces_[s]!==""&&(n+="/"+encodeURIComponent(String(l.pieces_[s])));return n||"/"}function Op(l,n=0){return l.pieces_.slice(l.pieceNum_+n)}function Mp(l){if(l.pieceNum_>=l.pieces_.length)return null;const n=[];for(let s=l.pieceNum_;s<l.pieces_.length-1;s++)n.push(l.pieces_[s]);return new Se(n,0)}function Fe(l,n){const s=[];for(let r=l.pieceNum_;r<l.pieces_.length;r++)s.push(l.pieces_[r]);if(n instanceof Se)for(let r=n.pieceNum_;r<n.pieces_.length;r++)s.push(n.pieces_[r]);else{const r=n.split("/");for(let u=0;u<r.length;u++)r[u].length>0&&s.push(r[u])}return new Se(s,0)}function se(l){return l.pieceNum_>=l.pieces_.length}function ct(l,n){const s=ae(l),r=ae(n);if(s===null)return n;if(s===r)return ct(Ne(l),Ne(n));throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+l+")")}function xp(l,n){if(hi(l)!==hi(n))return!1;for(let s=l.pieceNum_,r=n.pieceNum_;s<=l.pieces_.length;s++,r++)if(l.pieces_[s]!==n.pieces_[r])return!1;return!0}function Xt(l,n){let s=l.pieceNum_,r=n.pieceNum_;if(hi(l)>hi(n))return!1;for(;s<l.pieces_.length;){if(l.pieces_[s]!==n.pieces_[r])return!1;++s,++r}return!0}class nT{constructor(n,s){this.errorPrefix_=s,this.parts_=Op(n,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Jr(this.parts_[r]);Ip(this)}}function iT(l,n){l.parts_.length>0&&(l.byteLength_+=1),l.parts_.push(n),l.byteLength_+=Jr(n),Ip(l)}function lT(l){const n=l.parts_.pop();l.byteLength_-=Jr(n),l.parts_.length>0&&(l.byteLength_-=1)}function Ip(l){if(l.byteLength_>h_)throw new Error(l.errorPrefix_+"has a key path longer than "+h_+" bytes ("+l.byteLength_+").");if(l.parts_.length>f_)throw new Error(l.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+f_+") or object contains a cycle "+Hi(l))}function Hi(l){return l.parts_.length===0?"":"in property '"+l.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf extends Rp{static getInstance(){return new gf}constructor(){super(["visible"]);let n,s;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(s="visibilitychange",n="hidden"):typeof document.mozHidden<"u"?(s="mozvisibilitychange",n="mozHidden"):typeof document.msHidden<"u"?(s="msvisibilitychange",n="msHidden"):typeof document.webkitHidden<"u"&&(s="webkitvisibilitychange",n="webkitHidden")),this.visible_=!0,s&&document.addEventListener(s,()=>{const r=!document[n];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(n){return L(n==="visible","Unknown event type: "+n),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ys=1e3,sT=60*5*1e3,d_=30*1e3,aT=1.3,rT=3e4,oT="server_kill",m_=3;class Rn extends wp{constructor(n,s,r,u,f,h,m,_){if(super(),this.repoInfo_=n,this.applicationId_=s,this.onDataUpdate_=r,this.onConnectStatus_=u,this.onServerInfoUpdate_=f,this.authTokenProvider_=h,this.appCheckTokenProvider_=m,this.authOverride_=_,this.id=Rn.nextPersistentConnectionId_++,this.log_=ha("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ys,this.maxReconnectDelay_=sT,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,_)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");gf.getInstance().on("visible",this.onVisible_,this),n.host.indexOf("fblocal")===-1&&Hr.getInstance().on("online",this.onOnline_,this)}sendRequest(n,s,r){const u=++this.requestNumber_,f={r:u,a:n,b:s};this.log_(Ve(f)),L(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(f),r&&(this.requestCBHash_[u]=r)}get(n){this.initConnection_();const s=new Wr,u={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:h=>{const m=h.d;h.s==="ok"?s.resolve(m):s.reject(m)}};this.outstandingGets_.push(u),this.outstandingGetCount_++;const f=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(f),s.promise}listen(n,s,r,u){this.initConnection_();const f=n._queryIdentifier,h=n._path.toString();this.log_("Listen called for "+h+" "+f),this.listens.has(h)||this.listens.set(h,new Map),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),L(!this.listens.get(h).has(f),"listen() called twice for same path/queryId.");const m={onComplete:u,hashFn:s,query:n,tag:r};this.listens.get(h).set(f,m),this.connected_&&this.sendListen_(m)}sendGet_(n){const s=this.outstandingGets_[n];this.sendRequest("g",s.request,r=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),s.onComplete&&s.onComplete(r)})}sendListen_(n){const s=n.query,r=s._path.toString(),u=s._queryIdentifier;this.log_("Listen on "+r+" for "+u);const f={p:r},h="q";n.tag&&(f.q=s._queryObject,f.t=n.tag),f.h=n.hashFn(),this.sendRequest(h,f,m=>{const _=m.d,g=m.s;Rn.warnOnListenWarnings_(_,s),(this.listens.get(r)&&this.listens.get(r).get(u))===n&&(this.log_("listen response",m),g!=="ok"&&this.removeListen_(r,u),n.onComplete&&n.onComplete(g,_))})}static warnOnListenWarnings_(n,s){if(n&&typeof n=="object"&&xn(n,"w")){const r=Ll(n,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const u='".indexOn": "'+s._queryParams.getIndex().toString()+'"',f=s._path.toString();pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${u} at ${f} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&n.length===40||Zb(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=d_)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,s=Kb(n)?"auth":"gauth",r={cred:n};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(s,r,u=>{const f=u.s,h=u.d||"error";this.authToken_===n&&(f==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(f,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const s=n.s,r=n.d||"error";s==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(s,r)})}unlisten(n,s){const r=n._path.toString(),u=n._queryIdentifier;this.log_("Unlisten called for "+r+" "+u),L(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,u)&&this.connected_&&this.sendUnlisten_(r,u,n._queryObject,s)}sendUnlisten_(n,s,r,u){this.log_("Unlisten on "+n+" for "+s);const f={p:n},h="n";u&&(f.q=r,f.t=u),this.sendRequest(h,f)}onDisconnectPut(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:s,onComplete:r})}onDisconnectMerge(n,s,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,s,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:s,onComplete:r})}onDisconnectCancel(n,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,s):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:s})}sendOnDisconnect_(n,s,r,u){const f={p:s,d:r};this.log_("onDisconnect "+n,f),this.sendRequest(n,f,h=>{u&&setTimeout(()=>{u(h.s,h.d)},Math.floor(0))})}put(n,s,r,u){this.putInternal("p",n,s,r,u)}merge(n,s,r,u){this.putInternal("m",n,s,r,u)}putInternal(n,s,r,u,f){this.initConnection_();const h={p:s,d:r};f!==void 0&&(h.h=f),this.outstandingPuts_.push({action:n,request:h,onComplete:u}),this.outstandingPutCount_++;const m=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(m):this.log_("Buffering put: "+s)}sendPut_(n){const s=this.outstandingPuts_[n].action,r=this.outstandingPuts_[n].request,u=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(s,r,f=>{this.log_(s+" response",f),delete this.outstandingPuts_[n],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),u&&u(f.s,f.d)})}reportStats(n){if(this.connected_){const s={c:n};this.log_("reportStats",s),this.sendRequest("s",s,r=>{if(r.s!=="ok"){const f=r.d;this.log_("reportStats","Error sending stats: "+f)}})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Ve(n));const s=n.r,r=this.requestCBHash_[s];r&&(delete this.requestCBHash_[s],r(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,s){this.log_("handleServerMessage",n,s),n==="d"?this.onDataUpdate_(s.p,s.d,!1,s.t):n==="m"?this.onDataUpdate_(s.p,s.d,!0,s.t):n==="c"?this.onListenRevoked_(s.p,s.q):n==="ac"?this.onAuthRevoked_(s.s,s.d):n==="apc"?this.onAppCheckRevoked_(s.s,s.d):n==="sd"?this.onSecurityDebugPacket_(s):Kc("Unrecognized action received from server: "+Ve(n)+`
Are you using the latest client?`)}onReady_(n,s){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(n),this.lastSessionId=s,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){L(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ys,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=Ys,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>rT&&(this.reconnectDelay_=Ys),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const n=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let s=Math.max(0,this.reconnectDelay_-n);s=Math.random()*s,this.log_("Trying to reconnect in "+s+"ms"),this.scheduleConnect_(s),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*aT)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const n=this.onDataMessage_.bind(this),s=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),u=this.id+":"+Rn.nextConnectionId_++,f=this.lastSessionId;let h=!1,m=null;const _=function(){m?m.close():(h=!0,r())},g=function(b){L(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(b)};this.realtime_={close:_,sendRequest:g};const E=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,A]=await Promise.all([this.authTokenProvider_.getToken(E),this.appCheckTokenProvider_.getToken(E)]);h?at("getToken() completed but was canceled"):(at("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=A&&A.token,m=new eT(u,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,n,s,r,x=>{pt(x+" ("+this.repoInfo_.toString()+")"),this.interrupt(oT)},f))}catch(b){this.log_("Failed to get token: "+b),h||(this.repoInfo_.nodeAdmin&&pt(b),_())}}}interrupt(n){at("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){at("Resuming connection for reason: "+n),delete this.interruptReasons_[n],Gg(this.interruptReasons_)&&(this.reconnectDelay_=Ys,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const s=n-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:s})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const s=this.outstandingPuts_[n];s&&"h"in s.request&&s.queued&&(s.onComplete&&s.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(n,s){let r;s?r=s.map(f=>ff(f)).join("$"):r="default";const u=this.removeListen_(n,r);u&&u.onComplete&&u.onComplete("permission_denied")}removeListen_(n,s){const r=new Se(n).toString();let u;if(this.listens.has(r)){const f=this.listens.get(r);u=f.get(s),f.delete(s),f.size===0&&this.listens.delete(r)}else u=void 0;return u}onAuthRevoked_(n,s){at("Auth token revoked: "+n+"/"+s),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(n==="invalid_token"||n==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=m_&&(this.reconnectDelay_=d_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,s){at("App check token revoked: "+n+"/"+s),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(n==="invalid_token"||n==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=m_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const s of n.values())this.sendListen_(s);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let s="js";n["sdk."+s+"."+sp.replace(/\./g,"-")]=1,K_()?n["framework.cordova"]=1:Gb()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Hr.getInstance().currentlyOnline();return Gg(this.interruptReasons_)&&n}}Rn.nextPersistentConnectionId_=0;Rn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ie{constructor(n,s){this.name=n,this.node=s}static Wrap(n,s){return new ie(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{getCompare(){return this.compare.bind(this)}indexedValueChanged(n,s){const r=new ie(Ul,n),u=new ie(Ul,s);return this.compare(r,u)!==0}minPost(){return ie.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mr;class zp extends eo{static get __EMPTY_NODE(){return Mr}static set __EMPTY_NODE(n){Mr=n}compare(n,s){return Bl(n.name,s.name)}isDefinedOn(n){throw jl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(n,s){return!1}minPost(){return ie.MIN}maxPost(){return new ie(Gi,Mr)}makePost(n,s){return L(typeof n=="string","KeyIndex indexValue must always be a string."),new ie(n,Mr)}toString(){return".key"}}const zl=new zp;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xr{constructor(n,s,r,u,f=null){this.isReverse_=u,this.resultGenerator_=f,this.nodeStack_=[];let h=1;for(;!n.isEmpty();)if(n=n,h=s?r(n.key,s):1,u&&(h*=-1),h<0)this.isReverse_?n=n.left:n=n.right;else if(h===0){this.nodeStack_.push(n);break}else this.nodeStack_.push(n),this.isReverse_?n=n.right:n=n.left}getNext(){if(this.nodeStack_.length===0)return null;let n=this.nodeStack_.pop(),s;if(this.resultGenerator_?s=this.resultGenerator_(n.key,n.value):s={key:n.key,value:n.value},this.isReverse_)for(n=n.left;!n.isEmpty();)this.nodeStack_.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack_.push(n),n=n.left;return s}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const n=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(n.key,n.value):{key:n.key,value:n.value}}}class We{constructor(n,s,r,u,f){this.key=n,this.value=s,this.color=r??We.RED,this.left=u??_t.EMPTY_NODE,this.right=f??_t.EMPTY_NODE}copy(n,s,r,u,f){return new We(n??this.key,s??this.value,r??this.color,u??this.left,f??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,r){let u=this;const f=r(n,u.key);return f<0?u=u.copy(null,null,null,u.left.insert(n,s,r),null):f===0?u=u.copy(null,s,null,null,null):u=u.copy(null,null,null,null,u.right.insert(n,s,r)),u.fixUp_()}removeMin_(){if(this.left.isEmpty())return _t.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,s){let r,u;if(r=this,s(n,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(n,s),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),s(n,r.key)===0){if(r.right.isEmpty())return _t.EMPTY_NODE;u=r.right.min_(),r=r.copy(u.key,u.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(n,s))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}We.RED=!0;We.BLACK=!1;class uT{copy(n,s,r,u,f){return this}insert(n,s,r){return new We(n,s,null)}remove(n,s){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class _t{constructor(n,s=_t.EMPTY_NODE){this.comparator_=n,this.root_=s}insert(n,s){return new _t(this.comparator_,this.root_.insert(n,s,this.comparator_).copy(null,null,We.BLACK,null,null))}remove(n){return new _t(this.comparator_,this.root_.remove(n,this.comparator_).copy(null,null,We.BLACK,null,null))}get(n){let s,r=this.root_;for(;!r.isEmpty();){if(s=this.comparator_(n,r.key),s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}getPredecessorKey(n){let s,r=this.root_,u=null;for(;!r.isEmpty();)if(s=this.comparator_(n,r.key),s===0){if(r.left.isEmpty())return u?u.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else s<0?r=r.left:s>0&&(u=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(n){return this.root_.inorderTraversal(n)}reverseTraversal(n){return this.root_.reverseTraversal(n)}getIterator(n){return new xr(this.root_,null,this.comparator_,!1,n)}getIteratorFrom(n,s){return new xr(this.root_,n,this.comparator_,!1,s)}getReverseIteratorFrom(n,s){return new xr(this.root_,n,this.comparator_,!0,s)}getReverseIterator(n){return new xr(this.root_,null,this.comparator_,!0,n)}}_t.EMPTY_NODE=new uT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(l,n){return Bl(l.name,n.name)}function _f(l,n){return Bl(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pc;function fT(l){Pc=l}const Lp=function(l){return typeof l=="number"?"number:"+cp(l):"string:"+l},Up=function(l){if(l.isLeafNode()){const n=l.val();L(typeof n=="string"||typeof n=="number"||typeof n=="object"&&xn(n,".sv"),"Priority must be a string or number.")}else L(l===Pc||l.isEmpty(),"priority of unexpected type.");L(l===Pc||l.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g_;class Pe{static set __childrenNodeConstructor(n){g_=n}static get __childrenNodeConstructor(){return g_}constructor(n,s=Pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=s,this.lazyHash_=null,L(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),Up(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new Pe(this.value_,n)}getImmediateChild(n){return n===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return se(n)?this:ae(n)===".priority"?this.priorityNode_:Pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,s){return null}updateImmediateChild(n,s){return n===".priority"?this.updatePriority(s):s.isEmpty()&&n!==".priority"?this:Pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,s).updatePriority(this.priorityNode_)}updateChild(n,s){const r=ae(n);return r===null?s:s.isEmpty()&&r!==".priority"?this:(L(r!==".priority"||hi(n)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ne(n),s)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,s){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+Lp(this.priorityNode_.val())+":");const s=typeof this.value_;n+=s+":",s==="number"?n+=cp(this.value_):n+=this.value_,this.lazyHash_=rp(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===Pe.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof Pe.__childrenNodeConstructor?-1:(L(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const s=typeof n.value_,r=typeof this.value_,u=Pe.VALUE_TYPE_ORDER.indexOf(s),f=Pe.VALUE_TYPE_ORDER.indexOf(r);return L(u>=0,"Unknown leaf type: "+s),L(f>=0,"Unknown leaf type: "+r),u===f?r==="object"?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:f-u}withIndex(){return this}isIndexed(){return!0}equals(n){if(n===this)return!0;if(n.isLeafNode()){const s=n;return this.value_===s.value_&&this.priorityNode_.equals(s.priorityNode_)}else return!1}}Pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp,Hp;function hT(l){kp=l}function dT(l){Hp=l}class mT extends eo{compare(n,s){const r=n.node.getPriority(),u=s.node.getPriority(),f=r.compareTo(u);return f===0?Bl(n.name,s.name):f}isDefinedOn(n){return!n.getPriority().isEmpty()}indexedValueChanged(n,s){return!n.getPriority().equals(s.getPriority())}minPost(){return ie.MIN}maxPost(){return new ie(Gi,new Pe("[PRIORITY-POST]",Hp))}makePost(n,s){const r=kp(n);return new ie(s,new Pe("[PRIORITY-POST]",r))}toString(){return".priority"}}const Le=new mT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gT=Math.log(2);class _T{constructor(n){const s=f=>parseInt(Math.log(f)/gT,10),r=f=>parseInt(Array(f+1).join("1"),2);this.count=s(n+1),this.current_=this.count-1;const u=r(this.count);this.bits_=n+1&u}nextBitIsOne(){const n=!(this.bits_&1<<this.current_);return this.current_--,n}}const jr=function(l,n,s,r){l.sort(n);const u=function(_,g){const E=g-_;let b,A;if(E===0)return null;if(E===1)return b=l[_],A=s?s(b):b,new We(A,b.node,We.BLACK,null,null);{const x=parseInt(E/2,10)+_,U=u(_,x),F=u(x+1,g);return b=l[x],A=s?s(b):b,new We(A,b.node,We.BLACK,U,F)}},f=function(_){let g=null,E=null,b=l.length;const A=function(U,F){const k=b-U,re=b;b-=U;const we=u(k+1,re),ce=l[k],Je=s?s(ce):ce;x(new We(Je,ce.node,F,null,we))},x=function(U){g?(g.left=U,g=U):(E=U,g=U)};for(let U=0;U<_.count;++U){const F=_.nextBitIsOne(),k=Math.pow(2,_.count-(U+1));F?A(k,We.BLACK):(A(k,We.BLACK),A(k,We.RED))}return E},h=new _T(l.length),m=f(h);return new _t(r||n,m)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc;const Ml={};class wn{static get Default(){return L(Ml&&Le,"ChildrenNode.ts has not been loaded"),Lc=Lc||new wn({".priority":Ml},{".priority":Le}),Lc}constructor(n,s){this.indexes_=n,this.indexSet_=s}get(n){const s=Ll(this.indexes_,n);if(!s)throw new Error("No index defined for "+n);return s instanceof _t?s:null}hasIndex(n){return xn(this.indexSet_,n.toString())}addIndex(n,s){L(n!==zl,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let u=!1;const f=s.getIterator(ie.Wrap);let h=f.getNext();for(;h;)u=u||n.isDefinedOn(h.node),r.push(h),h=f.getNext();let m;u?m=jr(r,n.getCompare()):m=Ml;const _=n.toString(),g=Object.assign({},this.indexSet_);g[_]=n;const E=Object.assign({},this.indexes_);return E[_]=m,new wn(E,g)}addToIndexes(n,s){const r=Lr(this.indexes_,(u,f)=>{const h=Ll(this.indexSet_,f);if(L(h,"Missing index implementation for "+f),u===Ml)if(h.isDefinedOn(n.node)){const m=[],_=s.getIterator(ie.Wrap);let g=_.getNext();for(;g;)g.name!==n.name&&m.push(g),g=_.getNext();return m.push(n),jr(m,h.getCompare())}else return Ml;else{const m=s.get(n.name);let _=u;return m&&(_=_.remove(new ie(n.name,m))),_.insert(n,n.node)}});return new wn(r,this.indexSet_)}removeFromIndexes(n,s){const r=Lr(this.indexes_,u=>{if(u===Ml)return u;{const f=s.get(n.name);return f?u.remove(new ie(n.name,f)):u}});return new wn(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vs;class K{static get EMPTY_NODE(){return Vs||(Vs=new K(new _t(_f),null,wn.Default))}constructor(n,s,r){this.children_=n,this.priorityNode_=s,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&Up(this.priorityNode_),this.children_.isEmpty()&&L(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Vs}updatePriority(n){return this.children_.isEmpty()?this:new K(this.children_,n,this.indexMap_)}getImmediateChild(n){if(n===".priority")return this.getPriority();{const s=this.children_.get(n);return s===null?Vs:s}}getChild(n){const s=ae(n);return s===null?this:this.getImmediateChild(s).getChild(Ne(n))}hasChild(n){return this.children_.get(n)!==null}updateImmediateChild(n,s){if(L(s,"We should always be passing snapshot nodes"),n===".priority")return this.updatePriority(s);{const r=new ie(n,s);let u,f;s.isEmpty()?(u=this.children_.remove(n),f=this.indexMap_.removeFromIndexes(r,this.children_)):(u=this.children_.insert(n,s),f=this.indexMap_.addToIndexes(r,this.children_));const h=u.isEmpty()?Vs:this.priorityNode_;return new K(u,h,f)}}updateChild(n,s){const r=ae(n);if(r===null)return s;{L(ae(n)!==".priority"||hi(n)===1,".priority must be the last token in a path");const u=this.getImmediateChild(r).updateChild(Ne(n),s);return this.updateImmediateChild(r,u)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const s={};let r=0,u=0,f=!0;if(this.forEachChild(Le,(h,m)=>{s[h]=m.val(n),r++,f&&K.INTEGER_REGEXP_.test(h)?u=Math.max(u,Number(h)):f=!1}),!n&&f&&u<2*r){const h=[];for(const m in s)h[m]=s[m];return h}else return n&&!this.getPriority().isEmpty()&&(s[".priority"]=this.getPriority().val()),s}hash(){if(this.lazyHash_===null){let n="";this.getPriority().isEmpty()||(n+="priority:"+Lp(this.getPriority().val())+":"),this.forEachChild(Le,(s,r)=>{const u=r.hash();u!==""&&(n+=":"+s+":"+u)}),this.lazyHash_=n===""?"":rp(n)}return this.lazyHash_}getPredecessorChildName(n,s,r){const u=this.resolveIndex_(r);if(u){const f=u.getPredecessorKey(new ie(n,s));return f?f.name:null}else return this.children_.getPredecessorKey(n)}getFirstChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(n){const s=this.getFirstChildName(n);return s?new ie(s,this.children_.get(s)):null}getLastChildName(n){const s=this.resolveIndex_(n);if(s){const r=s.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(n){const s=this.getLastChildName(n);return s?new ie(s,this.children_.get(s)):null}forEachChild(n,s){const r=this.resolveIndex_(n);return r?r.inorderTraversal(u=>s(u.name,u.node)):this.children_.inorderTraversal(s)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getIteratorFrom(n,u=>u);{const u=this.children_.getIteratorFrom(n.name,ie.Wrap);let f=u.peek();for(;f!=null&&s.compare(f,n)<0;)u.getNext(),f=u.peek();return u}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,s){const r=this.resolveIndex_(s);if(r)return r.getReverseIteratorFrom(n,u=>u);{const u=this.children_.getReverseIteratorFrom(n.name,ie.Wrap);let f=u.peek();for(;f!=null&&s.compare(f,n)>0;)u.getNext(),f=u.peek();return u}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===da?-1:0}withIndex(n){if(n===zl||this.indexMap_.hasIndex(n))return this;{const s=this.indexMap_.addIndex(n,this.children_);return new K(this.children_,this.priorityNode_,s)}}isIndexed(n){return n===zl||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const s=n;if(this.getPriority().equals(s.getPriority()))if(this.children_.count()===s.children_.count()){const r=this.getIterator(Le),u=s.getIterator(Le);let f=r.getNext(),h=u.getNext();for(;f&&h;){if(f.name!==h.name||!f.node.equals(h.node))return!1;f=r.getNext(),h=u.getNext()}return f===null&&h===null}else return!1;else return!1}}resolveIndex_(n){return n===zl?null:this.indexMap_.get(n.toString())}}K.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class pT extends K{constructor(){super(new _t(_f),K.EMPTY_NODE,wn.Default)}compareTo(n){return n===this?0:1}equals(n){return n===this}getPriority(){return this}getImmediateChild(n){return K.EMPTY_NODE}isEmpty(){return!1}}const da=new pT;Object.defineProperties(ie,{MIN:{value:new ie(Ul,K.EMPTY_NODE)},MAX:{value:new ie(Gi,da)}});zp.__EMPTY_NODE=K.EMPTY_NODE;Pe.__childrenNodeConstructor=K;fT(da);dT(da);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yT=!0;function $e(l,n=null){if(l===null)return K.EMPTY_NODE;if(typeof l=="object"&&".priority"in l&&(n=l[".priority"]),L(n===null||typeof n=="string"||typeof n=="number"||typeof n=="object"&&".sv"in n,"Invalid priority type found: "+typeof n),typeof l=="object"&&".value"in l&&l[".value"]!==null&&(l=l[".value"]),typeof l!="object"||".sv"in l){const s=l;return new Pe(s,$e(n))}if(!(l instanceof Array)&&yT){const s=[];let r=!1;if(vt(l,(h,m)=>{if(h.substring(0,1)!=="."){const _=$e(m);_.isEmpty()||(r=r||!_.getPriority().isEmpty(),s.push(new ie(h,_)))}}),s.length===0)return K.EMPTY_NODE;const f=jr(s,cT,h=>h.name,_f);if(r){const h=jr(s,Le.getCompare());return new K(f,$e(n),new wn({".priority":h},{".priority":Le}))}else return new K(f,$e(n),wn.Default)}else{let s=K.EMPTY_NODE;return vt(l,(r,u)=>{if(xn(l,r)&&r.substring(0,1)!=="."){const f=$e(u);(f.isLeafNode()||!f.isEmpty())&&(s=s.updateImmediateChild(r,f))}}),s.updatePriority($e(n))}}hT($e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vT extends eo{constructor(n){super(),this.indexPath_=n,L(!se(n)&&ae(n)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(n){return n.getChild(this.indexPath_)}isDefinedOn(n){return!n.getChild(this.indexPath_).isEmpty()}compare(n,s){const r=this.extractChild(n.node),u=this.extractChild(s.node),f=r.compareTo(u);return f===0?Bl(n.name,s.name):f}makePost(n,s){const r=$e(n),u=K.EMPTY_NODE.updateChild(this.indexPath_,r);return new ie(s,u)}maxPost(){const n=K.EMPTY_NODE.updateChild(this.indexPath_,da);return new ie(Gi,n)}toString(){return Op(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT extends eo{compare(n,s){const r=n.node.compareTo(s.node);return r===0?Bl(n.name,s.name):r}isDefinedOn(n){return!0}indexedValueChanged(n,s){return!n.equals(s)}minPost(){return ie.MIN}maxPost(){return ie.MAX}makePost(n,s){const r=$e(n);return new ie(s,r)}toString(){return".value"}}const ST=new bT;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jp(l){return{type:"value",snapshotNode:l}}function kl(l,n){return{type:"child_added",snapshotNode:n,childName:l}}function na(l,n){return{type:"child_removed",snapshotNode:n,childName:l}}function ia(l,n,s){return{type:"child_changed",snapshotNode:n,childName:l,oldSnap:s}}function ET(l,n){return{type:"child_moved",snapshotNode:n,childName:l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(n){this.index_=n}updateChild(n,s,r,u,f,h){L(n.isIndexed(this.index_),"A node must be indexed if only a child is updated");const m=n.getImmediateChild(s);return m.getChild(u).equals(r.getChild(u))&&m.isEmpty()===r.isEmpty()||(h!=null&&(r.isEmpty()?n.hasChild(s)?h.trackChildChange(na(s,m)):L(n.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):m.isEmpty()?h.trackChildChange(kl(s,r)):h.trackChildChange(ia(s,r,m))),n.isLeafNode()&&r.isEmpty())?n:n.updateImmediateChild(s,r).withIndex(this.index_)}updateFullNode(n,s,r){return r!=null&&(n.isLeafNode()||n.forEachChild(Le,(u,f)=>{s.hasChild(u)||r.trackChildChange(na(u,f))}),s.isLeafNode()||s.forEachChild(Le,(u,f)=>{if(n.hasChild(u)){const h=n.getImmediateChild(u);h.equals(f)||r.trackChildChange(ia(u,f,h))}else r.trackChildChange(kl(u,f))})),s.withIndex(this.index_)}updatePriority(n,s){return n.isEmpty()?K.EMPTY_NODE:n.updatePriority(s)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(n){this.indexedFilter_=new pf(n.getIndex()),this.index_=n.getIndex(),this.startPost_=la.getStartPost_(n),this.endPost_=la.getEndPost_(n),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(n){const s=this.startIsInclusive_?this.index_.compare(this.getStartPost(),n)<=0:this.index_.compare(this.getStartPost(),n)<0,r=this.endIsInclusive_?this.index_.compare(n,this.getEndPost())<=0:this.index_.compare(n,this.getEndPost())<0;return s&&r}updateChild(n,s,r,u,f,h){return this.matches(new ie(s,r))||(r=K.EMPTY_NODE),this.indexedFilter_.updateChild(n,s,r,u,f,h)}updateFullNode(n,s,r){s.isLeafNode()&&(s=K.EMPTY_NODE);let u=s.withIndex(this.index_);u=u.updatePriority(K.EMPTY_NODE);const f=this;return s.forEachChild(Le,(h,m)=>{f.matches(new ie(h,m))||(u=u.updateImmediateChild(h,K.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(n,u,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(n){if(n.hasStart()){const s=n.getIndexStartName();return n.getIndex().makePost(n.getIndexStartValue(),s)}else return n.getIndex().minPost()}static getEndPost_(n){if(n.hasEnd()){const s=n.getIndexEndName();return n.getIndex().makePost(n.getIndexEndValue(),s)}else return n.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(n){this.withinDirectionalStart=s=>this.reverse_?this.withinEndPost(s):this.withinStartPost(s),this.withinDirectionalEnd=s=>this.reverse_?this.withinStartPost(s):this.withinEndPost(s),this.withinStartPost=s=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),s);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=s=>{const r=this.index_.compare(s,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new la(n),this.index_=n.getIndex(),this.limit_=n.getLimit(),this.reverse_=!n.isViewFromLeft(),this.startIsInclusive_=!n.startAfterSet_,this.endIsInclusive_=!n.endBeforeSet_}updateChild(n,s,r,u,f,h){return this.rangedFilter_.matches(new ie(s,r))||(r=K.EMPTY_NODE),n.getImmediateChild(s).equals(r)?n:n.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(n,s,r,u,f,h):this.fullLimitUpdateChild_(n,s,r,f,h)}updateFullNode(n,s,r){let u;if(s.isLeafNode()||s.isEmpty())u=K.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<s.numChildren()&&s.isIndexed(this.index_)){u=K.EMPTY_NODE.withIndex(this.index_);let f;this.reverse_?f=s.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):f=s.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let h=0;for(;f.hasNext()&&h<this.limit_;){const m=f.getNext();if(this.withinDirectionalStart(m))if(this.withinDirectionalEnd(m))u=u.updateImmediateChild(m.name,m.node),h++;else break;else continue}}else{u=s.withIndex(this.index_),u=u.updatePriority(K.EMPTY_NODE);let f;this.reverse_?f=u.getReverseIterator(this.index_):f=u.getIterator(this.index_);let h=0;for(;f.hasNext();){const m=f.getNext();h<this.limit_&&this.withinDirectionalStart(m)&&this.withinDirectionalEnd(m)?h++:u=u.updateImmediateChild(m.name,K.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(n,u,r)}updatePriority(n,s){return n}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(n,s,r,u,f){let h;if(this.reverse_){const b=this.index_.getCompare();h=(A,x)=>b(x,A)}else h=this.index_.getCompare();const m=n;L(m.numChildren()===this.limit_,"");const _=new ie(s,r),g=this.reverse_?m.getFirstChild(this.index_):m.getLastChild(this.index_),E=this.rangedFilter_.matches(_);if(m.hasChild(s)){const b=m.getImmediateChild(s);let A=u.getChildAfterChild(this.index_,g,this.reverse_);for(;A!=null&&(A.name===s||m.hasChild(A.name));)A=u.getChildAfterChild(this.index_,A,this.reverse_);const x=A==null?1:h(A,_);if(E&&!r.isEmpty()&&x>=0)return f!=null&&f.trackChildChange(ia(s,r,b)),m.updateImmediateChild(s,r);{f!=null&&f.trackChildChange(na(s,b));const F=m.updateImmediateChild(s,K.EMPTY_NODE);return A!=null&&this.rangedFilter_.matches(A)?(f!=null&&f.trackChildChange(kl(A.name,A.node)),F.updateImmediateChild(A.name,A.node)):F}}else return r.isEmpty()?n:E&&h(g,_)>=0?(f!=null&&(f.trackChildChange(na(g.name,g.node)),f.trackChildChange(kl(s,r))),m.updateImmediateChild(s,r).updateImmediateChild(g.name,K.EMPTY_NODE)):n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Le}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return L(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return L(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ul}hasEnd(){return this.endSet_}getIndexEndValue(){return L(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return L(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return L(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Le}copy(){const n=new yf;return n.limitSet_=this.limitSet_,n.limit_=this.limit_,n.startSet_=this.startSet_,n.startAfterSet_=this.startAfterSet_,n.indexStartValue_=this.indexStartValue_,n.startNameSet_=this.startNameSet_,n.indexStartName_=this.indexStartName_,n.endSet_=this.endSet_,n.endBeforeSet_=this.endBeforeSet_,n.indexEndValue_=this.indexEndValue_,n.endNameSet_=this.endNameSet_,n.indexEndName_=this.indexEndName_,n.index_=this.index_,n.viewFrom_=this.viewFrom_,n}}function CT(l){return l.loadsAllData()?new pf(l.getIndex()):l.hasLimit()?new TT(l):new la(l)}function __(l){const n={};if(l.isDefault())return n;let s;if(l.index_===Le?s="$priority":l.index_===ST?s="$value":l.index_===zl?s="$key":(L(l.index_ instanceof vT,"Unrecognized index type!"),s=l.index_.toString()),n.orderBy=Ve(s),l.startSet_){const r=l.startAfterSet_?"startAfter":"startAt";n[r]=Ve(l.indexStartValue_),l.startNameSet_&&(n[r]+=","+Ve(l.indexStartName_))}if(l.endSet_){const r=l.endBeforeSet_?"endBefore":"endAt";n[r]=Ve(l.indexEndValue_),l.endNameSet_&&(n[r]+=","+Ve(l.indexEndName_))}return l.limitSet_&&(l.isViewFromLeft()?n.limitToFirst=l.limit_:n.limitToLast=l.limit_),n}function p_(l){const n={};if(l.startSet_&&(n.sp=l.indexStartValue_,l.startNameSet_&&(n.sn=l.indexStartName_),n.sin=!l.startAfterSet_),l.endSet_&&(n.ep=l.indexEndValue_,l.endNameSet_&&(n.en=l.indexEndName_),n.ein=!l.endBeforeSet_),l.limitSet_){n.l=l.limit_;let s=l.viewFrom_;s===""&&(l.isViewFromLeft()?s="l":s="r"),n.vf=s}return l.index_!==Le&&(n.i=l.index_.toString()),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br extends wp{reportStats(n){throw new Error("Method not implemented.")}static getListenId_(n,s){return s!==void 0?"tag$"+s:(L(n._queryParams.isDefault(),"should have a tag if it's not a default query."),n._path.toString())}constructor(n,s,r,u){super(),this.repoInfo_=n,this.onDataUpdate_=s,this.authTokenProvider_=r,this.appCheckTokenProvider_=u,this.log_=ha("p:rest:"),this.listens_={}}listen(n,s,r,u){const f=n._path.toString();this.log_("Listen called for "+f+" "+n._queryIdentifier);const h=Br.getListenId_(n,r),m={};this.listens_[h]=m;const _=__(n._queryParams);this.restRequest_(f+".json",_,(g,E)=>{let b=E;if(g===404&&(b=null,g=null),g===null&&this.onDataUpdate_(f,b,!1,r),Ll(this.listens_,h)===m){let A;g?g===401?A="permission_denied":A="rest_error:"+g:A="ok",u(A,null)}})}unlisten(n,s){const r=Br.getListenId_(n,s);delete this.listens_[r]}get(n){const s=__(n._queryParams),r=n._path.toString(),u=new Wr;return this.restRequest_(r+".json",s,(f,h)=>{let m=h;f===404&&(m=null,f=null),f===null?(this.onDataUpdate_(r,m,!1,null),u.resolve(m)):u.reject(new Error(m))}),u.promise}refreshAuthToken(n){}restRequest_(n,s={},r){return s.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([u,f])=>{u&&u.accessToken&&(s.auth=u.accessToken),f&&f.token&&(s.ac=f.token);const h=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+n+"?ns="+this.repoInfo_.namespace+Pb(s);this.log_("Sending REST request for "+h);const m=new XMLHttpRequest;m.onreadystatechange=()=>{if(r&&m.readyState===4){this.log_("REST Response for "+h+" received. status:",m.status,"response:",m.responseText);let _=null;if(m.status>=200&&m.status<300){try{_=$s(m.responseText)}catch{pt("Failed to parse JSON response for "+h+": "+m.responseText)}r(null,_)}else m.status!==401&&m.status!==404&&pt("Got unsuccessful REST response for "+h+" Status: "+m.status),r(m.status);r=null}},m.open("GET",h,!0),m.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.rootNode_=K.EMPTY_NODE}getNode(n){return this.rootNode_.getChild(n)}updateSnapshot(n,s){this.rootNode_=this.rootNode_.updateChild(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qr(){return{value:null,children:new Map}}function Bp(l,n,s){if(se(n))l.value=s,l.children.clear();else if(l.value!==null)l.value=l.value.updateChild(n,s);else{const r=ae(n);l.children.has(r)||l.children.set(r,qr());const u=l.children.get(r);n=Ne(n),Bp(u,n,s)}}function Wc(l,n,s){l.value!==null?s(n,l.value):NT(l,(r,u)=>{const f=new Se(n.toString()+"/"+r);Wc(u,f,s)})}function NT(l,n){l.children.forEach((s,r)=>{n(r,s)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(n){this.collection_=n,this.last_=null}get(){const n=this.collection_.get(),s=Object.assign({},n);return this.last_&&vt(this.last_,(r,u)=>{s[r]=s[r]-u}),this.last_=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_=10*1e3,RT=30*1e3,DT=5*60*1e3;class OT{constructor(n,s){this.server_=s,this.statsToReport_={},this.statsListener_=new wT(n);const r=y_+(RT-y_)*Math.random();Xs(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const n=this.statsListener_.get(),s={};let r=!1;vt(n,(u,f)=>{f>0&&xn(this.statsToReport_,u)&&(s[u]=f,r=!0)}),r&&this.server_.reportStats(s),Xs(this.reportStats_.bind(this),Math.floor(Math.random()*2*DT))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kt;(function(l){l[l.OVERWRITE=0]="OVERWRITE",l[l.MERGE=1]="MERGE",l[l.ACK_USER_WRITE=2]="ACK_USER_WRITE",l[l.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Kt||(Kt={}));function qp(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function vf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function bf(l){return{fromUser:!1,fromServer:!0,queryId:l,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(n,s,r){this.path=n,this.affectedTree=s,this.revert=r,this.type=Kt.ACK_USER_WRITE,this.source=qp()}operationForChild(n){if(se(this.path)){if(this.affectedTree.value!=null)return L(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const s=this.affectedTree.subtree(new Se(n));return new Gr(ge(),s,this.revert)}}else return L(ae(this.path)===n,"operationForChild called for unrelated child."),new Gr(Ne(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sa{constructor(n,s){this.source=n,this.path=s,this.type=Kt.LISTEN_COMPLETE}operationForChild(n){return se(this.path)?new sa(this.source,ge()):new sa(this.source,Ne(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(n,s,r){this.source=n,this.path=s,this.snap=r,this.type=Kt.OVERWRITE}operationForChild(n){return se(this.path)?new Yi(this.source,ge(),this.snap.getImmediateChild(n)):new Yi(this.source,Ne(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(n,s,r){this.source=n,this.path=s,this.children=r,this.type=Kt.MERGE}operationForChild(n){if(se(this.path)){const s=this.children.subtree(new Se(n));return s.isEmpty()?null:s.value?new Yi(this.source,ge(),s.value):new aa(this.source,ge(),s)}else return L(ae(this.path)===n,"Can't get a merge for a child not on the path of the operation"),new aa(this.source,Ne(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class di{constructor(n,s,r){this.node_=n,this.fullyInitialized_=s,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(n){if(se(n))return this.isFullyInitialized()&&!this.filtered_;const s=ae(n);return this.isCompleteForChild(s)}isCompleteForChild(n){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(n)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(n){this.query_=n,this.index_=this.query_._queryParams.getIndex()}}function xT(l,n,s,r){const u=[],f=[];return n.forEach(h=>{h.type==="child_changed"&&l.index_.indexedValueChanged(h.oldSnap,h.snapshotNode)&&f.push(ET(h.childName,h.snapshotNode))}),Fs(l,u,"child_removed",n,r,s),Fs(l,u,"child_added",n,r,s),Fs(l,u,"child_moved",f,r,s),Fs(l,u,"child_changed",n,r,s),Fs(l,u,"value",n,r,s),u}function Fs(l,n,s,r,u,f){const h=r.filter(m=>m.type===s);h.sort((m,_)=>zT(l,m,_)),h.forEach(m=>{const _=IT(l,m,f);u.forEach(g=>{g.respondsTo(m.type)&&n.push(g.createEvent(_,l.query_))})})}function IT(l,n,s){return n.type==="value"||n.type==="child_removed"||(n.prevName=s.getPredecessorChildName(n.childName,n.snapshotNode,l.index_)),n}function zT(l,n,s){if(n.childName==null||s.childName==null)throw jl("Should only compare child_ events.");const r=new ie(n.childName,n.snapshotNode),u=new ie(s.childName,s.snapshotNode);return l.index_.compare(r,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(l,n){return{eventCache:l,serverCache:n}}function Ks(l,n,s,r){return to(new di(n,s,r),l.serverCache)}function Gp(l,n,s,r){return to(l.eventCache,new di(n,s,r))}function Yr(l){return l.eventCache.isFullyInitialized()?l.eventCache.getNode():null}function Vi(l){return l.serverCache.isFullyInitialized()?l.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uc;const LT=()=>(Uc||(Uc=new _t(bE)),Uc);class Re{static fromObject(n){let s=new Re(null);return vt(n,(r,u)=>{s=s.set(new Se(r),u)}),s}constructor(n,s=LT()){this.value=n,this.children=s}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(n,s){if(this.value!=null&&s(this.value))return{path:ge(),value:this.value};if(se(n))return null;{const r=ae(n),u=this.children.get(r);if(u!==null){const f=u.findRootMostMatchingPathAndValue(Ne(n),s);return f!=null?{path:Fe(new Se(r),f.path),value:f.value}:null}else return null}}findRootMostValueAndPath(n){return this.findRootMostMatchingPathAndValue(n,()=>!0)}subtree(n){if(se(n))return this;{const s=ae(n),r=this.children.get(s);return r!==null?r.subtree(Ne(n)):new Re(null)}}set(n,s){if(se(n))return new Re(s,this.children);{const r=ae(n),f=(this.children.get(r)||new Re(null)).set(Ne(n),s),h=this.children.insert(r,f);return new Re(this.value,h)}}remove(n){if(se(n))return this.children.isEmpty()?new Re(null):new Re(null,this.children);{const s=ae(n),r=this.children.get(s);if(r){const u=r.remove(Ne(n));let f;return u.isEmpty()?f=this.children.remove(s):f=this.children.insert(s,u),this.value===null&&f.isEmpty()?new Re(null):new Re(this.value,f)}else return this}}get(n){if(se(n))return this.value;{const s=ae(n),r=this.children.get(s);return r?r.get(Ne(n)):null}}setTree(n,s){if(se(n))return s;{const r=ae(n),f=(this.children.get(r)||new Re(null)).setTree(Ne(n),s);let h;return f.isEmpty()?h=this.children.remove(r):h=this.children.insert(r,f),new Re(this.value,h)}}fold(n){return this.fold_(ge(),n)}fold_(n,s){const r={};return this.children.inorderTraversal((u,f)=>{r[u]=f.fold_(Fe(n,u),s)}),s(n,this.value,r)}findOnPath(n,s){return this.findOnPath_(n,ge(),s)}findOnPath_(n,s,r){const u=this.value?r(s,this.value):!1;if(u)return u;if(se(n))return null;{const f=ae(n),h=this.children.get(f);return h?h.findOnPath_(Ne(n),Fe(s,f),r):null}}foreachOnPath(n,s){return this.foreachOnPath_(n,ge(),s)}foreachOnPath_(n,s,r){if(se(n))return this;{this.value&&r(s,this.value);const u=ae(n),f=this.children.get(u);return f?f.foreachOnPath_(Ne(n),Fe(s,u),r):new Re(null)}}foreach(n){this.foreach_(ge(),n)}foreach_(n,s){this.children.inorderTraversal((r,u)=>{u.foreach_(Fe(n,r),s)}),this.value&&s(n,this.value)}foreachChild(n){this.children.inorderTraversal((s,r)=>{r.value&&n(s,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(n){this.writeTree_=n}static empty(){return new Zt(new Re(null))}}function Zs(l,n,s){if(se(n))return new Zt(new Re(s));{const r=l.writeTree_.findRootMostValueAndPath(n);if(r!=null){const u=r.path;let f=r.value;const h=ct(u,n);return f=f.updateChild(h,s),new Zt(l.writeTree_.set(u,f))}else{const u=new Re(s),f=l.writeTree_.setTree(n,u);return new Zt(f)}}}function v_(l,n,s){let r=l;return vt(s,(u,f)=>{r=Zs(r,Fe(n,u),f)}),r}function b_(l,n){if(se(n))return Zt.empty();{const s=l.writeTree_.setTree(n,new Re(null));return new Zt(s)}}function $c(l,n){return Ki(l,n)!=null}function Ki(l,n){const s=l.writeTree_.findRootMostValueAndPath(n);return s!=null?l.writeTree_.get(s.path).getChild(ct(s.path,n)):null}function S_(l){const n=[],s=l.writeTree_.value;return s!=null?s.isLeafNode()||s.forEachChild(Le,(r,u)=>{n.push(new ie(r,u))}):l.writeTree_.children.inorderTraversal((r,u)=>{u.value!=null&&n.push(new ie(r,u.value))}),n}function ui(l,n){if(se(n))return l;{const s=Ki(l,n);return s!=null?new Zt(new Re(s)):new Zt(l.writeTree_.subtree(n))}}function Jc(l){return l.writeTree_.isEmpty()}function Hl(l,n){return Yp(ge(),l.writeTree_,n)}function Yp(l,n,s){if(n.value!=null)return s.updateChild(l,n.value);{let r=null;return n.children.inorderTraversal((u,f)=>{u===".priority"?(L(f.value!==null,"Priority writes must always be leaf nodes"),r=f.value):s=Yp(Fe(l,u),f,s)}),!s.getChild(l).isEmpty()&&r!==null&&(s=s.updateChild(Fe(l,".priority"),r)),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(l,n){return Xp(n,l)}function UT(l,n,s,r,u){L(r>l.lastWriteId,"Stacking an older write on top of newer ones"),u===void 0&&(u=!0),l.allWrites.push({path:n,snap:s,writeId:r,visible:u}),u&&(l.visibleWrites=Zs(l.visibleWrites,n,s)),l.lastWriteId=r}function kT(l,n){for(let s=0;s<l.allWrites.length;s++){const r=l.allWrites[s];if(r.writeId===n)return r}return null}function HT(l,n){const s=l.allWrites.findIndex(m=>m.writeId===n);L(s>=0,"removeWrite called with nonexistent writeId.");const r=l.allWrites[s];l.allWrites.splice(s,1);let u=r.visible,f=!1,h=l.allWrites.length-1;for(;u&&h>=0;){const m=l.allWrites[h];m.visible&&(h>=s&&jT(m,r.path)?u=!1:Xt(r.path,m.path)&&(f=!0)),h--}if(u){if(f)return BT(l),!0;if(r.snap)l.visibleWrites=b_(l.visibleWrites,r.path);else{const m=r.children;vt(m,_=>{l.visibleWrites=b_(l.visibleWrites,Fe(r.path,_))})}return!0}else return!1}function jT(l,n){if(l.snap)return Xt(l.path,n);for(const s in l.children)if(l.children.hasOwnProperty(s)&&Xt(Fe(l.path,s),n))return!0;return!1}function BT(l){l.visibleWrites=Vp(l.allWrites,qT,ge()),l.allWrites.length>0?l.lastWriteId=l.allWrites[l.allWrites.length-1].writeId:l.lastWriteId=-1}function qT(l){return l.visible}function Vp(l,n,s){let r=Zt.empty();for(let u=0;u<l.length;++u){const f=l[u];if(n(f)){const h=f.path;let m;if(f.snap)Xt(s,h)?(m=ct(s,h),r=Zs(r,m,f.snap)):Xt(h,s)&&(m=ct(h,s),r=Zs(r,ge(),f.snap.getChild(m)));else if(f.children){if(Xt(s,h))m=ct(s,h),r=v_(r,m,f.children);else if(Xt(h,s))if(m=ct(h,s),se(m))r=v_(r,ge(),f.children);else{const _=Ll(f.children,ae(m));if(_){const g=_.getChild(Ne(m));r=Zs(r,ge(),g)}}}else throw jl("WriteRecord should have .snap or .children")}}return r}function Fp(l,n,s,r,u){if(!r&&!u){const f=Ki(l.visibleWrites,n);if(f!=null)return f;{const h=ui(l.visibleWrites,n);if(Jc(h))return s;if(s==null&&!$c(h,ge()))return null;{const m=s||K.EMPTY_NODE;return Hl(h,m)}}}else{const f=ui(l.visibleWrites,n);if(!u&&Jc(f))return s;if(!u&&s==null&&!$c(f,ge()))return null;{const h=function(g){return(g.visible||u)&&(!r||!~r.indexOf(g.writeId))&&(Xt(g.path,n)||Xt(n,g.path))},m=Vp(l.allWrites,h,n),_=s||K.EMPTY_NODE;return Hl(m,_)}}}function GT(l,n,s){let r=K.EMPTY_NODE;const u=Ki(l.visibleWrites,n);if(u)return u.isLeafNode()||u.forEachChild(Le,(f,h)=>{r=r.updateImmediateChild(f,h)}),r;if(s){const f=ui(l.visibleWrites,n);return s.forEachChild(Le,(h,m)=>{const _=Hl(ui(f,new Se(h)),m);r=r.updateImmediateChild(h,_)}),S_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}else{const f=ui(l.visibleWrites,n);return S_(f).forEach(h=>{r=r.updateImmediateChild(h.name,h.node)}),r}}function YT(l,n,s,r,u){L(r||u,"Either existingEventSnap or existingServerSnap must exist");const f=Fe(n,s);if($c(l.visibleWrites,f))return null;{const h=ui(l.visibleWrites,f);return Jc(h)?u.getChild(s):Hl(h,u.getChild(s))}}function VT(l,n,s,r){const u=Fe(n,s),f=Ki(l.visibleWrites,u);if(f!=null)return f;if(r.isCompleteForChild(s)){const h=ui(l.visibleWrites,u);return Hl(h,r.getNode().getImmediateChild(s))}else return null}function FT(l,n){return Ki(l.visibleWrites,n)}function QT(l,n,s,r,u,f,h){let m;const _=ui(l.visibleWrites,n),g=Ki(_,ge());if(g!=null)m=g;else if(s!=null)m=Hl(_,s);else return[];if(m=m.withIndex(h),!m.isEmpty()&&!m.isLeafNode()){const E=[],b=h.getCompare(),A=f?m.getReverseIteratorFrom(r,h):m.getIteratorFrom(r,h);let x=A.getNext();for(;x&&E.length<u;)b(x,r)!==0&&E.push(x),x=A.getNext();return E}else return[]}function XT(){return{visibleWrites:Zt.empty(),allWrites:[],lastWriteId:-1}}function Vr(l,n,s,r){return Fp(l.writeTree,l.treePath,n,s,r)}function Sf(l,n){return GT(l.writeTree,l.treePath,n)}function E_(l,n,s,r){return YT(l.writeTree,l.treePath,n,s,r)}function Fr(l,n){return FT(l.writeTree,Fe(l.treePath,n))}function KT(l,n,s,r,u,f){return QT(l.writeTree,l.treePath,n,s,r,u,f)}function Ef(l,n,s){return VT(l.writeTree,l.treePath,n,s)}function Qp(l,n){return Xp(Fe(l.treePath,n),l.writeTree)}function Xp(l,n){return{treePath:l,writeTree:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(){this.changeMap=new Map}trackChildChange(n){const s=n.type,r=n.childName;L(s==="child_added"||s==="child_changed"||s==="child_removed","Only child changes supported for tracking"),L(r!==".priority","Only non-priority child changes can be tracked.");const u=this.changeMap.get(r);if(u){const f=u.type;if(s==="child_added"&&f==="child_removed")this.changeMap.set(r,ia(r,n.snapshotNode,u.snapshotNode));else if(s==="child_removed"&&f==="child_added")this.changeMap.delete(r);else if(s==="child_removed"&&f==="child_changed")this.changeMap.set(r,na(r,u.oldSnap));else if(s==="child_changed"&&f==="child_added")this.changeMap.set(r,kl(r,n.snapshotNode));else if(s==="child_changed"&&f==="child_changed")this.changeMap.set(r,ia(r,n.snapshotNode,u.oldSnap));else throw jl("Illegal combination of changes: "+n+" occurred after "+u)}else this.changeMap.set(r,n)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{getCompleteChild(n){return null}getChildAfterChild(n,s,r){return null}}const Kp=new PT;class Tf{constructor(n,s,r=null){this.writes_=n,this.viewCache_=s,this.optCompleteServerCache_=r}getCompleteChild(n){const s=this.viewCache_.eventCache;if(s.isCompleteForChild(n))return s.getNode().getImmediateChild(n);{const r=this.optCompleteServerCache_!=null?new di(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ef(this.writes_,n,r)}}getChildAfterChild(n,s,r){const u=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Vi(this.viewCache_),f=KT(this.writes_,u,s,1,r,n);return f.length===0?null:f[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WT(l){return{filter:l}}function $T(l,n){L(n.eventCache.getNode().isIndexed(l.filter.getIndex()),"Event snap not indexed"),L(n.serverCache.getNode().isIndexed(l.filter.getIndex()),"Server snap not indexed")}function JT(l,n,s,r,u){const f=new ZT;let h,m;if(s.type===Kt.OVERWRITE){const g=s;g.source.fromUser?h=ef(l,n,g.path,g.snap,r,u,f):(L(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered()&&!se(g.path),h=Qr(l,n,g.path,g.snap,r,u,m,f))}else if(s.type===Kt.MERGE){const g=s;g.source.fromUser?h=tC(l,n,g.path,g.children,r,u,f):(L(g.source.fromServer,"Unknown source."),m=g.source.tagged||n.serverCache.isFiltered(),h=tf(l,n,g.path,g.children,r,u,m,f))}else if(s.type===Kt.ACK_USER_WRITE){const g=s;g.revert?h=lC(l,n,g.path,r,u,f):h=nC(l,n,g.path,g.affectedTree,r,u,f)}else if(s.type===Kt.LISTEN_COMPLETE)h=iC(l,n,s.path,r,f);else throw jl("Unknown operation type: "+s.type);const _=f.getChanges();return eC(n,h,_),{viewCache:h,changes:_}}function eC(l,n,s){const r=n.eventCache;if(r.isFullyInitialized()){const u=r.getNode().isLeafNode()||r.getNode().isEmpty(),f=Yr(l);(s.length>0||!l.eventCache.isFullyInitialized()||u&&!r.getNode().equals(f)||!r.getNode().getPriority().equals(f.getPriority()))&&s.push(jp(Yr(n)))}}function Zp(l,n,s,r,u,f){const h=n.eventCache;if(Fr(r,s)!=null)return n;{let m,_;if(se(s))if(L(n.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),n.serverCache.isFiltered()){const g=Vi(n),E=g instanceof K?g:K.EMPTY_NODE,b=Sf(r,E);m=l.filter.updateFullNode(n.eventCache.getNode(),b,f)}else{const g=Vr(r,Vi(n));m=l.filter.updateFullNode(n.eventCache.getNode(),g,f)}else{const g=ae(s);if(g===".priority"){L(hi(s)===1,"Can't have a priority with additional path components");const E=h.getNode();_=n.serverCache.getNode();const b=E_(r,s,E,_);b!=null?m=l.filter.updatePriority(E,b):m=h.getNode()}else{const E=Ne(s);let b;if(h.isCompleteForChild(g)){_=n.serverCache.getNode();const A=E_(r,s,h.getNode(),_);A!=null?b=h.getNode().getImmediateChild(g).updateChild(E,A):b=h.getNode().getImmediateChild(g)}else b=Ef(r,g,n.serverCache);b!=null?m=l.filter.updateChild(h.getNode(),g,b,E,u,f):m=h.getNode()}}return Ks(n,m,h.isFullyInitialized()||se(s),l.filter.filtersNodes())}}function Qr(l,n,s,r,u,f,h,m){const _=n.serverCache;let g;const E=h?l.filter:l.filter.getIndexedFilter();if(se(s))g=E.updateFullNode(_.getNode(),r,null);else if(E.filtersNodes()&&!_.isFiltered()){const x=_.getNode().updateChild(s,r);g=E.updateFullNode(_.getNode(),x,null)}else{const x=ae(s);if(!_.isCompleteForPath(s)&&hi(s)>1)return n;const U=Ne(s),k=_.getNode().getImmediateChild(x).updateChild(U,r);x===".priority"?g=E.updatePriority(_.getNode(),k):g=E.updateChild(_.getNode(),x,k,U,Kp,null)}const b=Gp(n,g,_.isFullyInitialized()||se(s),E.filtersNodes()),A=new Tf(u,b,f);return Zp(l,b,s,u,A,m)}function ef(l,n,s,r,u,f,h){const m=n.eventCache;let _,g;const E=new Tf(u,n,f);if(se(s))g=l.filter.updateFullNode(n.eventCache.getNode(),r,h),_=Ks(n,g,!0,l.filter.filtersNodes());else{const b=ae(s);if(b===".priority")g=l.filter.updatePriority(n.eventCache.getNode(),r),_=Ks(n,g,m.isFullyInitialized(),m.isFiltered());else{const A=Ne(s),x=m.getNode().getImmediateChild(b);let U;if(se(A))U=r;else{const F=E.getCompleteChild(b);F!=null?Dp(A)===".priority"&&F.getChild(Mp(A)).isEmpty()?U=F:U=F.updateChild(A,r):U=K.EMPTY_NODE}if(x.equals(U))_=n;else{const F=l.filter.updateChild(m.getNode(),b,U,A,E,h);_=Ks(n,F,m.isFullyInitialized(),l.filter.filtersNodes())}}}return _}function T_(l,n){return l.eventCache.isCompleteForChild(n)}function tC(l,n,s,r,u,f,h){let m=n;return r.foreach((_,g)=>{const E=Fe(s,_);T_(n,ae(E))&&(m=ef(l,m,E,g,u,f,h))}),r.foreach((_,g)=>{const E=Fe(s,_);T_(n,ae(E))||(m=ef(l,m,E,g,u,f,h))}),m}function C_(l,n,s){return s.foreach((r,u)=>{n=n.updateChild(r,u)}),n}function tf(l,n,s,r,u,f,h,m){if(n.serverCache.getNode().isEmpty()&&!n.serverCache.isFullyInitialized())return n;let _=n,g;se(s)?g=r:g=new Re(null).setTree(s,r);const E=n.serverCache.getNode();return g.children.inorderTraversal((b,A)=>{if(E.hasChild(b)){const x=n.serverCache.getNode().getImmediateChild(b),U=C_(l,x,A);_=Qr(l,_,new Se(b),U,u,f,h,m)}}),g.children.inorderTraversal((b,A)=>{const x=!n.serverCache.isCompleteForChild(b)&&A.value===null;if(!E.hasChild(b)&&!x){const U=n.serverCache.getNode().getImmediateChild(b),F=C_(l,U,A);_=Qr(l,_,new Se(b),F,u,f,h,m)}}),_}function nC(l,n,s,r,u,f,h){if(Fr(u,s)!=null)return n;const m=n.serverCache.isFiltered(),_=n.serverCache;if(r.value!=null){if(se(s)&&_.isFullyInitialized()||_.isCompleteForPath(s))return Qr(l,n,s,_.getNode().getChild(s),u,f,m,h);if(se(s)){let g=new Re(null);return _.getNode().forEachChild(zl,(E,b)=>{g=g.set(new Se(E),b)}),tf(l,n,s,g,u,f,m,h)}else return n}else{let g=new Re(null);return r.foreach((E,b)=>{const A=Fe(s,E);_.isCompleteForPath(A)&&(g=g.set(E,_.getNode().getChild(A)))}),tf(l,n,s,g,u,f,m,h)}}function iC(l,n,s,r,u){const f=n.serverCache,h=Gp(n,f.getNode(),f.isFullyInitialized()||se(s),f.isFiltered());return Zp(l,h,s,r,Kp,u)}function lC(l,n,s,r,u,f){let h;if(Fr(r,s)!=null)return n;{const m=new Tf(r,n,u),_=n.eventCache.getNode();let g;if(se(s)||ae(s)===".priority"){let E;if(n.serverCache.isFullyInitialized())E=Vr(r,Vi(n));else{const b=n.serverCache.getNode();L(b instanceof K,"serverChildren would be complete if leaf node"),E=Sf(r,b)}E=E,g=l.filter.updateFullNode(_,E,f)}else{const E=ae(s);let b=Ef(r,E,n.serverCache);b==null&&n.serverCache.isCompleteForChild(E)&&(b=_.getImmediateChild(E)),b!=null?g=l.filter.updateChild(_,E,b,Ne(s),m,f):n.eventCache.getNode().hasChild(E)?g=l.filter.updateChild(_,E,K.EMPTY_NODE,Ne(s),m,f):g=_,g.isEmpty()&&n.serverCache.isFullyInitialized()&&(h=Vr(r,Vi(n)),h.isLeafNode()&&(g=l.filter.updateFullNode(g,h,f)))}return h=n.serverCache.isFullyInitialized()||Fr(r,ge())!=null,Ks(n,g,h,l.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(n,s){this.query_=n,this.eventRegistrations_=[];const r=this.query_._queryParams,u=new pf(r.getIndex()),f=CT(r);this.processor_=WT(f);const h=s.serverCache,m=s.eventCache,_=u.updateFullNode(K.EMPTY_NODE,h.getNode(),null),g=f.updateFullNode(K.EMPTY_NODE,m.getNode(),null),E=new di(_,h.isFullyInitialized(),u.filtersNodes()),b=new di(g,m.isFullyInitialized(),f.filtersNodes());this.viewCache_=to(b,E),this.eventGenerator_=new MT(this.query_)}get query(){return this.query_}}function aC(l){return l.viewCache_.serverCache.getNode()}function rC(l){return Yr(l.viewCache_)}function oC(l,n){const s=Vi(l.viewCache_);return s&&(l.query._queryParams.loadsAllData()||!se(n)&&!s.getImmediateChild(ae(n)).isEmpty())?s.getChild(n):null}function A_(l){return l.eventRegistrations_.length===0}function uC(l,n){l.eventRegistrations_.push(n)}function N_(l,n,s){const r=[];if(s){L(n==null,"A cancel should cancel all event registrations.");const u=l.query._path;l.eventRegistrations_.forEach(f=>{const h=f.createCancelEvent(s,u);h&&r.push(h)})}if(n){let u=[];for(let f=0;f<l.eventRegistrations_.length;++f){const h=l.eventRegistrations_[f];if(!h.matches(n))u.push(h);else if(n.hasAnyCallback()){u=u.concat(l.eventRegistrations_.slice(f+1));break}}l.eventRegistrations_=u}else l.eventRegistrations_=[];return r}function w_(l,n,s,r){n.type===Kt.MERGE&&n.source.queryId!==null&&(L(Vi(l.viewCache_),"We should always have a full cache before handling merges"),L(Yr(l.viewCache_),"Missing event cache, even though we have a server cache"));const u=l.viewCache_,f=JT(l.processor_,u,n,s,r);return $T(l.processor_,f.viewCache),L(f.viewCache.serverCache.isFullyInitialized()||!u.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),l.viewCache_=f.viewCache,Pp(l,f.changes,f.viewCache.eventCache.getNode(),null)}function cC(l,n){const s=l.viewCache_.eventCache,r=[];return s.getNode().isLeafNode()||s.getNode().forEachChild(Le,(f,h)=>{r.push(kl(f,h))}),s.isFullyInitialized()&&r.push(jp(s.getNode())),Pp(l,r,s.getNode(),n)}function Pp(l,n,s,r){const u=r?[r]:l.eventRegistrations_;return xT(l.eventGenerator_,n,s,u)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xr;class Wp{constructor(){this.views=new Map}}function fC(l){L(!Xr,"__referenceConstructor has already been defined"),Xr=l}function hC(){return L(Xr,"Reference.ts has not been loaded"),Xr}function dC(l){return l.views.size===0}function Cf(l,n,s,r){const u=n.source.queryId;if(u!==null){const f=l.views.get(u);return L(f!=null,"SyncTree gave us an op for an invalid query."),w_(f,n,s,r)}else{let f=[];for(const h of l.views.values())f=f.concat(w_(h,n,s,r));return f}}function $p(l,n,s,r,u){const f=n._queryIdentifier,h=l.views.get(f);if(!h){let m=Vr(s,u?r:null),_=!1;m?_=!0:r instanceof K?(m=Sf(s,r),_=!1):(m=K.EMPTY_NODE,_=!1);const g=to(new di(m,_,!1),new di(r,u,!1));return new sC(n,g)}return h}function mC(l,n,s,r,u,f){const h=$p(l,n,r,u,f);return l.views.has(n._queryIdentifier)||l.views.set(n._queryIdentifier,h),uC(h,s),cC(h,s)}function gC(l,n,s,r){const u=n._queryIdentifier,f=[];let h=[];const m=mi(l);if(u==="default")for(const[_,g]of l.views.entries())h=h.concat(N_(g,s,r)),A_(g)&&(l.views.delete(_),g.query._queryParams.loadsAllData()||f.push(g.query));else{const _=l.views.get(u);_&&(h=h.concat(N_(_,s,r)),A_(_)&&(l.views.delete(u),_.query._queryParams.loadsAllData()||f.push(_.query)))}return m&&!mi(l)&&f.push(new(hC())(n._repo,n._path)),{removed:f,events:h}}function Jp(l){const n=[];for(const s of l.views.values())s.query._queryParams.loadsAllData()||n.push(s);return n}function ci(l,n){let s=null;for(const r of l.views.values())s=s||oC(r,n);return s}function ey(l,n){if(n._queryParams.loadsAllData())return io(l);{const r=n._queryIdentifier;return l.views.get(r)}}function ty(l,n){return ey(l,n)!=null}function mi(l){return io(l)!=null}function io(l){for(const n of l.views.values())if(n.query._queryParams.loadsAllData())return n;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr;function _C(l){L(!Kr,"__referenceConstructor has already been defined"),Kr=l}function pC(){return L(Kr,"Reference.ts has not been loaded"),Kr}let yC=1;class R_{constructor(n){this.listenProvider_=n,this.syncPointTree_=new Re(null),this.pendingWriteTree_=XT(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ny(l,n,s,r,u){return UT(l.pendingWriteTree_,n,s,r,u),u?ga(l,new Yi(qp(),n,s)):[]}function Bi(l,n,s=!1){const r=kT(l.pendingWriteTree_,n);if(HT(l.pendingWriteTree_,n)){let f=new Re(null);return r.snap!=null?f=f.set(ge(),!0):vt(r.children,h=>{f=f.set(new Se(h),!0)}),ga(l,new Gr(r.path,f,s))}else return[]}function ma(l,n,s){return ga(l,new Yi(vf(),n,s))}function vC(l,n,s){const r=Re.fromObject(s);return ga(l,new aa(vf(),n,r))}function bC(l,n){return ga(l,new sa(vf(),n))}function SC(l,n,s){const r=Nf(l,s);if(r){const u=wf(r),f=u.path,h=u.queryId,m=ct(f,n),_=new sa(bf(h),m);return Rf(l,f,_)}else return[]}function iy(l,n,s,r,u=!1){const f=n._path,h=l.syncPointTree_.get(f);let m=[];if(h&&(n._queryIdentifier==="default"||ty(h,n))){const _=gC(h,n,s,r);dC(h)&&(l.syncPointTree_=l.syncPointTree_.remove(f));const g=_.removed;if(m=_.events,!u){const E=g.findIndex(A=>A._queryParams.loadsAllData())!==-1,b=l.syncPointTree_.findOnPath(f,(A,x)=>mi(x));if(E&&!b){const A=l.syncPointTree_.subtree(f);if(!A.isEmpty()){const x=AC(A);for(let U=0;U<x.length;++U){const F=x[U],k=F.query,re=ry(l,F);l.listenProvider_.startListening(Ps(k),ra(l,k),re.hashFn,re.onComplete)}}}!b&&g.length>0&&!r&&(E?l.listenProvider_.stopListening(Ps(n),null):g.forEach(A=>{const x=l.queryToTagMap.get(lo(A));l.listenProvider_.stopListening(Ps(A),x)}))}NC(l,g)}return m}function ly(l,n,s,r){const u=Nf(l,r);if(u!=null){const f=wf(u),h=f.path,m=f.queryId,_=ct(h,n),g=new Yi(bf(m),_,s);return Rf(l,h,g)}else return[]}function EC(l,n,s,r){const u=Nf(l,r);if(u){const f=wf(u),h=f.path,m=f.queryId,_=ct(h,n),g=Re.fromObject(s),E=new aa(bf(m),_,g);return Rf(l,h,E)}else return[]}function TC(l,n,s,r=!1){const u=n._path;let f=null,h=!1;l.syncPointTree_.foreachOnPath(u,(A,x)=>{const U=ct(A,u);f=f||ci(x,U),h=h||mi(x)});let m=l.syncPointTree_.get(u);m?(h=h||mi(m),f=f||ci(m,ge())):(m=new Wp,l.syncPointTree_=l.syncPointTree_.set(u,m));let _;f!=null?_=!0:(_=!1,f=K.EMPTY_NODE,l.syncPointTree_.subtree(u).foreachChild((x,U)=>{const F=ci(U,ge());F&&(f=f.updateImmediateChild(x,F))}));const g=ty(m,n);if(!g&&!n._queryParams.loadsAllData()){const A=lo(n);L(!l.queryToTagMap.has(A),"View does not exist, but we have a tag");const x=wC();l.queryToTagMap.set(A,x),l.tagToQueryMap.set(x,A)}const E=no(l.pendingWriteTree_,u);let b=mC(m,n,s,E,f,_);if(!g&&!h&&!r){const A=ey(m,n);b=b.concat(RC(l,n,A))}return b}function Af(l,n,s){const u=l.pendingWriteTree_,f=l.syncPointTree_.findOnPath(n,(h,m)=>{const _=ct(h,n),g=ci(m,_);if(g)return g});return Fp(u,n,f,s,!0)}function CC(l,n){const s=n._path;let r=null;l.syncPointTree_.foreachOnPath(s,(g,E)=>{const b=ct(g,s);r=r||ci(E,b)});let u=l.syncPointTree_.get(s);u?r=r||ci(u,ge()):(u=new Wp,l.syncPointTree_=l.syncPointTree_.set(s,u));const f=r!=null,h=f?new di(r,!0,!1):null,m=no(l.pendingWriteTree_,n._path),_=$p(u,n,m,f?h.getNode():K.EMPTY_NODE,f);return rC(_)}function ga(l,n){return sy(n,l.syncPointTree_,null,no(l.pendingWriteTree_,ge()))}function sy(l,n,s,r){if(se(l.path))return ay(l,n,s,r);{const u=n.get(ge());s==null&&u!=null&&(s=ci(u,ge()));let f=[];const h=ae(l.path),m=l.operationForChild(h),_=n.children.get(h);if(_&&m){const g=s?s.getImmediateChild(h):null,E=Qp(r,h);f=f.concat(sy(m,_,g,E))}return u&&(f=f.concat(Cf(u,l,r,s))),f}}function ay(l,n,s,r){const u=n.get(ge());s==null&&u!=null&&(s=ci(u,ge()));let f=[];return n.children.inorderTraversal((h,m)=>{const _=s?s.getImmediateChild(h):null,g=Qp(r,h),E=l.operationForChild(h);E&&(f=f.concat(ay(E,m,_,g)))}),u&&(f=f.concat(Cf(u,l,r,s))),f}function ry(l,n){const s=n.query,r=ra(l,s);return{hashFn:()=>(aC(n)||K.EMPTY_NODE).hash(),onComplete:u=>{if(u==="ok")return r?SC(l,s._path,r):bC(l,s._path);{const f=TE(u,s);return iy(l,s,null,f)}}}}function ra(l,n){const s=lo(n);return l.queryToTagMap.get(s)}function lo(l){return l._path.toString()+"$"+l._queryIdentifier}function Nf(l,n){return l.tagToQueryMap.get(n)}function wf(l){const n=l.indexOf("$");return L(n!==-1&&n<l.length-1,"Bad queryKey."),{queryId:l.substr(n+1),path:new Se(l.substr(0,n))}}function Rf(l,n,s){const r=l.syncPointTree_.get(n);L(r,"Missing sync point for query tag that we're tracking");const u=no(l.pendingWriteTree_,n);return Cf(r,s,u,null)}function AC(l){return l.fold((n,s,r)=>{if(s&&mi(s))return[io(s)];{let u=[];return s&&(u=Jp(s)),vt(r,(f,h)=>{u=u.concat(h)}),u}})}function Ps(l){return l._queryParams.loadsAllData()&&!l._queryParams.isDefault()?new(pC())(l._repo,l._path):l}function NC(l,n){for(let s=0;s<n.length;++s){const r=n[s];if(!r._queryParams.loadsAllData()){const u=lo(r),f=l.queryToTagMap.get(u);l.queryToTagMap.delete(u),l.tagToQueryMap.delete(f)}}}function wC(){return yC++}function RC(l,n,s){const r=n._path,u=ra(l,n),f=ry(l,s),h=l.listenProvider_.startListening(Ps(n),u,f.hashFn,f.onComplete),m=l.syncPointTree_.subtree(r);if(u)L(!mi(m.value),"If we're adding a query, it shouldn't be shadowed");else{const _=m.fold((g,E,b)=>{if(!se(g)&&E&&mi(E))return[io(E).query];{let A=[];return E&&(A=A.concat(Jp(E).map(x=>x.query))),vt(b,(x,U)=>{A=A.concat(U)}),A}});for(let g=0;g<_.length;++g){const E=_[g];l.listenProvider_.stopListening(Ps(E),ra(l,E))}}return h}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Df{constructor(n){this.node_=n}getImmediateChild(n){const s=this.node_.getImmediateChild(n);return new Df(s)}node(){return this.node_}}class Of{constructor(n,s){this.syncTree_=n,this.path_=s}getImmediateChild(n){const s=Fe(this.path_,n);return new Of(this.syncTree_,s)}node(){return Af(this.syncTree_,this.path_)}}const DC=function(l){return l=l||{},l.timestamp=l.timestamp||new Date().getTime(),l},D_=function(l,n,s){if(!l||typeof l!="object")return l;if(L(".sv"in l,"Unexpected leaf node or priority contents"),typeof l[".sv"]=="string")return OC(l[".sv"],n,s);if(typeof l[".sv"]=="object")return MC(l[".sv"],n);L(!1,"Unexpected server value: "+JSON.stringify(l,null,2))},OC=function(l,n,s){switch(l){case"timestamp":return s.timestamp;default:L(!1,"Unexpected server value: "+l)}},MC=function(l,n,s){l.hasOwnProperty("increment")||L(!1,"Unexpected server value: "+JSON.stringify(l,null,2));const r=l.increment;typeof r!="number"&&L(!1,"Unexpected increment value: "+r);const u=n.node();if(L(u!==null&&typeof u<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!u.isLeafNode())return r;const h=u.getValue();return typeof h!="number"?r:h+r},xC=function(l,n,s,r){return Mf(n,new Of(s,l),r)},oy=function(l,n,s){return Mf(l,new Df(n),s)};function Mf(l,n,s){const r=l.getPriority().val(),u=D_(r,n.getImmediateChild(".priority"),s);let f;if(l.isLeafNode()){const h=l,m=D_(h.getValue(),n,s);return m!==h.getValue()||u!==h.getPriority().val()?new Pe(m,$e(u)):l}else{const h=l;return f=h,u!==h.getPriority().val()&&(f=f.updatePriority(new Pe(u))),h.forEachChild(Le,(m,_)=>{const g=Mf(_,n.getImmediateChild(m),s);g!==_&&(f=f.updateImmediateChild(m,g))}),f}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(n="",s=null,r={children:{},childCount:0}){this.name=n,this.parent=s,this.node=r}}function If(l,n){let s=n instanceof Se?n:new Se(n),r=l,u=ae(s);for(;u!==null;){const f=Ll(r.node.children,u)||{children:{},childCount:0};r=new xf(u,r,f),s=Ne(s),u=ae(s)}return r}function Gl(l){return l.node.value}function uy(l,n){l.node.value=n,nf(l)}function cy(l){return l.node.childCount>0}function IC(l){return Gl(l)===void 0&&!cy(l)}function so(l,n){vt(l.node.children,(s,r)=>{n(new xf(s,l,r))})}function fy(l,n,s,r){s&&n(l),so(l,u=>{fy(u,n,!0)})}function zC(l,n,s){let r=l.parent;for(;r!==null;){if(n(r))return!0;r=r.parent}return!1}function _a(l){return new Se(l.parent===null?l.name:_a(l.parent)+"/"+l.name)}function nf(l){l.parent!==null&&LC(l.parent,l.name,l)}function LC(l,n,s){const r=IC(s),u=xn(l.node.children,n);r&&u?(delete l.node.children[n],l.node.childCount--,nf(l)):!r&&!u&&(l.node.children[n]=s.node,l.node.childCount++,nf(l))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=/[\[\].#$\/\u0000-\u001F\u007F]/,kC=/[\[\].#$\u0000-\u001F\u007F]/,kc=10*1024*1024,hy=function(l){return typeof l=="string"&&l.length!==0&&!UC.test(l)},dy=function(l){return typeof l=="string"&&l.length!==0&&!kC.test(l)},HC=function(l){return l&&(l=l.replace(/^\/*\.info(\/|$)/,"/")),dy(l)},my=function(l,n,s,r){r&&n===void 0||zf(of(l,"value"),n,s)},zf=function(l,n,s){const r=s instanceof Se?new nT(s,l):s;if(n===void 0)throw new Error(l+"contains undefined "+Hi(r));if(typeof n=="function")throw new Error(l+"contains a function "+Hi(r)+" with contents = "+n.toString());if(op(n))throw new Error(l+"contains "+n.toString()+" "+Hi(r));if(typeof n=="string"&&n.length>kc/3&&Jr(n)>kc)throw new Error(l+"contains a string greater than "+kc+" utf8 bytes "+Hi(r)+" ('"+n.substring(0,50)+"...')");if(n&&typeof n=="object"){let u=!1,f=!1;if(vt(n,(h,m)=>{if(h===".value")u=!0;else if(h!==".priority"&&h!==".sv"&&(f=!0,!hy(h)))throw new Error(l+" contains an invalid key ("+h+") "+Hi(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iT(r,h),zf(l,m,r),lT(r)}),u&&f)throw new Error(l+' contains ".value" child '+Hi(r)+" in addition to actual children.")}},gy=function(l,n,s,r){if(!dy(s))throw new Error(of(l,n)+'was an invalid path = "'+s+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},jC=function(l,n,s,r){s&&(s=s.replace(/^\/*\.info(\/|$)/,"/")),gy(l,n,s)},Lf=function(l,n){if(ae(n)===".info")throw new Error(l+" failed = Can't modify data under /.info/")},BC=function(l,n){const s=n.path.toString();if(typeof n.repoInfo.host!="string"||n.repoInfo.host.length===0||!hy(n.repoInfo.namespace)&&n.repoInfo.host.split(":")[0]!=="localhost"||s.length!==0&&!HC(s))throw new Error(of(l,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function _y(l,n){let s=null;for(let r=0;r<n.length;r++){const u=n[r],f=u.getPath();s!==null&&!xp(f,s.path)&&(l.eventLists_.push(s),s=null),s===null&&(s={events:[],path:f}),s.events.push(u)}s&&l.eventLists_.push(s)}function an(l,n,s){_y(l,s),GC(l,r=>Xt(r,n)||Xt(n,r))}function GC(l,n){l.recursionDepth_++;let s=!0;for(let r=0;r<l.eventLists_.length;r++){const u=l.eventLists_[r];if(u){const f=u.path;n(f)?(YC(l.eventLists_[r]),l.eventLists_[r]=null):s=!1}}s&&(l.eventLists_=[]),l.recursionDepth_--}function YC(l){for(let n=0;n<l.events.length;n++){const s=l.events[n];if(s!==null){l.events[n]=null;const r=s.getEventRunner();Qs&&at("event: "+s.toString()),ql(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VC="repo_interrupt",FC=25;class QC{constructor(n,s,r,u){this.repoInfo_=n,this.forceRestClient_=s,this.authTokenProvider_=r,this.appCheckProvider_=u,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new qC,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=qr(),this.transactionQueueTree_=new xf,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function XC(l,n,s){if(l.stats_=df(l.repoInfo_),l.forceRestClient_||wE())l.server_=new Br(l.repoInfo_,(r,u,f,h)=>{O_(l,r,u,f,h)},l.authTokenProvider_,l.appCheckProvider_),setTimeout(()=>M_(l,!0),0);else{if(typeof s<"u"&&s!==null){if(typeof s!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ve(s)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}l.persistentConnection_=new Rn(l.repoInfo_,n,(r,u,f,h)=>{O_(l,r,u,f,h)},r=>{M_(l,r)},r=>{KC(l,r)},l.authTokenProvider_,l.appCheckProvider_,s),l.server_=l.persistentConnection_}l.authTokenProvider_.addTokenChangeListener(r=>{l.server_.refreshAuthToken(r)}),l.appCheckProvider_.addTokenChangeListener(r=>{l.server_.refreshAppCheckToken(r.token)}),l.statsReporter_=xE(l.repoInfo_,()=>new OT(l.stats_,l.server_)),l.infoData_=new AT,l.infoSyncTree_=new R_({startListening:(r,u,f,h)=>{let m=[];const _=l.infoData_.getNode(r._path);return _.isEmpty()||(m=ma(l.infoSyncTree_,r._path,_),setTimeout(()=>{h("ok")},0)),m},stopListening:()=>{}}),kf(l,"connected",!1),l.serverSyncTree_=new R_({startListening:(r,u,f,h)=>(l.server_.listen(r,f,u,(m,_)=>{const g=h(m,_);an(l.eventQueue_,r._path,g)}),[]),stopListening:(r,u)=>{l.server_.unlisten(r,u)}})}function py(l){const s=l.infoData_.getNode(new Se(".info/serverTimeOffset")).val()||0;return new Date().getTime()+s}function Uf(l){return DC({timestamp:py(l)})}function O_(l,n,s,r,u){l.dataUpdateCount++;const f=new Se(n);s=l.interceptServerDataCallback_?l.interceptServerDataCallback_(n,s):s;let h=[];if(u)if(r){const _=Lr(s,g=>$e(g));h=EC(l.serverSyncTree_,f,_,u)}else{const _=$e(s);h=ly(l.serverSyncTree_,f,_,u)}else if(r){const _=Lr(s,g=>$e(g));h=vC(l.serverSyncTree_,f,_)}else{const _=$e(s);h=ma(l.serverSyncTree_,f,_)}let m=f;h.length>0&&(m=ro(l,f)),an(l.eventQueue_,m,h)}function M_(l,n){kf(l,"connected",n),n===!1&&WC(l)}function KC(l,n){vt(n,(s,r)=>{kf(l,s,r)})}function kf(l,n,s){const r=new Se("/.info/"+n),u=$e(s);l.infoData_.updateSnapshot(r,u);const f=ma(l.infoSyncTree_,r,u);an(l.eventQueue_,r,f)}function yy(l){return l.nextWriteId_++}function ZC(l,n,s){const r=CC(l.serverSyncTree_,n);return r!=null?Promise.resolve(r):l.server_.get(n).then(u=>{const f=$e(u).withIndex(n._queryParams.getIndex());TC(l.serverSyncTree_,n,s,!0);let h;if(n._queryParams.loadsAllData())h=ma(l.serverSyncTree_,n._path,f);else{const m=ra(l.serverSyncTree_,n);h=ly(l.serverSyncTree_,n._path,f,m)}return an(l.eventQueue_,n._path,h),iy(l.serverSyncTree_,n,s,null,!0),f},u=>(ao(l,"get for query "+Ve(n)+" failed: "+u),Promise.reject(new Error(u))))}function PC(l,n,s,r,u){ao(l,"set",{path:n.toString(),value:s,priority:r});const f=Uf(l),h=$e(s,r),m=Af(l.serverSyncTree_,n),_=oy(h,m,f),g=yy(l),E=ny(l.serverSyncTree_,n,_,g,!0);_y(l.eventQueue_,E),l.server_.put(n.toString(),h.val(!0),(A,x)=>{const U=A==="ok";U||pt("set at "+n+" failed: "+A);const F=Bi(l.serverSyncTree_,g,!U);an(l.eventQueue_,n,F),JC(l,u,A,x)});const b=Ty(l,n);ro(l,b),an(l.eventQueue_,b,[])}function WC(l){ao(l,"onDisconnectEvents");const n=Uf(l),s=qr();Wc(l.onDisconnect_,ge(),(u,f)=>{const h=xC(u,f,l.serverSyncTree_,n);Bp(s,u,h)});let r=[];Wc(s,ge(),(u,f)=>{r=r.concat(ma(l.serverSyncTree_,u,f));const h=Ty(l,u);ro(l,h)}),l.onDisconnect_=qr(),an(l.eventQueue_,ge(),r)}function $C(l){l.persistentConnection_&&l.persistentConnection_.interrupt(VC)}function ao(l,...n){let s="";l.persistentConnection_&&(s=l.persistentConnection_.id+":"),at(s,...n)}function JC(l,n,s,r){n&&ql(()=>{if(s==="ok")n(null);else{const u=(s||"error").toUpperCase();let f=u;r&&(f+=": "+r);const h=new Error(f);h.code=u,n(h)}})}function vy(l,n,s){return Af(l.serverSyncTree_,n,s)||K.EMPTY_NODE}function Hf(l,n=l.transactionQueueTree_){if(n||oo(l,n),Gl(n)){const s=Sy(l,n);L(s.length>0,"Sending zero length transaction queue"),s.every(u=>u.status===0)&&e1(l,_a(n),s)}else cy(n)&&so(n,s=>{Hf(l,s)})}function e1(l,n,s){const r=s.map(g=>g.currentWriteId),u=vy(l,n,r);let f=u;const h=u.hash();for(let g=0;g<s.length;g++){const E=s[g];L(E.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),E.status=1,E.retryCount++;const b=ct(n,E.path);f=f.updateChild(b,E.currentOutputSnapshotRaw)}const m=f.val(!0),_=n;l.server_.put(_.toString(),m,g=>{ao(l,"transaction put response",{path:_.toString(),status:g});let E=[];if(g==="ok"){const b=[];for(let A=0;A<s.length;A++)s[A].status=2,E=E.concat(Bi(l.serverSyncTree_,s[A].currentWriteId)),s[A].onComplete&&b.push(()=>s[A].onComplete(null,!0,s[A].currentOutputSnapshotResolved)),s[A].unwatcher();oo(l,If(l.transactionQueueTree_,n)),Hf(l,l.transactionQueueTree_),an(l.eventQueue_,n,E);for(let A=0;A<b.length;A++)ql(b[A])}else{if(g==="datastale")for(let b=0;b<s.length;b++)s[b].status===3?s[b].status=4:s[b].status=0;else{pt("transaction at "+_.toString()+" failed: "+g);for(let b=0;b<s.length;b++)s[b].status=4,s[b].abortReason=g}ro(l,n)}},h)}function ro(l,n){const s=by(l,n),r=_a(s),u=Sy(l,s);return t1(l,u,r),r}function t1(l,n,s){if(n.length===0)return;const r=[];let u=[];const h=n.filter(m=>m.status===0).map(m=>m.currentWriteId);for(let m=0;m<n.length;m++){const _=n[m],g=ct(s,_.path);let E=!1,b;if(L(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),_.status===4)E=!0,b=_.abortReason,u=u.concat(Bi(l.serverSyncTree_,_.currentWriteId,!0));else if(_.status===0)if(_.retryCount>=FC)E=!0,b="maxretry",u=u.concat(Bi(l.serverSyncTree_,_.currentWriteId,!0));else{const A=vy(l,_.path,h);_.currentInputSnapshot=A;const x=n[m].update(A.val());if(x!==void 0){zf("transaction failed: Data returned ",x,_.path);let U=$e(x);typeof x=="object"&&x!=null&&xn(x,".priority")||(U=U.updatePriority(A.getPriority()));const k=_.currentWriteId,re=Uf(l),we=oy(U,A,re);_.currentOutputSnapshotRaw=U,_.currentOutputSnapshotResolved=we,_.currentWriteId=yy(l),h.splice(h.indexOf(k),1),u=u.concat(ny(l.serverSyncTree_,_.path,we,_.currentWriteId,_.applyLocally)),u=u.concat(Bi(l.serverSyncTree_,k,!0))}else E=!0,b="nodata",u=u.concat(Bi(l.serverSyncTree_,_.currentWriteId,!0))}an(l.eventQueue_,s,u),u=[],E&&(n[m].status=2,function(A){setTimeout(A,Math.floor(0))}(n[m].unwatcher),n[m].onComplete&&(b==="nodata"?r.push(()=>n[m].onComplete(null,!1,n[m].currentInputSnapshot)):r.push(()=>n[m].onComplete(new Error(b),!1,null))))}oo(l,l.transactionQueueTree_);for(let m=0;m<r.length;m++)ql(r[m]);Hf(l,l.transactionQueueTree_)}function by(l,n){let s,r=l.transactionQueueTree_;for(s=ae(n);s!==null&&Gl(r)===void 0;)r=If(r,s),n=Ne(n),s=ae(n);return r}function Sy(l,n){const s=[];return Ey(l,n,s),s.sort((r,u)=>r.order-u.order),s}function Ey(l,n,s){const r=Gl(n);if(r)for(let u=0;u<r.length;u++)s.push(r[u]);so(n,u=>{Ey(l,u,s)})}function oo(l,n){const s=Gl(n);if(s){let r=0;for(let u=0;u<s.length;u++)s[u].status!==2&&(s[r]=s[u],r++);s.length=r,uy(n,s.length>0?s:void 0)}so(n,r=>{oo(l,r)})}function Ty(l,n){const s=_a(by(l,n)),r=If(l.transactionQueueTree_,n);return zC(r,u=>{Hc(l,u)}),Hc(l,r),fy(r,u=>{Hc(l,u)}),s}function Hc(l,n){const s=Gl(n);if(s){const r=[];let u=[],f=-1;for(let h=0;h<s.length;h++)s[h].status===3||(s[h].status===1?(L(f===h-1,"All SENT items should be at beginning of queue."),f=h,s[h].status=3,s[h].abortReason="set"):(L(s[h].status===0,"Unexpected transaction status in abort"),s[h].unwatcher(),u=u.concat(Bi(l.serverSyncTree_,s[h].currentWriteId,!0)),s[h].onComplete&&r.push(s[h].onComplete.bind(null,new Error("set"),!1,null))));f===-1?uy(n,void 0):s.length=f+1,an(l.eventQueue_,_a(n),u);for(let h=0;h<r.length;h++)ql(r[h])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n1(l){let n="";const s=l.split("/");for(let r=0;r<s.length;r++)if(s[r].length>0){let u=s[r];try{u=decodeURIComponent(u.replace(/\+/g," "))}catch{}n+="/"+u}return n}function i1(l){const n={};l.charAt(0)==="?"&&(l=l.substring(1));for(const s of l.split("&")){if(s.length===0)continue;const r=s.split("=");r.length===2?n[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):pt(`Invalid query segment '${s}' in query '${l}'`)}return n}const x_=function(l,n){const s=l1(l),r=s.namespace;s.domain==="firebase.com"&&Mn(s.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&s.domain!=="localhost"&&Mn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),s.secure||yE();const u=s.scheme==="ws"||s.scheme==="wss";return{repoInfo:new bp(s.host,s.secure,r,u,n,"",r!==s.subdomain),path:new Se(s.pathString)}},l1=function(l){let n="",s="",r="",u="",f="",h=!0,m="https",_=443;if(typeof l=="string"){let g=l.indexOf("//");g>=0&&(m=l.substring(0,g-1),l=l.substring(g+2));let E=l.indexOf("/");E===-1&&(E=l.length);let b=l.indexOf("?");b===-1&&(b=l.length),n=l.substring(0,Math.min(E,b)),E<b&&(u=n1(l.substring(E,b)));const A=i1(l.substring(Math.min(l.length,b)));g=n.indexOf(":"),g>=0?(h=m==="https"||m==="wss",_=parseInt(n.substring(g+1),10)):g=n.length;const x=n.slice(0,g);if(x.toLowerCase()==="localhost")s="localhost";else if(x.split(".").length<=2)s=x;else{const U=n.indexOf(".");r=n.substring(0,U).toLowerCase(),s=n.substring(U+1),f=r}"ns"in A&&(f=A.ns)}return{host:n,port:_,domain:s,subdomain:r,secure:h,scheme:m,pathString:u,namespace:f}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I_="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",s1=function(){let l=0;const n=[];return function(s){const r=s===l;l=s;let u;const f=new Array(8);for(u=7;u>=0;u--)f[u]=I_.charAt(s%64),s=Math.floor(s/64);L(s===0,"Cannot push at time == 0");let h=f.join("");if(r){for(u=11;u>=0&&n[u]===63;u--)n[u]=0;n[u]++}else for(u=0;u<12;u++)n[u]=Math.floor(Math.random()*64);for(u=0;u<12;u++)h+=I_.charAt(n[u]);return L(h.length===20,"nextPushId: Length should be 20."),h}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a1{constructor(n,s,r,u){this.eventType=n,this.eventRegistration=s,this.snapshot=r,this.prevName=u}getPath(){const n=this.snapshot.ref;return this.eventType==="value"?n._path:n.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ve(this.snapshot.exportVal())}}class r1{constructor(n,s,r){this.eventRegistration=n,this.error=s,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1{constructor(n,s){this.snapshotCallback=n,this.cancelCallback=s}onValue(n,s){this.snapshotCallback.call(null,n,s)}onCancel(n){return L(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,n)}get hasCancelCallback(){return!!this.cancelCallback}matches(n){return this.snapshotCallback===n.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===n.snapshotCallback.userCallback&&this.snapshotCallback.context===n.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jf{constructor(n,s,r,u){this._repo=n,this._path=s,this._queryParams=r,this._orderByCalled=u}get key(){return se(this._path)?null:Dp(this._path)}get ref(){return new zn(this._repo,this._path)}get _queryIdentifier(){const n=p_(this._queryParams),s=ff(n);return s==="{}"?"default":s}get _queryObject(){return p_(this._queryParams)}isEqual(n){if(n=In(n),!(n instanceof jf))return!1;const s=this._repo===n._repo,r=xp(this._path,n._path),u=this._queryIdentifier===n._queryIdentifier;return s&&r&&u}toJSON(){return this.toString()}toString(){return this._repo.toString()+tT(this._path)}}class zn extends jf{constructor(n,s){super(n,s,new yf,!1)}get parent(){const n=Mp(this._path);return n===null?null:new zn(this._repo,n)}get root(){let n=this;for(;n.parent!==null;)n=n.parent;return n}}class oa{constructor(n,s,r){this._node=n,this.ref=s,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(n){const s=new Se(n),r=ua(this.ref,n);return new oa(this._node.getChild(s),r,Le)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(n){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,u)=>n(new oa(u,ua(this.ref,r),Le)))}hasChild(n){const s=new Se(n);return!this._node.getChild(s).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Ln(l,n){return l=In(l),l._checkNotDeleted("ref"),n!==void 0?ua(l._root,n):l._root}function ua(l,n){return l=In(l),ae(l._path)===null?jC("child","path",n):gy("child","path",n),new zn(l._repo,Fe(l._path,n))}function Bf(l,n){l=In(l),Lf("push",l._path),my("push",n,l._path,!0);const s=py(l._repo),r=s1(s),u=ua(l,r),f=ua(l,r);let h;return h=Promise.resolve(f),u.then=h.then.bind(h),u.catch=h.then.bind(h,void 0),u}function qf(l){return Lf("remove",l._path),uo(l,null)}function uo(l,n){l=In(l),Lf("set",l._path),my("set",n,l._path,!1);const s=new Wr;return PC(l._repo,l._path,n,null,s.wrapCallback(()=>{})),s.promise}function Gf(l){l=In(l);const n=new o1(()=>{}),s=new Yf(n);return ZC(l._repo,l,s).then(r=>new oa(r,new zn(l._repo,l._path),l._queryParams.getIndex()))}class Yf{constructor(n){this.callbackContext=n}respondsTo(n){return n==="value"}createEvent(n,s){const r=s._queryParams.getIndex();return new a1("value",this,new oa(n.snapshotNode,new zn(s._repo,s._path),r))}getEventRunner(n){return n.getEventType()==="cancel"?()=>this.callbackContext.onCancel(n.error):()=>this.callbackContext.onValue(n.snapshot,null)}createCancelEvent(n,s){return this.callbackContext.hasCancelCallback?new r1(this,n,s):null}matches(n){return n instanceof Yf?!n.callbackContext||!this.callbackContext?!0:n.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}fC(zn);_C(zn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u1="FIREBASE_DATABASE_EMULATOR_HOST",lf={};let c1=!1;function f1(l,n,s,r){l.repoInfo_=new bp(n,!1,l.repoInfo_.namespace,l.repoInfo_.webSocketOnly,l.repoInfo_.nodeAdmin,l.repoInfo_.persistenceKey,l.repoInfo_.includeNamespaceInQueryParams,!0,s),r&&(l.authTokenProvider_=r)}function h1(l,n,s,r,u){let f=r||l.options.databaseURL;f===void 0&&(l.options.projectId||Mn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),at("Using default host for project ",l.options.projectId),f=`${l.options.projectId}-default-rtdb.firebaseio.com`);let h=x_(f,u),m=h.repoInfo,_;typeof process<"u"&&Jg&&(_=Jg[u1]),_?(f=`http://${_}?ns=${m.namespace}`,h=x_(f,u),m=h.repoInfo):h.repoInfo.secure;const g=new DE(l.name,l.options,n);BC("Invalid Firebase Database URL",h),se(h.path)||Mn("Database URL must point to the root of a Firebase Database (not including a child path).");const E=m1(m,l,g,new RE(l,s));return new g1(E,l)}function d1(l,n){const s=lf[n];(!s||s[l.key]!==l)&&Mn(`Database ${n}(${l.repoInfo_}) has already been deleted.`),$C(l),delete s[l.key]}function m1(l,n,s,r){let u=lf[n.name];u||(u={},lf[n.name]=u);let f=u[l.toURLString()];return f&&Mn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),f=new QC(l,c1,s,r),u[l.toURLString()]=f,f}class g1{constructor(n,s){this._repoInternal=n,this.app=s,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(XC(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zn(this._repo,ge())),this._rootInternal}_delete(){return this._rootInternal!==null&&(d1(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(n){this._rootInternal===null&&Mn("Cannot call "+n+" on a deleted database.")}}function _1(l=np(),n){const s=ca(l,"database").getImmediate({identifier:n});if(!s._instanceStarted){const r=Hb("database");r&&p1(s,...r)}return s}function p1(l,n,s,r={}){l=In(l),l._checkNotDeleted("useEmulator");const u=`${n}:${s}`,f=l._repoInternal;if(l._instanceStarted){if(u===l._repoInternal.repoInfo_.host&&Js(r,f.repoInfo_.emulatorOptions))return;Mn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let h;if(f.repoInfo_.nodeAdmin)r.mockUserToken&&Mn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),h=new Ir(Ir.OWNER);else if(r.mockUserToken){const m=typeof r.mockUserToken=="string"?r.mockUserToken:jb(r.mockUserToken,l.app.options.projectId);h=new Ir(m)}f1(f,u,r,h)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(l){hE(tE),fi(new Dn("database",(n,{instanceIdentifier:s})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("auth-internal"),f=n.getProvider("app-check-internal");return h1(r,u,f,s)},"PUBLIC").setMultipleInstances(!0)),sn(e_,t_,l),sn(e_,t_,"esm2017")}Rn.prototype.simpleListen=function(l,n){this.sendRequest("q",{p:l},n)};Rn.prototype.echo=function(l,n){this.sendRequest("echo",{d:l},n)};y1();var v1="firebase",b1="11.5.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sn(v1,b1,"app");const Cy="@firebase/installations",Vf="0.6.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ay=1e4,Ny=`w:${Vf}`,wy="FIS_v2",S1="https://firebaseinstallations.googleapis.com/v1",E1=60*60*1e3,T1="installations",C1="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A1={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Fi=new $r(T1,C1,A1);function Ry(l){return l instanceof Xi&&l.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy({projectId:l}){return`${S1}/projects/${l}/installations`}function Oy(l){return{token:l.token,requestStatus:2,expiresIn:w1(l.expiresIn),creationTime:Date.now()}}async function My(l,n){const r=(await n.json()).error;return Fi.create("request-failed",{requestName:l,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function xy({apiKey:l}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":l})}function N1(l,{refreshToken:n}){const s=xy(l);return s.append("Authorization",R1(n)),s}async function Iy(l){const n=await l();return n.status>=500&&n.status<600?l():n}function w1(l){return Number(l.replace("s","000"))}function R1(l){return`${wy} ${l}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D1({appConfig:l,heartbeatServiceProvider:n},{fid:s}){const r=Dy(l),u=xy(l),f=n.getImmediate({optional:!0});if(f){const g=await f.getHeartbeatsHeader();g&&u.append("x-firebase-client",g)}const h={fid:s,authVersion:wy,appId:l.appId,sdkVersion:Ny},m={method:"POST",headers:u,body:JSON.stringify(h)},_=await Iy(()=>fetch(r,m));if(_.ok){const g=await _.json();return{fid:g.fid||s,registrationStatus:2,refreshToken:g.refreshToken,authToken:Oy(g.authToken)}}else throw await My("Create Installation",_)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(l){return new Promise(n=>{setTimeout(n,l)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O1(l){return btoa(String.fromCharCode(...l)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M1=/^[cdef][\w-]{21}$/,sf="";function x1(){try{const l=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(l),l[0]=112+l[0]%16;const s=I1(l);return M1.test(s)?s:sf}catch{return sf}}function I1(l){return O1(l).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(l){return`${l.appName}!${l.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=new Map;function Uy(l,n){const s=co(l);ky(s,n),z1(s,n)}function ky(l,n){const s=Ly.get(l);if(s)for(const r of s)r(n)}function z1(l,n){const s=L1();s&&s.postMessage({key:l,fid:n}),U1()}let qi=null;function L1(){return!qi&&"BroadcastChannel"in self&&(qi=new BroadcastChannel("[Firebase] FID Change"),qi.onmessage=l=>{ky(l.data.key,l.data.fid)}),qi}function U1(){Ly.size===0&&qi&&(qi.close(),qi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k1="firebase-installations-database",H1=1,Qi="firebase-installations-store";let jc=null;function Ff(){return jc||(jc=ep(k1,H1,{upgrade:(l,n)=>{switch(n){case 0:l.createObjectStore(Qi)}}})),jc}async function Zr(l,n){const s=co(l),u=(await Ff()).transaction(Qi,"readwrite"),f=u.objectStore(Qi),h=await f.get(s);return await f.put(n,s),await u.done,(!h||h.fid!==n.fid)&&Uy(l,n.fid),n}async function Hy(l){const n=co(l),r=(await Ff()).transaction(Qi,"readwrite");await r.objectStore(Qi).delete(n),await r.done}async function fo(l,n){const s=co(l),u=(await Ff()).transaction(Qi,"readwrite"),f=u.objectStore(Qi),h=await f.get(s),m=n(h);return m===void 0?await f.delete(s):await f.put(m,s),await u.done,m&&(!h||h.fid!==m.fid)&&Uy(l,m.fid),m}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qf(l){let n;const s=await fo(l.appConfig,r=>{const u=j1(r),f=B1(l,u);return n=f.registrationPromise,f.installationEntry});return s.fid===sf?{installationEntry:await n}:{installationEntry:s,registrationPromise:n}}function j1(l){const n=l||{fid:x1(),registrationStatus:0};return jy(n)}function B1(l,n){if(n.registrationStatus===0){if(!navigator.onLine){const u=Promise.reject(Fi.create("app-offline"));return{installationEntry:n,registrationPromise:u}}const s={fid:n.fid,registrationStatus:1,registrationTime:Date.now()},r=q1(l,s);return{installationEntry:s,registrationPromise:r}}else return n.registrationStatus===1?{installationEntry:n,registrationPromise:G1(l)}:{installationEntry:n}}async function q1(l,n){try{const s=await D1(l,n);return Zr(l.appConfig,s)}catch(s){throw Ry(s)&&s.customData.serverCode===409?await Hy(l.appConfig):await Zr(l.appConfig,{fid:n.fid,registrationStatus:0}),s}}async function G1(l){let n=await z_(l.appConfig);for(;n.registrationStatus===1;)await zy(100),n=await z_(l.appConfig);if(n.registrationStatus===0){const{installationEntry:s,registrationPromise:r}=await Qf(l);return r||s}return n}function z_(l){return fo(l,n=>{if(!n)throw Fi.create("installation-not-found");return jy(n)})}function jy(l){return Y1(l)?{fid:l.fid,registrationStatus:0}:l}function Y1(l){return l.registrationStatus===1&&l.registrationTime+Ay<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V1({appConfig:l,heartbeatServiceProvider:n},s){const r=F1(l,s),u=N1(l,s),f=n.getImmediate({optional:!0});if(f){const g=await f.getHeartbeatsHeader();g&&u.append("x-firebase-client",g)}const h={installation:{sdkVersion:Ny,appId:l.appId}},m={method:"POST",headers:u,body:JSON.stringify(h)},_=await Iy(()=>fetch(r,m));if(_.ok){const g=await _.json();return Oy(g)}else throw await My("Generate Auth Token",_)}function F1(l,{fid:n}){return`${Dy(l)}/${n}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xf(l,n=!1){let s;const r=await fo(l.appConfig,f=>{if(!By(f))throw Fi.create("not-registered");const h=f.authToken;if(!n&&K1(h))return f;if(h.requestStatus===1)return s=Q1(l,n),f;{if(!navigator.onLine)throw Fi.create("app-offline");const m=P1(f);return s=X1(l,m),m}});return s?await s:r.authToken}async function Q1(l,n){let s=await L_(l.appConfig);for(;s.authToken.requestStatus===1;)await zy(100),s=await L_(l.appConfig);const r=s.authToken;return r.requestStatus===0?Xf(l,n):r}function L_(l){return fo(l,n=>{if(!By(n))throw Fi.create("not-registered");const s=n.authToken;return W1(s)?Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}):n})}async function X1(l,n){try{const s=await V1(l,n),r=Object.assign(Object.assign({},n),{authToken:s});return await Zr(l.appConfig,r),s}catch(s){if(Ry(s)&&(s.customData.serverCode===401||s.customData.serverCode===404))await Hy(l.appConfig);else{const r=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}});await Zr(l.appConfig,r)}throw s}}function By(l){return l!==void 0&&l.registrationStatus===2}function K1(l){return l.requestStatus===2&&!Z1(l)}function Z1(l){const n=Date.now();return n<l.creationTime||l.creationTime+l.expiresIn<n+E1}function P1(l){const n={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},l),{authToken:n})}function W1(l){return l.requestStatus===1&&l.requestTime+Ay<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $1(l){const n=l,{installationEntry:s,registrationPromise:r}=await Qf(n);return r?r.catch(console.error):Xf(n).catch(console.error),s.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J1(l,n=!1){const s=l;return await eA(s),(await Xf(s,n)).token}async function eA(l){const{registrationPromise:n}=await Qf(l);n&&await n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(l){if(!l||!l.options)throw Bc("App Configuration");if(!l.name)throw Bc("App Name");const n=["projectId","apiKey","appId"];for(const s of n)if(!l.options[s])throw Bc(s);return{appName:l.name,projectId:l.options.projectId,apiKey:l.options.apiKey,appId:l.options.appId}}function Bc(l){return Fi.create("missing-app-config-values",{valueName:l})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qy="installations",nA="installations-internal",iA=l=>{const n=l.getProvider("app").getImmediate(),s=tA(n),r=ca(n,"heartbeat");return{app:n,appConfig:s,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},lA=l=>{const n=l.getProvider("app").getImmediate(),s=ca(n,qy).getImmediate();return{getId:()=>$1(s),getToken:u=>J1(s,u)}};function sA(){fi(new Dn(qy,iA,"PUBLIC")),fi(new Dn(nA,lA,"PRIVATE"))}sA();sn(Cy,Vf);sn(Cy,Vf,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr="analytics",aA="firebase_id",rA="origin",oA=60*1e3,uA="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Kf="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yt=new uf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},wt=new $r("analytics","Analytics",cA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fA(l){if(!l.startsWith(Kf)){const n=wt.create("invalid-gtag-resource",{gtagURL:l});return yt.warn(n.message),""}return l}function Gy(l){return Promise.all(l.map(n=>n.catch(s=>s)))}function hA(l,n){let s;return window.trustedTypes&&(s=window.trustedTypes.createPolicy(l,n)),s}function dA(l,n){const s=hA("firebase-js-sdk-policy",{createScriptURL:fA}),r=document.createElement("script"),u=`${Kf}?l=${l}&id=${n}`;r.src=s?s==null?void 0:s.createScriptURL(u):u,r.async=!0,document.head.appendChild(r)}function mA(l){let n=[];return Array.isArray(window[l])?n=window[l]:window[l]=n,n}async function gA(l,n,s,r,u,f){const h=r[u];try{if(h)await n[h];else{const _=(await Gy(s)).find(g=>g.measurementId===u);_&&await n[_.appId]}}catch(m){yt.error(m)}l("config",u,f)}async function _A(l,n,s,r,u){try{let f=[];if(u&&u.send_to){let h=u.send_to;Array.isArray(h)||(h=[h]);const m=await Gy(s);for(const _ of h){const g=m.find(b=>b.measurementId===_),E=g&&n[g.appId];if(E)f.push(E);else{f=[];break}}}f.length===0&&(f=Object.values(n)),await Promise.all(f),l("event",r,u||{})}catch(f){yt.error(f)}}function pA(l,n,s,r){async function u(f,...h){try{if(f==="event"){const[m,_]=h;await _A(l,n,s,m,_)}else if(f==="config"){const[m,_]=h;await gA(l,n,s,r,m,_)}else if(f==="consent"){const[m,_]=h;l("consent",m,_)}else if(f==="get"){const[m,_,g]=h;l("get",m,_,g)}else if(f==="set"){const[m]=h;l("set",m)}else l(f,...h)}catch(m){yt.error(m)}}return u}function yA(l,n,s,r,u){let f=function(...h){window[r].push(arguments)};return window[u]&&typeof window[u]=="function"&&(f=window[u]),window[u]=pA(f,l,n,s),{gtagCore:f,wrappedGtag:window[u]}}function vA(l){const n=window.document.getElementsByTagName("script");for(const s of Object.values(n))if(s.src&&s.src.includes(Kf)&&s.src.includes(l))return s;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bA=30,SA=1e3;class EA{constructor(n={},s=SA){this.throttleMetadata=n,this.intervalMillis=s}getThrottleMetadata(n){return this.throttleMetadata[n]}setThrottleMetadata(n,s){this.throttleMetadata[n]=s}deleteThrottleMetadata(n){delete this.throttleMetadata[n]}}const Yy=new EA;function TA(l){return new Headers({Accept:"application/json","x-goog-api-key":l})}async function CA(l){var n;const{appId:s,apiKey:r}=l,u={method:"GET",headers:TA(r)},f=uA.replace("{app-id}",s),h=await fetch(f,u);if(h.status!==200&&h.status!==304){let m="";try{const _=await h.json();!((n=_.error)===null||n===void 0)&&n.message&&(m=_.error.message)}catch{}throw wt.create("config-fetch-failed",{httpStatus:h.status,responseMessage:m})}return h.json()}async function AA(l,n=Yy,s){const{appId:r,apiKey:u,measurementId:f}=l.options;if(!r)throw wt.create("no-app-id");if(!u){if(f)return{measurementId:f,appId:r};throw wt.create("no-api-key")}const h=n.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new RA;return setTimeout(async()=>{m.abort()},oA),Vy({appId:r,apiKey:u,measurementId:f},h,m,n)}async function Vy(l,{throttleEndTimeMillis:n,backoffCount:s},r,u=Yy){var f;const{appId:h,measurementId:m}=l;try{await NA(r,n)}catch(_){if(m)return yt.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${_==null?void 0:_.message}]`),{appId:h,measurementId:m};throw _}try{const _=await CA(l);return u.deleteThrottleMetadata(h),_}catch(_){const g=_;if(!wA(g)){if(u.deleteThrottleMetadata(h),m)return yt.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${m} provided in the "measurementId" field in the local Firebase config. [${g==null?void 0:g.message}]`),{appId:h,measurementId:m};throw _}const E=Number((f=g==null?void 0:g.customData)===null||f===void 0?void 0:f.httpStatus)===503?Vg(s,u.intervalMillis,bA):Vg(s,u.intervalMillis),b={throttleEndTimeMillis:Date.now()+E,backoffCount:s+1};return u.setThrottleMetadata(h,b),yt.debug(`Calling attemptFetch again in ${E} millis`),Vy(l,b,r,u)}}function NA(l,n){return new Promise((s,r)=>{const u=Math.max(n-Date.now(),0),f=setTimeout(s,u);l.addEventListener(()=>{clearTimeout(f),r(wt.create("fetch-throttle",{throttleEndTimeMillis:n}))})})}function wA(l){if(!(l instanceof Xi)||!l.customData)return!1;const n=Number(l.customData.httpStatus);return n===429||n===500||n===503||n===504}class RA{constructor(){this.listeners=[]}addEventListener(n){this.listeners.push(n)}abort(){this.listeners.forEach(n=>n())}}async function DA(l,n,s,r,u){if(u&&u.global){l("event",s,r);return}else{const f=await n,h=Object.assign(Object.assign({},r),{send_to:f});l("event",s,h)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OA(){if(Z_())try{await P_()}catch(l){return yt.warn(wt.create("indexeddb-unavailable",{errorInfo:l==null?void 0:l.toString()}).message),!1}else return yt.warn(wt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MA(l,n,s,r,u,f,h){var m;const _=AA(l);_.then(x=>{s[x.measurementId]=x.appId,l.options.measurementId&&x.measurementId!==l.options.measurementId&&yt.warn(`The measurement ID in the local Firebase config (${l.options.measurementId}) does not match the measurement ID fetched from the server (${x.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(x=>yt.error(x)),n.push(_);const g=OA().then(x=>{if(x)return r.getId()}),[E,b]=await Promise.all([_,g]);vA(f)||dA(f,E.measurementId),u("js",new Date);const A=(m=h==null?void 0:h.config)!==null&&m!==void 0?m:{};return A[rA]="firebase",A.update=!0,b!=null&&(A[aA]=b),u("config",E.measurementId,A),E.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xA{constructor(n){this.app=n}_delete(){return delete Ws[this.app.options.appId],Promise.resolve()}}let Ws={},U_=[];const k_={};let qc="dataLayer",IA="gtag",H_,Fy,j_=!1;function zA(){const l=[];if(qb()&&l.push("This is a browser extension environment."),Vb()||l.push("Cookies are not available."),l.length>0){const n=l.map((r,u)=>`(${u+1}) ${r}`).join(" "),s=wt.create("invalid-analytics-context",{errorInfo:n});yt.warn(s.message)}}function LA(l,n,s){zA();const r=l.options.appId;if(!r)throw wt.create("no-app-id");if(!l.options.apiKey)if(l.options.measurementId)yt.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${l.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw wt.create("no-api-key");if(Ws[r]!=null)throw wt.create("already-exists",{id:r});if(!j_){mA(qc);const{wrappedGtag:f,gtagCore:h}=yA(Ws,U_,k_,qc,IA);Fy=f,H_=h,j_=!0}return Ws[r]=MA(l,U_,k_,n,H_,qc,s),new xA(l)}function UA(l=np()){l=In(l);const n=ca(l,Pr);return n.isInitialized()?n.getImmediate():kA(l)}function kA(l,n={}){const s=ca(l,Pr);if(s.isInitialized()){const u=s.getImmediate();if(Js(n,s.getOptions()))return u;throw wt.create("already-initialized")}return s.initialize({options:n})}function HA(l,n,s,r){l=In(l),DA(Fy,Ws[l.app.options.appId],n,s,r).catch(u=>yt.error(u))}const B_="@firebase/analytics",q_="0.10.12";function jA(){fi(new Dn(Pr,(n,{options:s})=>{const r=n.getProvider("app").getImmediate(),u=n.getProvider("installations-internal").getImmediate();return LA(r,u,s)},"PUBLIC")),fi(new Dn("analytics-internal",l,"PRIVATE")),sn(B_,q_),sn(B_,q_,"esm2017");function l(n){try{const s=n.getProvider(Pr).getImmediate();return{logEvent:(r,u,f)=>HA(s,r,u,f)}}catch(s){throw wt.create("interop-component-reg-failed",{reason:s})}}}jA();const BA={apiKey:"AIzaSyARe1Fl2BZrZzu0CRNi6SeV_8fXqpzWDRQ",authDomain:"project-4007026369083634013.firebaseapp.com",projectId:"project-4007026369083634013",storageBucket:"project-4007026369083634013.firebasestorage.app",messagingSenderId:"448391130196",appId:"1:448391130196:web:0f5cf604e7a5d6e97b51c1",measurementId:"G-9296HEV32G"},Qy=tp(BA);UA(Qy);const Un=_1(Qy),qA=l=>new Promise((n,s)=>{const r=new FileReader;r.readAsDataURL(l),r.onload=()=>n(r.result),r.onerror=u=>s(u)}),GA=async l=>{try{const n=Bf(Ln(Un,"links"));return await uo(n,{...l,id:n.key,createdAt:new Date().toISOString()}),n.key}catch(n){throw console.error("Error saving link:",n),n}},YA=async l=>{try{const n=Bf(Ln(Un,"notes"));return await uo(n,{...l,id:n.key,createdAt:new Date().toISOString()}),n.key}catch(n){throw console.error("Error saving note:",n),n}},VA=async l=>{try{const n=await qA(l),r=`${new Date().getTime()}_${l.name}`,u=Bf(Ln(Un,"files")),f={id:u.key,name:l.name,type:l.type,size:l.size,data:n,createdAt:new Date().toISOString()};return await uo(u,f),u.key}catch(n){throw console.error("Error uploading file:",n),n}},FA=async()=>{try{const l=await Gf(Ln(Un,"links"));if(l.exists()){const n=l.val();return Object.values(n)}return[]}catch(l){throw console.error("Error fetching links:",l),l}},QA=async()=>{try{const l=await Gf(Ln(Un,"notes"));if(l.exists()){const n=l.val();return Object.values(n)}return[]}catch(l){throw console.error("Error fetching notes:",l),l}},XA=async()=>{try{const l=await Gf(Ln(Un,"files"));if(l.exists()){const n=l.val();return Object.values(n)}return[]}catch(l){throw console.error("Error fetching files:",l),l}},KA=async l=>{try{await qf(Ln(Un,`links/${l}`))}catch(n){throw console.error("Error deleting link:",n),n}},ZA=async l=>{try{await qf(Ln(Un,`notes/${l}`))}catch(n){throw console.error("Error deleting note:",n),n}},PA=async l=>{try{await qf(Ln(Un,`files/${l.id}`))}catch(n){throw console.error("Error deleting file:",n),n}};function WA(){const[l,n]=ne.useState(!1),[s,r]=ne.useState(!1),{files:u,setFiles:f,setIsLoading:h}=ne.useContext(rn),m=ne.useRef(null),[_,g]=ne.useState(0),[E,b]=ne.useState(null),A=ce=>{ce.preventDefault(),n(!0)},x=()=>{n(!1)},U=ce=>{ce.preventDefault(),n(!1),ce.dataTransfer.files&&ce.dataTransfer.files.length>0&&re(ce.dataTransfer.files[0])},F=ce=>{ce.target.files&&ce.target.files.length>0&&re(ce.target.files[0])},k=ce=>new Promise((Je,oe)=>{const Ue=new FileReader;Ue.readAsDataURL(ce),Ue.onload=()=>Je(Ue.result),Ue.onerror=ft=>oe(ft)}),re=async ce=>{try{b(null),r(!0),h(!0),g(0);const Je=setInterval(()=>{g(ft=>{const qt=ft+5;return qt>90?90:qt})},300),oe=await k(ce),Ue=await VA(ce);clearInterval(Je),g(100),setTimeout(()=>{f(ft=>[...ft,{id:Ue,name:ce.name,type:ce.type,size:ce.size,data:oe,createdAt:new Date().toISOString()}]),m.current&&(m.current.value=""),r(!1),h(!1),g(0)},500)}catch(Je){console.error("Error uploading file:",Je),b(Je.message||"Failed to upload file. Please try again."),r(!1),h(!1),g(0)}},we=()=>{m.current.click()};return w.jsxs("div",{className:`file-upload ${l?"dragging":""}`,onDragOver:A,onDragLeave:x,onDrop:U,children:[w.jsx("input",{type:"file",onChange:F,style:{display:"none"},ref:m}),s?w.jsxs("div",{className:"upload-progress",children:[w.jsx("div",{className:"progress-bar",children:w.jsx("div",{className:"progress-bar-fill",style:{width:`${_}%`}})}),w.jsxs("p",{className:"mt-2",children:["Uploading... ",_,"%"]})]}):w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"upload-icon",children:""}),w.jsx("p",{children:"Drag & drop a file here, or"}),w.jsx("button",{className:"btn btn-primary mt-3",onClick:we,children:"Browse Files"}),E&&w.jsx("p",{className:"error-message mt-2",children:E})]})]})}function $A(){const{files:l,setFiles:n,isLoading:s,setIsLoading:r}=ne.useContext(rn),[u,f]=ne.useState(null),[h,m]=ne.useState(!1);ne.useEffect(()=>{(async()=>{try{r(!0);const re=await XA();n(re||[])}catch(re){console.error("Error fetching files:",re),alert("Failed to fetch files. Please refresh the page.")}finally{r(!1)}})()},[n,r]);const _=k=>{const re=document.createElement("a");re.href=k.data,re.download=k.name,document.body.appendChild(re),re.click(),document.body.removeChild(re)},g=k=>{f(k),m(!0)},E=()=>{m(!1),f(null)},b=async k=>{if(window.confirm(`Are you sure you want to delete ${k.name}?`))try{r(!0),await PA(k),n(l.filter(re=>re.id!==k.id))}catch(re){console.error("Error deleting file:",re),alert("Failed to delete file. Please try again.")}finally{r(!1)}};if(s&&l.length===0)return w.jsxs("div",{className:"flex-center",children:[w.jsx("div",{className:"spinner"}),w.jsx("p",{className:"ml-2",children:"Loading files..."})]});if(l.length===0)return w.jsxs("div",{className:"empty-state",children:[w.jsx("div",{className:"empty-state-icon",children:""}),w.jsx("h3",{children:"No files yet"}),w.jsx("p",{children:"Upload some files to get started"})]});const A=k=>k.includes("image")?"":k.includes("audio")?"":k.includes("video")?"":k.includes("pdf")?"":k.includes("word")||k.includes("document")?"":k.includes("excel")||k.includes("spreadsheet")?"":k.includes("powerpoint")||k.includes("presentation")?"":k.includes("zip")||k.includes("compressed")?"":"",x=k=>{if(k===0)return"0 Bytes";const re=["Bytes","KB","MB","GB","TB"],we=Math.floor(Math.log(k)/Math.log(1024));return`${parseFloat((k/Math.pow(1024,we)).toFixed(2))} ${re[we]}`},U=k=>k.type.includes("image")?w.jsx("div",{className:"file-preview",children:w.jsx("img",{src:k.data,alt:k.name,className:"file-image-preview"})}):null,F=()=>u?u.type.includes("image")?w.jsx("img",{src:u.data,alt:u.name,className:"file-viewer-img"}):u.type.includes("pdf")?w.jsx("object",{data:u.data,type:"application/pdf",width:"100%",height:"500px",className:"file-viewer-object",children:w.jsxs("p",{children:["Unable to display PDF. ",w.jsx("a",{href:u.data,download:u.name,children:"Download"})," instead."]})}):u.type.includes("audio")?w.jsxs("audio",{controls:!0,className:"file-viewer-audio",children:[w.jsx("source",{src:u.data,type:u.type}),"Your browser does not support the audio element."]}):u.type.includes("video")?w.jsxs("video",{controls:!0,className:"file-viewer-video",children:[w.jsx("source",{src:u.data,type:u.type}),"Your browser does not support the video element."]}):u.type.includes("text")?w.jsxs("div",{className:"file-viewer-text",children:[w.jsx("p",{children:"Text preview not available. Please download the file."}),w.jsx("button",{className:"btn btn-primary mt-3",onClick:()=>_(u),children:"Download File"})]}):w.jsxs("div",{className:"file-viewer-unsupported",children:[w.jsx("div",{className:"file-icon-large",children:A(u.type)}),w.jsx("p",{children:"This file type cannot be previewed."}),w.jsx("button",{className:"btn btn-primary mt-3",onClick:()=>_(u),children:"Download File"})]}):null;return w.jsxs("div",{className:"files-list",children:[l.map(k=>w.jsxs("div",{className:"file-card",children:[w.jsx("div",{className:"file-icon",children:A(k.type)}),w.jsxs("div",{className:"file-info",children:[w.jsx("h3",{className:"file-title",onClick:()=>g(k),title:"Click to view file",children:k.name}),w.jsxs("p",{className:"file-meta",children:[x(k.size),"  ",new Date(k.createdAt).toLocaleDateString()]}),U(k)]}),w.jsxs("div",{className:"file-actions",children:[w.jsx("button",{className:"btn btn-primary",onClick:()=>_(k),"aria-label":"Download file",title:"Download file",children:""}),w.jsx("button",{className:"btn btn-danger",onClick:()=>b(k),"aria-label":"Delete file",title:"Delete file",children:""})]})]},k.id)),h&&u&&w.jsx("div",{className:"modal-backdrop",onClick:E,children:w.jsxs("div",{className:"file-viewer-modal",onClick:k=>k.stopPropagation(),children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:u.name}),w.jsx("button",{className:"modal-close",onClick:E,"aria-label":"Close",children:""})]}),w.jsx("div",{className:"modal-body",children:F()}),w.jsx("div",{className:"modal-footer",children:w.jsx("button",{className:"btn btn-primary",onClick:()=>_(u),children:"Download"})})]})})]})}function JA(){const[l,n]=ne.useState(!1),[s,r]=ne.useState(""),[u,f]=ne.useState(""),[h,m]=ne.useState(""),[_,g]=ne.useState(!1),{links:E,setLinks:b,setIsLoading:A}=ne.useContext(rn),x=async U=>{if(U.preventDefault(),!s||!u){alert("Title and URL are required.");return}try{g(!0),A(!0);const F={title:s,url:u,description:h},k=await GA(F);b([...E,{...F,id:k,createdAt:new Date().toISOString()}]),r(""),f(""),m(""),n(!1)}catch(F){console.error("Error saving link:",F),alert("Failed to save link. Please try again.")}finally{g(!1),A(!1)}};return w.jsx("div",{className:"link-form-container",children:l?w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:"Add Link"}),w.jsx("button",{className:"modal-close",onClick:()=>n(!1),disabled:_,children:""})]}),w.jsxs("form",{onSubmit:x,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"title",children:"Title"}),w.jsx("input",{type:"text",id:"title",className:"form-control",value:s,onChange:U=>r(U.target.value),required:!0,disabled:_})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"url",children:"URL"}),w.jsx("input",{type:"url",id:"url",className:"form-control",value:u,onChange:U=>f(U.target.value),required:!0,disabled:_,placeholder:"https://example.com"})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"description",children:"Description (optional)"}),w.jsx("textarea",{id:"description",className:"form-control",value:h,onChange:U=>m(U.target.value),disabled:_,rows:"3"})]}),w.jsxs("div",{className:"flex-between",children:[w.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n(!1),disabled:_,children:"Cancel"}),w.jsx("button",{type:"submit",className:"btn btn-primary",disabled:_,children:_?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"spinner"}),w.jsx("span",{children:"Saving..."})]}):"Save Link"})]})]})]}):w.jsx("button",{className:"btn btn-primary mb-4",onClick:()=>n(!0),children:"Add New Link"})})}function eN(){const{links:l,setLinks:n,isLoading:s,setIsLoading:r}=ne.useContext(rn);ne.useEffect(()=>{(async()=>{try{r(!0);const h=await FA();n(h)}catch(h){console.error("Error fetching links:",h),alert("Failed to fetch links. Please refresh the page.")}finally{r(!1)}})()},[n,r]);const u=async f=>{if(window.confirm(`Are you sure you want to delete "${f.title}"?`))try{r(!0),await KA(f.id),n(l.filter(h=>h.id!==f.id))}catch(h){console.error("Error deleting link:",h),alert("Failed to delete link. Please try again.")}finally{r(!1)}};return s&&l.length===0?w.jsxs("div",{className:"flex-center",children:[w.jsx("div",{className:"spinner"}),w.jsx("p",{className:"ml-2",children:"Loading links..."})]}):w.jsxs("div",{className:"links-container",children:[w.jsx(JA,{}),l.length===0?w.jsxs("div",{className:"empty-state",children:[w.jsx("div",{className:"empty-state-icon",children:""}),w.jsx("h3",{children:"No links yet"}),w.jsx("p",{children:"Add some links to get started"})]}):w.jsx("div",{className:"grid",children:l.map(f=>w.jsxs("div",{className:"card link-card",children:[w.jsx("h3",{children:f.title}),f.description&&w.jsx("p",{children:f.description}),w.jsxs("div",{className:"flex-between mt-3",children:[w.jsx("a",{href:f.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary",children:"Visit"}),w.jsx("button",{className:"btn btn-danger",onClick:()=>u(f),children:"Delete"})]}),w.jsx("div",{className:"link-meta mt-2",children:w.jsx("small",{children:new Date(f.createdAt).toLocaleDateString()})})]},f.id))})]})}function tN(){const[l,n]=ne.useState(!1),[s,r]=ne.useState(""),[u,f]=ne.useState(""),[h,m]=ne.useState(!1),{notes:_,setNotes:g,setIsLoading:E}=ne.useContext(rn),b=async A=>{if(A.preventDefault(),!s||!u){alert("Title and content are required.");return}try{m(!0),E(!0);const x={title:s,content:u},U=await YA(x);g([..._,{...x,id:U,createdAt:new Date().toISOString()}]),r(""),f(""),n(!1)}catch(x){console.error("Error saving note:",x),alert("Failed to save note. Please try again.")}finally{m(!1),E(!1)}};return w.jsx("div",{className:"note-form-container",children:l?w.jsxs("div",{className:"card",children:[w.jsxs("div",{className:"modal-header",children:[w.jsx("h2",{children:"Add Note"}),w.jsx("button",{className:"modal-close",onClick:()=>n(!1),disabled:h,children:""})]}),w.jsxs("form",{onSubmit:b,children:[w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"title",children:"Title"}),w.jsx("input",{type:"text",id:"title",className:"form-control",value:s,onChange:A=>r(A.target.value),required:!0,disabled:h})]}),w.jsxs("div",{className:"form-group",children:[w.jsx("label",{htmlFor:"content",children:"Content"}),w.jsx("textarea",{id:"content",className:"form-control",value:u,onChange:A=>f(A.target.value),required:!0,disabled:h,rows:"5"})]}),w.jsxs("div",{className:"flex-between",children:[w.jsx("button",{type:"button",className:"btn btn-secondary",onClick:()=>n(!1),disabled:h,children:"Cancel"}),w.jsx("button",{type:"submit",className:"btn btn-primary",disabled:h,children:h?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"spinner"}),w.jsx("span",{children:"Saving..."})]}):"Save Note"})]})]})]}):w.jsx("button",{className:"btn btn-primary mb-4",onClick:()=>n(!0),children:"Add New Note"})})}function nN(){const{notes:l,setNotes:n,isLoading:s,setIsLoading:r}=ne.useContext(rn);ne.useEffect(()=>{(async()=>{try{r(!0);const h=await QA();n(h)}catch(h){console.error("Error fetching notes:",h),alert("Failed to fetch notes. Please refresh the page.")}finally{r(!1)}})()},[n,r]);const u=async f=>{if(window.confirm(`Are you sure you want to delete "${f.title}"?`))try{r(!0),await ZA(f.id),n(l.filter(h=>h.id!==f.id))}catch(h){console.error("Error deleting note:",h),alert("Failed to delete note. Please try again.")}finally{r(!1)}};return s&&l.length===0?w.jsxs("div",{className:"flex-center",children:[w.jsx("div",{className:"spinner"}),w.jsx("p",{className:"ml-2",children:"Loading notes..."})]}):w.jsxs("div",{className:"notes-container",children:[w.jsx(tN,{}),l.length===0?w.jsxs("div",{className:"empty-state",children:[w.jsx("div",{className:"empty-state-icon",children:""}),w.jsx("h3",{children:"No notes yet"}),w.jsx("p",{children:"Add some notes to get started"})]}):w.jsx("div",{className:"grid",children:l.map(f=>w.jsxs("div",{className:"card note-card",children:[w.jsx("h3",{children:f.title}),w.jsx("p",{className:"note-content",children:f.content}),w.jsxs("div",{className:"flex-between mt-3",children:[w.jsx("small",{children:new Date(f.createdAt).toLocaleDateString()}),w.jsx("button",{className:"btn btn-danger",onClick:()=>u(f),children:"Delete"})]})]},f.id))})]})}function iN(){const{currentTab:l}=ne.useContext(rn),n=()=>{switch(l){case"files":return w.jsxs(w.Fragment,{children:[w.jsx(WA,{}),w.jsx($A,{})]});case"links":return w.jsx(eN,{});case"notes":return w.jsx(nN,{});default:return null}};return w.jsxs("div",{className:"app-container",children:[w.jsx(Nb,{}),w.jsxs("main",{className:"container",children:[w.jsx(wb,{}),n()]})]})}function lN(){return w.jsx(Ab,{children:w.jsx(iN,{})})}Cb.createRoot(document.getElementById("root")).render(w.jsx(ne.StrictMode,{children:w.jsx(lN,{})}));
